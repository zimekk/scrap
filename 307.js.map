{"version":3,"file":"307.js","mappings":"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","sources":["webpack://@dev/web/./src/containers/HotShots/styles.module.scss?1644","webpack://@dev/web/./src/containers/HotShots/index.tsx","webpack://@dev/web/./src/containers/HotShots/styles.module.scss","webpack://@dev/web/../../node_modules/rxjs/dist/esm5/internal/operators/debounceTime.js","webpack://@dev/web/../../node_modules/rxjs/dist/esm5/internal/operators/distinctUntilChanged.js","webpack://@dev/web/../../node_modules/rxjs/dist/esm5/internal/operators/map.js"],"sourcesContent":["\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./styles.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./styles.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, {\n  ChangeEventHandler,\n  useCallback,\n  useEffect,\n  useMemo,\n  useState,\n} from \"react\";\nimport { Subject } from \"rxjs\";\nimport { debounceTime, distinctUntilChanged, map } from \"rxjs/operators\";\nimport IntlMessageFormat from \"intl-messageformat\";\nimport { createAsset } from \"use-asset\";\nimport { format } from \"date-fns\";\nimport type { ItemType } from \"@dev/cli/src/services/HotShotService/types\";\nimport { Gallery } from \"../../components/Gallery\";\nimport { Link } from \"../../components/Link\";\nimport styles from \"./styles.module.scss\";\n\n// https://github.com/pmndrs/use-asset#dealing-with-async-assets\nconst asset = createAsset(async (version) => {\n  const res = await fetch(`api/hot-shots/data.json?${version}`);\n  return await res.json();\n});\n\nconst getPercentage = ({\n  Price,\n  OldPrice = Price,\n}: {\n  Price: number;\n  OldPrice: number;\n}) => (1 - Price / OldPrice) * 100;\n\nfunction Product({ item }: { item: ItemType }) {\n  return (\n    <div className={styles.Product}>\n      <Gallery\n        className={styles.Gallery}\n        images={item.Product.Photos.map(({ ThumbnailUrl }) => ThumbnailUrl)}\n        srcSet={item.Product.Photos.map(({ Url }) => Url)}\n      />\n      <div>{format(new Date(item.PromotionEnd), \"yyyy-MM-dd HH:mm\")}</div>\n      <div>\n        <Link\n          href={item.Product.WebUrl}\n        >{`[${item.Product.Id}] ${item.Product.Name}`}</Link>\n        {/* <div>\n          <span className={styles.Rates}>\n            {item.rate_count\n              ? `${new Intl.NumberFormat(\"pl-PL\", {}).format(\n                  item.rate\n                )} (${new IntlMessageFormat(\n                  `{rate_count, plural,\n                one {# opinia}\n                few {# opinie}\n                many {# opinii}\n                other {# opinii}\n              }`,\n                  \"pl-PL\"\n                ).format(item)})`\n              : `Brak opinii`}\n          </span>\n        </div> */}\n        <div>\n          {item.OldPrice ? (\n            <span className={styles.PreviousPrice}>{`${new Intl.NumberFormat(\n              \"pl-PL\",\n              {\n                minimumFractionDigits: 2,\n              }\n            ).format(item.OldPrice)} PLN`}</span>\n          ) : null}\n          <span className={styles.Price}>{`${new Intl.NumberFormat(\"pl-PL\", {\n            minimumFractionDigits: 2,\n          }).format(item.Price)} PLN`}</span>\n          {item.OldPrice ? (\n            <span className={styles.Percentage}>{`(${new Intl.NumberFormat(\n              \"pl-PL\",\n              {\n                maximumFractionDigits: 2,\n              }\n            ).format(getPercentage(item))}%)`}</span>\n          ) : null}\n        </div>\n        <div>{item.PromotionName}</div>\n        <div>{item.PromotionGainText}</div>\n        {/* <pre>{JSON.stringify(item, null, 2)}</pre> */}\n      </div>\n    </div>\n  );\n}\n\nconst PRODUCTS_LIMIT = 3;\n\nfunction Products({ products }: { products: ItemType[] }) {\n  const [more, setMore] = useState(() =>\n    products.length > PRODUCTS_LIMIT ? false : true\n  );\n\n  return (\n    <div>\n      {(more ? products : products.slice(0, PRODUCTS_LIMIT)).map(\n        (item, key) => (\n          <div key={key} className={styles.Row}>\n            <Product item={item} />\n          </div>\n        )\n      )}\n      {more === false && (\n        <Link onClick={(e) => (e.preventDefault(), setMore(true))}>\n          {`${products.length - PRODUCTS_LIMIT} więcej...`}\n        </Link>\n      )}\n    </div>\n  );\n}\n\nfunction Results({ results, queries }: { results: ItemType[]; queries: any }) {\n  return (\n    <Products\n      products={results.filter(\n        (item) =>\n          (queries.search === \"\" ||\n            item.PromotionName.toLowerCase().match(queries.search)) &&\n          (queries.reduce === 0 || queries.reduce <= getPercentage(item))\n      )}\n    />\n  );\n}\n\n// {/* <div>\n//       {results\n//         .filter(\n//           (item) => (queries.search === \"\" && queries.reduce === 0) || item.data\n//         )\n//         .map(({ name, desc, href, data }, key) => (\n//           <div key={key}>\n//             <h4>\n//               <Link href={href}>{name}</Link>\n//               {data &&\n//                 data.general &&\n//                 (({ date_start, date_stop }) =>\n//                   ` (${format(\n//                     new Date(date_start),\n//                     \"yyyy-MM-dd HH:mm\"\n//                   )} - ${format(new Date(date_stop), \"yyyy-MM-dd HH:mm\")})`)(\n//                   data.general\n//                 )}\n//             </h4>\n//             <p>{desc}</p>\n//           </div>\n//         ))}\n//     </div> */}\n\nconst REDUCE_LIST = [0, 10, 20, 30, 50, 70, 90];\n\nfunction Filters({ filters, setFilters }: { filters: any; setFilters: any }) {\n  return (\n    <fieldset>\n      <label>\n        <span>Search</span>\n        <input\n          type=\"search\"\n          value={filters.search}\n          onChange={useCallback<ChangeEventHandler<HTMLInputElement>>(\n            ({ target }) =>\n              setFilters((filters) => ({\n                ...filters,\n                search: target.value,\n              })),\n            []\n          )}\n        />\n      </label>{\" \"}\n      <label>\n        <span>Reduce</span>\n        <input\n          type=\"range\"\n          list=\"reduce-list\"\n          min={REDUCE_LIST[0]}\n          max={[...REDUCE_LIST].pop()}\n          value={filters.reduce}\n          onChange={useCallback<ChangeEventHandler<HTMLInputElement>>(\n            ({ target }) =>\n              setFilters((filters) => ({\n                ...filters,\n                reduce: Number(target.value),\n              })),\n            []\n          )}\n        />\n        <datalist id=\"reduce-list\">\n          {REDUCE_LIST.map((value) => (\n            <option\n              key={value}\n              value={value}\n              label={REDUCE_LIST.includes(value) ? `${value}%` : undefined}\n            ></option>\n          ))}\n        </datalist>\n        <span>{`${filters.reduce}%`}</span>\n      </label>\n    </fieldset>\n  );\n}\n\nexport default function Section({ version = \"v1\" }) {\n  const { results } = asset.read(version) as {\n    results: ItemType[];\n  };\n\n  const [filters, setFilters] = useState(() => ({\n    reduce: REDUCE_LIST[0],\n    search: \"\",\n  }));\n\n  const [queries, setQueries] = useState(() => filters);\n\n  const search$ = useMemo(() => new Subject<any>(), []);\n\n  useEffect(() => {\n    const subscription = search$\n      .pipe(\n        map(({ search, ...filters }) =>\n          JSON.stringify({\n            ...queries,\n            ...filters,\n            search: search.toLowerCase().trim(),\n          })\n        ),\n        distinctUntilChanged(),\n        debounceTime(400)\n      )\n      .subscribe((filters) =>\n        setQueries((queries) => ({ ...queries, ...JSON.parse(filters) }))\n      );\n    return () => subscription.unsubscribe();\n  }, [search$]);\n\n  useEffect(() => {\n    search$.next(filters);\n  }, [filters]);\n\n  console.log({ results, filters, queries });\n\n  return (\n    <div className={styles.Section}>\n      <h2>HotShots</h2>\n      <Filters filters={filters} setFilters={setFilters} />\n      <Results results={results} queries={queries} />\n    </div>\n  );\n}\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".zOOTwrxUsqbquSORKdJR{color:purple;padding:1em}.WDAws0x0CCmqB4jbarop{position:relative;clear:both;min-height:66px;padding:.5em 1em .5em calc(100px + 1em);border-top:1px solid #d3d3d3}.GWhCKgf2fnvnxuu4GDwm{position:absolute;top:.5em;left:.5em;width:95px;height:80px;border:1px solid #d3d3d3}.e7Pvu3YWwmq7OOHa0eOv .zPANLvlPfGOesUSMjyYl{text-decoration:line-through;color:#d3d3d3}.e7Pvu3YWwmq7OOHa0eOv .zPANLvlPfGOesUSMjyYl+.cBfJNY6C_NSy8CdiTztY{margin-left:.5em}.e7Pvu3YWwmq7OOHa0eOv .cBfJNY6C_NSy8CdiTztY+.TibU2ap1KG6VfR8wqJfG{margin-left:.5em}.e7Pvu3YWwmq7OOHa0eOv .mWhOwBUwdb6SL05z00Qc{color:gray}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/containers/HotShots/styles.module.scss\"],\"names\":[],\"mappings\":\"AAAA,sBACE,YAAA,CACA,WAAA,CAEF,sBACE,iBAAA,CACA,UAAA,CACA,eAAA,CACA,uCAAA,CACA,4BAAA,CAEF,sBACE,iBAAA,CACA,QAAA,CACA,SAAA,CACA,UAAA,CACA,WAAA,CACA,wBAAA,CAGA,4CACE,4BAAA,CACA,aAAA,CACA,kEACE,gBAAA,CAIF,kEACE,gBAAA,CAGJ,4CACE,UAAA\",\"sourcesContent\":[\".Section {\\n  color: purple;\\n  padding: 1em;\\n}\\n.Row {\\n  position: relative;\\n  clear: both;\\n  min-height: 66px;\\n  padding: 0.5em 1em 0.5em calc(100px + 1em);\\n  border-top: 1px solid lightgray;\\n}\\n.Gallery {\\n  position: absolute;\\n  top: 0.5em;\\n  left: 0.5em;\\n  width: 95px;\\n  height: 80px;\\n  border: 1px solid lightgray;\\n}\\n.Product {\\n  .PreviousPrice {\\n    text-decoration: line-through;\\n    color: lightgray;\\n    & + .Price {\\n      margin-left: 0.5em;\\n    }\\n  }\\n  .Price {\\n    & + .Percentage {\\n      margin-left: 0.5em;\\n    }\\n  }\\n  .Rates {\\n    color: gray;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"Section\": \"zOOTwrxUsqbquSORKdJR\",\n\t\"Row\": \"WDAws0x0CCmqB4jbarop\",\n\t\"Gallery\": \"GWhCKgf2fnvnxuu4GDwm\",\n\t\"Product\": \"e7Pvu3YWwmq7OOHa0eOv\",\n\t\"PreviousPrice\": \"zPANLvlPfGOesUSMjyYl\",\n\t\"Price\": \"cBfJNY6C_NSy8CdiTztY\",\n\t\"Percentage\": \"TibU2ap1KG6VfR8wqJfG\",\n\t\"Rates\": \"mWhOwBUwdb6SL05z00Qc\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","import { asyncScheduler } from '../scheduler/async';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function debounceTime(dueTime, scheduler) {\n    if (scheduler === void 0) { scheduler = asyncScheduler; }\n    return operate(function (source, subscriber) {\n        var activeTask = null;\n        var lastValue = null;\n        var lastTime = null;\n        var emit = function () {\n            if (activeTask) {\n                activeTask.unsubscribe();\n                activeTask = null;\n                var value = lastValue;\n                lastValue = null;\n                subscriber.next(value);\n            }\n        };\n        function emitWhenIdle() {\n            var targetTime = lastTime + dueTime;\n            var now = scheduler.now();\n            if (now < targetTime) {\n                activeTask = this.schedule(undefined, targetTime - now);\n                subscriber.add(activeTask);\n                return;\n            }\n            emit();\n        }\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n            lastValue = value;\n            lastTime = scheduler.now();\n            if (!activeTask) {\n                activeTask = scheduler.schedule(emitWhenIdle, dueTime);\n                subscriber.add(activeTask);\n            }\n        }, function () {\n            emit();\n            subscriber.complete();\n        }, undefined, function () {\n            lastValue = activeTask = null;\n        }));\n    });\n}\n//# sourceMappingURL=debounceTime.js.map","import { identity } from '../util/identity';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function distinctUntilChanged(comparator, keySelector) {\n    if (keySelector === void 0) { keySelector = identity; }\n    comparator = comparator !== null && comparator !== void 0 ? comparator : defaultCompare;\n    return operate(function (source, subscriber) {\n        var previousKey;\n        var first = true;\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n            var currentKey = keySelector(value);\n            if (first || !comparator(previousKey, currentKey)) {\n                first = false;\n                previousKey = currentKey;\n                subscriber.next(value);\n            }\n        }));\n    });\n}\nfunction defaultCompare(a, b) {\n    return a === b;\n}\n//# sourceMappingURL=distinctUntilChanged.js.map","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function map(project, thisArg) {\n    return operate(function (source, subscriber) {\n        var index = 0;\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n            subscriber.next(project.call(thisArg, value, index++));\n        }));\n    });\n}\n//# sourceMappingURL=map.js.map"],"names":["options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","undefined","asset","createAsset","version","fetch","res","json","getPercentage","Price","OldPrice","Product","item","className","styles","Gallery","images","Photos","map","ThumbnailUrl","srcSet","Url","format","Date","PromotionEnd","Link","href","WebUrl","Id","Name","Intl","NumberFormat","minimumFractionDigits","maximumFractionDigits","PromotionName","PromotionGainText","Products","products","useState","length","more","setMore","slice","key","onClick","e","preventDefault","Results","results","queries","filter","search","toLowerCase","match","reduce","REDUCE_LIST","Filters","filters","setFilters","type","value","onChange","useCallback","target","list","min","max","pop","Number","id","label","includes","Section","read","setQueries","search$","useMemo","Subject","useEffect","subscription","pipe","JSON","stringify","trim","distinctUntilChanged","debounceTime","subscribe","parse","unsubscribe","next","console","log","___CSS_LOADER_EXPORT___","push","module","locals","dueTime","scheduler","source","subscriber","activeTask","lastValue","lastTime","emit","emitWhenIdle","targetTime","now","this","schedule","add","complete","comparator","keySelector","defaultCompare","previousKey","first","currentKey","a","b","project","thisArg","index","call"],"sourceRoot":""}