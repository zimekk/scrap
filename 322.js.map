{"version":3,"file":"322.js","mappings":"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","sources":["webpack://@dev/web/./src/containers/Properties/Map.module.scss?ccac","webpack://@dev/web/./src/containers/Properties/Map.tsx","webpack://@dev/web/./src/containers/Properties/utils.ts","webpack://@dev/web/./src/containers/Properties/styles.module.scss?a2d4","webpack://@dev/web/./src/containers/Properties/index.tsx","webpack://@dev/web/./src/containers/Properties/Map.module.scss","webpack://@dev/web/./src/containers/Properties/styles.module.scss"],"sourcesContent":["\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./Map.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./Map.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, { useEffect, useMemo } from \"react\";\nimport L from \"leaflet\";\nimport { Marker, MapContainer, TileLayer, Popup } from \"react-leaflet\";\nimport MarkerClusterGroup from \"react-leaflet-cluster\";\nimport { format } from \"date-fns\";\nimport { DraggableMarker, LocateControl } from \"../../components/Map\";\nimport { Gallery } from \"../../components/Gallery\";\nimport { Link } from \"../../components/Link\";\nimport cx from \"classnames\";\nimport styles from \"./Map.module.scss\";\n\nfunction Summary({\n  id,\n  onSelect,\n  canonical,\n  distance,\n  price,\n  title,\n  images,\n  _address,\n  _created,\n  _updated,\n  _checked,\n}: {\n  id: string;\n  onSelect: Function;\n  canonical: string;\n  distance: number;\n  price: number;\n  title: string;\n  images: string[];\n  _address: string[];\n  _created: number;\n  _updated?: number;\n  _checked?: number;\n}) {\n  return (\n    <div className={styles.Summary}>\n      <Gallery className={styles.Gallery} images={images} />\n      <h3>\n        [<Link onClick={(e) => (e.preventDefault(), onSelect(id))}>{id}</Link>]{\" \"}\n        <Link href={canonical}>{title}</Link> <span>({distance} km)</span>\n      </h3>\n      <div>\n        {format(_created, \"yyyy-MM-dd HH:mm\")}\n        {_updated && ` updated: ${format(_updated, \"yyyy-MM-dd HH:mm\")}`}\n        {_checked && ` checked: ${format(_checked, \"yyyy-MM-dd HH:mm\")}`}\n      </div>\n      <h4>{`${new Intl.NumberFormat().format(price)} PLN`}</h4>\n      {_address && <h6>{_address.join(\" / \")}</h6>}\n    </div>\n  );\n}\n\nexport function useBounds(list: { position: L.LatLng }[]) {\n  return useMemo(\n    () =>\n      L.featureGroup(\n        list.map(({ position: { lat, lng } }) => L.marker([lat, lng]))\n      ).getBounds(),\n    []\n  );\n}\n\nexport default function Map({ bounds, center, setCenter, list, onSelect }) {\n  // https://stackoverflow.com/questions/40719689/how-to-include-leaflet-css-in-a-react-app-with-webpack\n  useEffect(() => {\n    delete L.Icon.Default.prototype._getIconUrl;\n    L.Icon.Default.mergeOptions({\n      iconRetinaUrl: require(\"leaflet/dist/images/marker-icon-2x.png\").default,\n      iconUrl: require(\"leaflet/dist/images/marker-icon.png\").default,\n      shadowUrl: require(\"leaflet/dist/images/marker-shadow.png\").default,\n    });\n  }, []);\n  // const [map, setMap] = useState<L.Map | null>(null);\n\n  const displayMap = useMemo(\n    () => (\n      <MapContainer\n        bounds={bounds}\n        // whenCreated={setMap}\n        zoom={13}\n        className={cx(styles.Map)}\n      >\n        <TileLayer\n          attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        />\n        <DraggableMarker position={center} setPosition={setCenter}>\n          {`${center.lat},${center.lng}`}\n        </DraggableMarker>\n        <MarkerClusterGroup chunkedLoading>\n          {list.map(({ id, position, _like, _hide, ...item }) => (\n            <Marker\n              key={id}\n              position={position}\n              icon={\n                new L.Icon({\n                  iconUrl:\n                    item.images.length > 0\n                      ? item.images[0]\n                      : require(\"leaflet/dist/images/marker-icon.png\").default,\n                  iconSize: [48, 48],\n                })\n              }\n              // className={cx(\n              //   styles.Circle,\n              //   _like && styles.Like,\n              //   _hide && styles.Hide\n              // )}\n            >\n              <Popup minWidth={400}>\n                <Summary\n                  id={id}\n                  onSelect={onSelect}\n                  distance={center.distanceTo(position).toFixed(0) / 1000}\n                  {...item}\n                />\n              </Popup>\n            </Marker>\n          ))}\n        </MarkerClusterGroup>\n        {/* <MarkerCluster markers={list} /> */}\n        <LocateControl />\n      </MapContainer>\n    ),\n    [list, center]\n  );\n\n  // https://react-leaflet.js.org/docs/start-setup/\n  return (\n    <div\n      className={cx(styles.Layout)}\n      onClick={(e) =>\n        ((a) => a && a.getAttribute(\"href\") === \"#close\" && e.preventDefault())(\n          (e.target as Element).closest(\"a\")\n        )\n      }\n    >\n      {displayMap}\n    </div>\n  );\n}\n","import { z } from \"zod\";\n\nexport const prepareItem = (item: any) =>\n  z\n    .object({\n      address: z.record(z.string(), z.union([z.string(), z.number()])),\n      id: z.string(),\n      information: z\n        .array(\n          z.object({\n            label: z.string(),\n            unit: z.string(),\n            values: z.array(z.string()),\n          })\n        )\n        .optional(),\n      location: z.array(z.string()),\n      parameters: z.array(\n        z.object({\n          label: z.string(),\n          value: z.string(),\n        })\n      ),\n    })\n    .transform(({ parameters, ...item }) => ({\n      parameters: parameters.concat(\n        item.information\n          ? item.information\n              .filter(({ values }) => values.length > 0)\n              .map(({ label, values, unit }) => ({\n                label,\n                value: values.join(\", \").concat(unit),\n              }))\n          : []\n      ),\n      ...item,\n    }))\n    .transform((item) => ({\n      ...item,\n      _information: item.information\n        ? item.information\n            .filter(({ values }) => values.length > 0)\n            .reduce(\n              (result, { label, values }) =>\n                Object.assign(result, { [label]: values }),\n              {}\n            )\n        : null,\n      _parameters: item.parameters.reduce(\n        (result, { label, value }) => Object.assign(result, { [label]: value }),\n        {}\n      ),\n    }))\n    .transform(\n      ({\n        address,\n        location,\n        parameters,\n        _information,\n        _parameters,\n      }: {\n        address: any;\n        location: any[];\n        parameters: any;\n        _information: any;\n        _parameters: any;\n      }) =>\n        // Boolean(console.log(item)) ||\n        ({\n          _area: Number(\n            _information?.area?.length\n              ? _information.area[0]\n              : _parameters[\"Powierzchnia w m2\"]\n                  ?.replace(/^([\\d\\s]+) m2$/g, \"$1\")\n                  .replace(/\\s/, \"\") || 0\n          ),\n          _terrain_area: Number(\n            _information?.terrain_area?.length\n              ? _information.terrain_area[0]\n              : _parameters[\"Powierzchnia działki w m2\"]\n                  ?.replace(/^([\\d\\s]+) m2$/g, \"$1\")\n                  .replace(/\\s/, \"\") || 0\n          ),\n          _address: address\n            ? [\n                \"lokalizacja_kraj\",\n                \"lokalizacja_region\",\n                \"lokalizacja_powiat\",\n                \"lokalizacja_gmina\",\n                \"lokalizacja_miejscowosc\",\n                \"lokalizacja_ulica\",\n              ]\n                .map((key) => address[key])\n                .filter(Boolean)\n            : null,\n          _location: location.join(\", \"),\n          road: _information?.access_types?.length\n            ? _information.access_types?.map(\n                (value: string) =>\n                  ({\n                    \"access_types::asphalt\": \"asfaltowa\",\n                    \"access_types::dirt\": \"polna\",\n                    \"access_types::hard_surfaced\": \"utwardzana\",\n                    \"access_types::soft_surfaced\": \"nieutwardzona\",\n                  }[value] || console.log({ value }))\n              )[0]\n            : _parameters[\"Droga dojazdowa\"],\n          building: _information?.building_type?.length\n            ? _information.building_type?.map(\n                (value: string) =>\n                  ({\n                    \"building_type::detached\": \"wolnostojący\",\n                    \"building_type::ribbon\": \"szeregowy\",\n                    \"building_type::semi_detached\": \"bliźniak\",\n                    \"building_type::residence\": \"pałac/dworek/willa\",\n                    \"building_type::tenement\": \"kamienica\",\n                  }[value] || console.log({ value }))\n              )[0]\n            : _parameters[\"Typ budynku\"],\n          parameters,\n          coordinates:\n            item.coordinates ||\n            (address[\"lokalizacja_szerokosc-geograficzna-y\"]\n              ? {\n                  latitude: address[\"lokalizacja_szerokosc-geograficzna-y\"],\n                  longitude: address[\"lokalizacja_dlugosc-geograficzna-x\"],\n                }\n              : null),\n        })\n    )\n    .parse(item);\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./styles.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./styles.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, {\n  ChangeEvent,\n  ChangeEventHandler,\n  ReactChild,\n  useCallback,\n  useEffect,\n  useMemo,\n  useState,\n} from \"react\";\nimport { Subject } from \"rxjs\";\nimport { debounceTime, distinctUntilChanged, map } from \"rxjs/operators\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faCrosshairs,\n  faMapMarkerAlt,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport Truncate from \"react-truncate\";\nimport { format } from \"date-fns\";\nimport { createAsset } from \"use-asset\";\nimport { Gallery } from \"../../components/Gallery\";\nimport { Link } from \"../../components/Link\";\nimport Map, { useBounds } from \"./Map\";\nimport { prepareItem } from \"./utils\";\nimport cx from \"classnames\";\nimport styles from \"./styles.module.scss\";\n\nconst RADIUS_LIST = [1, 3, 5, 10, 20, 50, 100, 500];\n\nconst SORT_BY = {\n  id: 1,\n  price: 1,\n  title: 1,\n  _area: 1,\n  _terrain_area: 1,\n  _created: -1,\n  _updated: -1,\n};\n\nconst PRICE_LIST = [\n  0, 100000, 200000, 300000, 400000, 500000, 1000000, 1500000, 2000000, 2500000,\n  3000000, 4000000, 5000000,\n];\n\nconst AREA_LIST = [\n  0, 50, 100, 150, 200, 250, 300, 400, 500, 600, 700, 800, 900,\n];\n\nconst TERRAIN_AREA_LIST = [\n  0, 250, 500, 750, 1000, 1500, 2000, 2500, 3000, 3500, 4000, 5000,\n];\n\n// https://github.com/pmndrs/use-asset#dealing-with-async-assets\nconst asset = createAsset(async (version) => {\n  const res = await fetch(`api/properties/data.json?${version}`);\n  return await res.json().then(({ hide, like, results }) => ({\n    hide,\n    like,\n    results: results\n      // .filter((item: { canonical: string }) => item.canonical.match(/otodom/))\n      // .filter((item: any) => Object.keys(item._history || {}).length > 1)\n      .map((item: object) => ({ ...item, ...prepareItem(item) })),\n  }));\n});\n\nconst unify = (item: {\n  coordinates: {\n    latitude: number;\n    longitude: number;\n  } | null;\n  title: string;\n  price: number;\n  parameters: any[];\n  _updated?: number;\n}) => ({\n  ...item,\n  position: item.coordinates\n    ? {\n        lat: item.coordinates.latitude,\n        lng: item.coordinates.longitude,\n      }\n    : null,\n  _search: item.title.toLowerCase(),\n  _price: item.price,\n  _updated: item._updated || 0,\n});\n\nfunction Data({ version = \"v1\" }) {\n  const { results, hide: initialHide, like: initialLike } = asset.read(version); // As many cache keys as you need\n\n  const options = useMemo(\n    () => ({\n      category: [\"\"].concat(\n        results\n          .map(({ category }: any) => category)\n          .filter(Boolean)\n          .filter(\n            (value: any, index: number, array: any[]) =>\n              array.indexOf(value) === index\n          )\n          .sort((a: string, b: string) => a.localeCompare(b))\n      ),\n      location: [\"\"].concat(\n        results\n          .map(({ _location }: any) => _location)\n          .filter(Boolean)\n          .filter(\n            (value: any, index: number, array: any[]) =>\n              array.indexOf(value) === index\n          )\n          .sort((a: string, b: string) => a.localeCompare(b))\n      ),\n      road: [\"\"].concat(\n        results\n          .map(({ road }: any) => road)\n          .filter(\n            (value: any, index: number, array: any[]) =>\n              value !== undefined && array.indexOf(value) === index\n          )\n          .sort((a: string, b: string) => a.localeCompare(b))\n      ),\n      building: [\"\"].concat(\n        results\n          .map(({ building }: any) => building)\n          .filter(\n            (value: any, index: number, array: any[]) =>\n              value !== undefined && array.indexOf(value) === index\n          )\n          .sort((a: string, b: string) => a.localeCompare(b))\n      ),\n    }),\n    [results]\n  );\n\n  const [filters, setFilters] = useState(() => ({\n    category: options.category[0],\n    location: options.location[0],\n    road: options.road[0],\n    building: options.building[0],\n    search: \"\",\n    showHide: true,\n    onlyLike: false,\n    priceFrom: PRICE_LIST[0],\n    priceTo: PRICE_LIST[PRICE_LIST.length - 4],\n    areaFrom: AREA_LIST[0],\n    areaTo: AREA_LIST[AREA_LIST.length - 1],\n    terrainAreaFrom: TERRAIN_AREA_LIST[0],\n    terrainAreaTo: TERRAIN_AREA_LIST[TERRAIN_AREA_LIST.length - 1],\n    radius: RADIUS_LIST[RADIUS_LIST.length - 1],\n  }));\n\n  const [queries, setQueries] = useState(() => filters);\n\n  const [sortBy, setSortBy] = useState(() => Object.keys(SORT_BY)[5]);\n\n  const onChangeSortBy = useCallback(\n    ({ target }) => setSortBy(target.value),\n    []\n  );\n\n  const search$ = useMemo(() => new Subject<any>(), []);\n\n  useEffect(() => {\n    const subscription = search$\n      .pipe(\n        map(({ search, ...filters }) =>\n          JSON.stringify({ ...queries, ...filters, search: search.trim() })\n        ),\n        distinctUntilChanged(),\n        debounceTime(400)\n      )\n      .subscribe((filters) =>\n        setQueries((queries) => ({ ...queries, ...JSON.parse(filters) }))\n      );\n    return () => subscription.unsubscribe();\n  }, [search$]);\n\n  useEffect(() => {\n    search$.next(filters);\n  }, [filters]);\n\n  console.log({ options, filters, results });\n\n  const [hide, setHide] = useState<string[]>(initialHide);\n  const [like, setLike] = useState<string[]>(initialLike);\n\n  const list = useMemo(\n    () =>\n      results\n        .map(unify)\n        .filter(\n          (item: {\n            id: string;\n            category: string;\n            road: string;\n            building: string;\n            _area: number;\n            _terrain_area: number;\n            _location: string;\n            _price: number;\n            _search: string;\n          }) =>\n            (!queries.category || [item.category].includes(queries.category)) &&\n            (!queries.location ||\n              [item._location].includes(queries.location)) &&\n            (!queries.road || [item.road].includes(queries.road)) &&\n            (!queries.building || [item.building].includes(queries.building)) &&\n            (!queries.onlyLike || like.includes(item.id)) &&\n            (queries.showHide || !hide.includes(item.id)) &&\n            (item._search.match(queries.search) ||\n              queries.search === String(item.id)) &&\n            (queries.areaTo === AREA_LIST[0] ||\n              (queries.areaFrom <= item._area &&\n                item._area <= queries.areaTo)) &&\n            (queries.terrainAreaTo === TERRAIN_AREA_LIST[0] ||\n              (queries.terrainAreaFrom <= item._terrain_area &&\n                item._terrain_area <= queries.terrainAreaTo)) &&\n            (queries.priceTo === PRICE_LIST[0] ||\n              (queries.priceFrom <= item._price &&\n                item._price <= queries.priceTo))\n        ),\n    [results, queries]\n  );\n\n  const sorted = useMemo(\n    () =>\n      list.sort(\n        (a: any, b: any) =>\n          (SORT_BY as any)[sortBy] * (a[sortBy] > b[sortBy] ? 1 : -1)\n      ),\n    [list, sortBy]\n  );\n\n  const points = useMemo(\n    () => list.filter(({ position }) => Boolean(position)),\n    [list]\n  );\n\n  const bounds = useBounds(\n    // points.length\n    false\n      ? points\n      : [\n          {\n            position: {\n              lat: process.env.NEARBY_LAT,\n              lng: process.env.NEARBY_LNG,\n            },\n          },\n        ]\n  );\n  const [center, setCenter] = useState(() => bounds.getCenter());\n\n  const nearby = useMemo(\n    () =>\n      points\n        .filter(\n          ({ position }: { position: { lat: number; lng: number } }) =>\n            center.distanceTo(position) < queries.radius * 1000\n        )\n        .map((item: { id: string }) => ({\n          ...item,\n          _like: like.includes(item.id),\n          _hide: hide.includes(item.id),\n        })),\n    [points, center, queries.radius, like, hide]\n  );\n\n  const [expand, setExpand] = useState(() => ({ map: false }));\n  console.log({ points, center, queries, nearby });\n  return (\n    <div>\n      <div>\n        <Link\n          onClick={(e) => (\n            e.preventDefault(),\n            setExpand((expand) => ({ ...expand, map: !expand.map }))\n          )}\n        >\n          {expand.map ? \"Hide map\" : \"Show map\"}\n        </Link>{\" \"}\n        {expand.map && (\n          <Map\n            bounds={bounds}\n            center={center}\n            setCenter={setCenter}\n            list={nearby}\n            onSelect={(search: string) =>\n              setFilters((filters) => ({\n                ...filters,\n                search,\n              }))\n            }\n          />\n        )}\n      </div>\n      <fieldset>\n        <label>\n          <span>Category</span>\n          <select\n            value={filters.category}\n            onChange={useCallback(\n              ({ target }) =>\n                setFilters((filters) => ({\n                  ...filters,\n                  category: target.value,\n                })),\n              []\n            )}\n          >\n            {options.category.map((value) => (\n              <option key={value} value={value}>\n                {value}\n              </option>\n            ))}\n          </select>\n        </label>\n        <label>\n          <span>Search</span>\n          <input\n            type=\"search\"\n            value={filters.search}\n            onChange={useCallback(\n              ({ target }) =>\n                setFilters((filters) => ({\n                  ...filters,\n                  search: target.value,\n                })),\n              []\n            )}\n          />\n        </label>\n        <label>\n          <span>Sort</span>\n          <select value={sortBy} onChange={onChangeSortBy}>\n            {Object.entries(SORT_BY).map(([value]) => (\n              <option key={value} value={value}>\n                {value}\n              </option>\n            ))}\n          </select>\n        </label>\n        <label>\n          <input\n            type=\"checkbox\"\n            checked={filters.showHide}\n            onChange={useCallback(\n              ({ target }) =>\n                setFilters((filters) => ({\n                  ...filters,\n                  showHide: target.checked,\n                })),\n              []\n            )}\n          />\n          <span>Show hidden</span>\n        </label>\n        <label>\n          <input\n            type=\"checkbox\"\n            checked={filters.onlyLike}\n            onChange={useCallback(\n              ({ target }) =>\n                setFilters((filters) => ({\n                  ...filters,\n                  onlyLike: target.checked,\n                })),\n              []\n            )}\n          />\n          <span>Only likes</span>\n        </label>\n        <div>\n          <label>\n            <span>Location</span>\n            <select\n              value={filters.location}\n              onChange={useCallback(\n                ({ target: { value } }) =>\n                  setFilters((filters) => ({\n                    ...filters,\n                    location: value,\n                  })),\n                []\n              )}\n            >\n              {options.location.map((value) => (\n                <option key={value} value={value}>\n                  {value}\n                </option>\n              ))}\n            </select>\n          </label>\n        </div>\n        <div>\n          <label>\n            <span>Road</span>\n            <select\n              value={filters.road}\n              onChange={useCallback(\n                ({ target: { value } }) =>\n                  setFilters((filters) => ({\n                    ...filters,\n                    road: value,\n                  })),\n                []\n              )}\n            >\n              {options.road.map((value) => (\n                <option key={value} value={value}>\n                  {value}\n                </option>\n              ))}\n            </select>\n          </label>\n        </div>\n        <div>\n          <label>\n            <span>Building</span>\n            <select\n              value={filters.building}\n              onChange={useCallback(\n                ({ target: { value } }) =>\n                  setFilters((filters) => ({\n                    ...filters,\n                    building: value,\n                  })),\n                []\n              )}\n            >\n              {options.building.map((value) => (\n                <option key={value} value={value}>\n                  {value}\n                </option>\n              ))}\n            </select>\n          </label>\n        </div>\n        <div>\n          <label>\n            <span>Area From</span>\n            <input\n              type=\"range\"\n              list=\"area-list\"\n              min={AREA_LIST[0]}\n              max={AREA_LIST[AREA_LIST.length - 1]}\n              value={filters.areaFrom}\n              onChange={useCallback(\n                ({ target }) =>\n                  setFilters(({ areaTo, ...criteria }) => {\n                    const areaFrom = Number(target.value);\n                    return {\n                      ...criteria,\n                      areaFrom,\n                      areaTo: areaTo < areaFrom ? areaFrom : areaTo,\n                    };\n                  }),\n                []\n              )}\n            />\n            <datalist id=\"area-list\">\n              {AREA_LIST.map((value) => (\n                <option key={value} value={value}></option>\n              ))}\n            </datalist>\n          </label>\n          <label>\n            <span>Area To</span>\n            <input\n              type=\"range\"\n              list=\"area-list\"\n              min={AREA_LIST[0]}\n              max={AREA_LIST[AREA_LIST.length - 1]}\n              value={filters.areaTo}\n              onChange={useCallback(\n                ({ target }) =>\n                  setFilters(({ areaFrom, ...criteria }) => {\n                    const areaTo = Number(target.value);\n                    return {\n                      ...criteria,\n                      areaFrom: areaTo > areaFrom ? areaFrom : areaTo,\n                      areaTo,\n                    };\n                  }),\n                []\n              )}\n            />\n            <span>{`${new Intl.NumberFormat().format(\n              filters.areaFrom\n            )} - ${new Intl.NumberFormat().format(filters.areaTo)} m2`}</span>\n          </label>\n        </div>\n        <div>\n          <label>\n            <span>Terrain Area From</span>\n            <input\n              type=\"range\"\n              list=\"terrain-area-list\"\n              min={TERRAIN_AREA_LIST[0]}\n              max={TERRAIN_AREA_LIST[TERRAIN_AREA_LIST.length - 1]}\n              value={filters.terrainAreaFrom}\n              onChange={useCallback(\n                ({ target }) =>\n                  setFilters(({ terrainAreaTo, ...criteria }) => {\n                    const terrainAreaFrom = Number(target.value);\n                    return {\n                      ...criteria,\n                      terrainAreaFrom,\n                      terrainAreaTo:\n                        terrainAreaTo < terrainAreaFrom\n                          ? terrainAreaFrom\n                          : terrainAreaTo,\n                    };\n                  }),\n                []\n              )}\n            />\n            <datalist id=\"terrain-area-list\">\n              {TERRAIN_AREA_LIST.map((value) => (\n                <option key={value} value={value}></option>\n              ))}\n            </datalist>\n          </label>\n          <label>\n            <span>Terrain Area To</span>\n            <input\n              type=\"range\"\n              list=\"terrain-area-list\"\n              min={TERRAIN_AREA_LIST[0]}\n              max={TERRAIN_AREA_LIST[TERRAIN_AREA_LIST.length - 1]}\n              value={filters.terrainAreaTo}\n              onChange={useCallback(\n                ({ target }) =>\n                  setFilters(({ terrainAreaFrom, ...criteria }) => {\n                    const terrainAreaTo = Number(target.value);\n                    return {\n                      ...criteria,\n                      terrainAreaFrom:\n                        terrainAreaTo > terrainAreaFrom\n                          ? terrainAreaFrom\n                          : terrainAreaTo,\n                      terrainAreaTo,\n                    };\n                  }),\n                []\n              )}\n            />\n            <span>{`${new Intl.NumberFormat().format(\n              filters.terrainAreaFrom\n            )} - ${new Intl.NumberFormat().format(\n              filters.terrainAreaTo\n            )} m2`}</span>\n          </label>\n        </div>\n        <div>\n          <label>\n            <span>Price From</span>\n            <input\n              type=\"range\"\n              list=\"price-list\"\n              min={PRICE_LIST[0]}\n              max={PRICE_LIST[PRICE_LIST.length - 1]}\n              value={filters.priceFrom}\n              onChange={useCallback(\n                ({ target }) =>\n                  setFilters(({ priceTo, ...criteria }) => {\n                    const priceFrom = Number(target.value);\n                    return {\n                      ...criteria,\n                      priceFrom,\n                      priceTo: priceTo < priceFrom ? priceFrom : priceTo,\n                    };\n                  }),\n                []\n              )}\n            />\n            <datalist id=\"price-list\">\n              {PRICE_LIST.map((value) => (\n                <option key={value} value={value}></option>\n              ))}\n            </datalist>\n          </label>\n          <label>\n            <span>Price To</span>\n            <input\n              type=\"range\"\n              list=\"price-list\"\n              min={PRICE_LIST[0]}\n              max={PRICE_LIST[PRICE_LIST.length - 1]}\n              value={filters.priceTo}\n              onChange={useCallback(\n                ({ target }) =>\n                  setFilters(({ priceFrom, ...criteria }) => {\n                    const priceTo = Number(target.value);\n                    return {\n                      ...criteria,\n                      priceFrom: priceTo > priceFrom ? priceFrom : priceTo,\n                      priceTo,\n                    };\n                  }),\n                []\n              )}\n            />\n            <span>{`${new Intl.NumberFormat().format(\n              filters.priceFrom\n            )} - ${new Intl.NumberFormat().format(filters.priceTo)} PLN`}</span>\n          </label>\n        </div>\n      </fieldset>\n      <div>{`Found ${list.length} properties out of a total of ${results.length}`}</div>\n      <ol>\n        {sorted\n          .slice(0, 100)\n          .map(\n            (item: {\n              id: string;\n              images: string[];\n              canonical: string;\n              title: string;\n              price: number;\n              description: string[];\n              parameters: [{ label: string; value: string }];\n              coordinates: { latitude: number; longitude: number };\n              _address: string[];\n              _created: number;\n              _history: Record<number, { price: number }>;\n            }) => (\n              <li\n                key={item.id}\n                className={cx(\n                  styles.Row,\n                  like.includes(item.id) && styles.Like,\n                  hide.includes(item.id) && styles.Hide\n                )}\n              >\n                {!hide.includes(item.id) && (\n                  <Gallery className={styles.Gallery} images={item.images} />\n                )}\n                <Summary\n                  {...item}\n                  hide={hide}\n                  setHide={setHide}\n                  like={like}\n                  setLike={setLike}\n                />\n                {!hide.includes(item.id) && <Details {...item} />}\n                {Object.entries(item._history || {})\n                  .reverse()\n                  .map(([_updated, item]) => (\n                    <History\n                      key={_updated}\n                      _updated={Number(_updated)}\n                      {...item}\n                    />\n                  ))}\n              </li>\n            )\n          )}\n      </ol>\n    </div>\n  );\n}\n\n// https://developers.google.com/maps/documentation/urls/get-started#search-examples\nfunction Location({ coordinates: { latitude, longitude } }: any) {\n  // const link = usePlace([`${latitude},${longitude}|${canonical}`]);\n  // https://stackoverflow.com/questions/2660201/what-parameters-should-i-use-in-a-google-maps-url-to-go-to-a-lat-lon\n  const link = `//www.google.pl/maps?t=k&q=loc:${latitude}+${longitude}&hl=pl`;\n\n  return (\n    <Link href={link} rel=\"\" target=\"map\" style={{ margin: \"0 .25em\" }}>\n      <FontAwesomeIcon icon={faMapMarkerAlt} />\n    </Link>\n  );\n}\n\n// https://developers.google.com/maps/documentation/urls/get-started#directions-examples\nfunction Directions({ coordinates: { latitude, longitude } }: any) {\n  const origin = `${latitude},${longitude}`;\n  const destination = \"52.2268,20.9921\";\n  const travelmode: \"driving\" | \"walking\" | \"bicycling\" | \"transit\" = \"driving\";\n  const link = `//www.google.com/maps/dir/?api=1&origin=${encodeURIComponent(\n    origin\n  )}&destination=${encodeURIComponent(\n    destination\n  )}&travelmode=${encodeURIComponent(travelmode)}&hl=pl`;\n\n  return (\n    <Link href={link} rel=\"\" target=\"map\" style={{ margin: \"0 .25em\" }}>\n      <FontAwesomeIcon icon={faCrosshairs} />\n    </Link>\n  );\n}\n\nfunction Toggle({\n  children,\n  ...props\n}: {\n  children: ReactChild;\n  checked: boolean;\n  onChange: ChangeEventHandler;\n}) {\n  return (\n    <label>\n      <input type=\"checkbox\" {...props} />\n      <span>{children}</span>\n    </label>\n  );\n}\n\nfunction Summary({\n  id,\n  canonical,\n  coordinates,\n  price,\n  title,\n  hide,\n  setHide,\n  like,\n  setLike,\n  _address,\n  _created,\n  _updated = 0,\n  _checked = 0,\n}: {\n  id: string;\n  canonical: string;\n  coordinates: { latitude: number; longitude: number };\n  price: number;\n  title: string;\n  hide: string[];\n  setHide: Function;\n  like: string[];\n  setLike: Function;\n  _address: string[];\n  _created: number;\n  _updated: number;\n  _checked: number;\n}) {\n  return (\n    <div className={styles.Summary}>\n      <div>\n        <div className={styles.Sidebar}>\n          <Toggle\n            checked={like.includes(id)}\n            onChange={(e: ChangeEvent<HTMLInputElement>) => (\n              fetch(`api/properties/like.json?id=${id}`),\n              setLike((like: string[]) =>\n                e.target.checked\n                  ? like.concat(id)\n                  : like.filter((like: string) => like !== id)\n              )\n            )}\n          >\n            Like\n          </Toggle>\n          <Toggle\n            checked={hide.includes(id)}\n            onChange={(e: ChangeEvent<HTMLInputElement>) => (\n              fetch(`api/properties/hide.json?id=${id}`),\n              setHide((hide: string[]) =>\n                e.target.checked\n                  ? hide.concat(id)\n                  : hide.filter((hide: string) => hide !== id)\n              )\n            )}\n          >\n            Hide\n          </Toggle>\n        </div>\n        <div>\n          {format(_created, \"yyyy-MM-dd HH:mm\")}\n          {_updated > 0 && ` updated: ${format(_updated, \"yyyy-MM-dd HH:mm\")}`}\n          {_checked > 0 && ` checked: ${format(_checked, \"yyyy-MM-dd HH:mm\")}`}\n        </div>\n      </div>\n      <div style={{ clear: \"right\" }}>\n        <h4>{`${new Intl.NumberFormat().format(price)} PLN`}</h4>\n        <h3>\n          <Link href={canonical}>{title}</Link>{\" \"}\n          {coordinates && <Location coordinates={coordinates} />}\n          {coordinates && <Directions coordinates={coordinates} />}\n        </h3>\n      </div>\n      {_address && <h6>{_address.join(\" / \")}</h6>}\n    </div>\n  );\n}\n\nfunction Details({\n  description,\n  parameters,\n}: {\n  description: string[];\n  parameters: [{ label: string; value: string }];\n}) {\n  const [expanded, setExpanded] = useState(false);\n\n  return (\n    <div className={styles.Details}>\n      <Truncate\n        ellipsis={\n          <a href=\"#\" onClick={(e) => (e.preventDefault(), setExpanded(true))}>\n            ...\n          </a>\n        }\n        lines={!expanded && 3}\n      >\n        {description.map((paragraph, key) => (\n          <p key={key}>{paragraph}</p>\n        ))}\n      </Truncate>\n      <ul>\n        {parameters.map(({ label, value }, key) => (\n          <li key={key}>\n            {label}: <b>{value}</b>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nfunction History({ price, _updated }: { price: number; _updated: number }) {\n  return (\n    <div className={styles.History}>\n      <div>\n        <div className={styles.Sidebar}>\n          <h5>{`${new Intl.NumberFormat().format(price)} PLN`}</h5>\n        </div>\n        <div>{format(_updated, \"yyyy-MM-dd HH:mm\")}</div>\n      </div>\n    </div>\n  );\n}\n\nexport default function Section() {\n  return (\n    <div className={styles.Section}>\n      <h2>Properties</h2>\n      <Data />\n    </div>\n  );\n}\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_0___ from \"-!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/leaflet/dist/leaflet.css\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".fmu5OTC8YuGNxvhVWLQY{height:75vh;border:2px solid red}.fmu5OTC8YuGNxvhVWLQY header{font-weight:bold}.cXdsM8XDHY8s8_ZISLLs{padding:0 0 0 210px;min-height:200px}.cXdsM8XDHY8s8_ZISLLs .G1eoJjQ_TUQvlMdXoYXW{position:absolute;margin-top:-2px;margin-left:-214px;width:200px;height:200px}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/containers/Properties/Map.module.scss\"],\"names\":[],\"mappings\":\"AAEA,sBACE,WAAA,CACA,oBAAA,CAEA,6BACE,gBAAA,CAeJ,sBACE,mBAAA,CACA,gBAAA,CAEA,4CACE,iBAAA,CACA,eAAA,CACA,kBAAA,CACA,WAAA,CACA,YAAA\",\"sourcesContent\":[\"@import \\\"~leaflet/dist/leaflet.css\\\";\\n\\n.Map {\\n  height: 75vh;\\n  border: 2px solid red;\\n\\n  header {\\n    font-weight: bold;\\n  }\\n\\n  // .Circle {\\n  //   color: purple;\\n  //   fill: currentColor;\\n  //   stroke: currentColor;\\n  //   &.Like {\\n  //     color: blueviolet;\\n  //   }\\n  //   &.Hide {\\n  //     opacity: 0.5;\\n  //   }\\n  // }\\n}\\n.Summary {\\n  padding: 0 0 0 210px;\\n  min-height: 200px;\\n\\n  .Gallery {\\n    position: absolute;\\n    margin-top: -2px;\\n    margin-left: -214px;\\n    width: 200px;\\n    height: 200px;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"Map\": \"fmu5OTC8YuGNxvhVWLQY\",\n\t\"Summary\": \"cXdsM8XDHY8s8_ZISLLs\",\n\t\"Gallery\": \"G1eoJjQ_TUQvlMdXoYXW\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".KYBwyVHwYFPduDcS8tJA{color:purple}.bUNjBJTWIMSq_XWNswT2{clear:both;padding:.5em 0 .5em 220px;border:2px solid rgba(0,0,0,0);margin:.5em;min-height:196px}.bUNjBJTWIMSq_XWNswT2.TXzld0_Enrx67356XQvV{border-color:#8a2be2}.bUNjBJTWIMSq_XWNswT2.yknHg6Kx6g072wclMnRw{opacity:.5;min-height:0}.e3KhqV06cOMe70OduX67{position:absolute;margin-top:-2px;margin-left:-214px;width:200px;height:200px}.YzMcljUk8YpF_3sH71Qy h3{margin-block-start:.5em;margin-block-end:.5em}.YzMcljUk8YpF_3sH71Qy h4{float:right;margin-block-start:.5em;margin-block-end:.5em}.YzMcljUk8YpF_3sH71Qy h6{margin-block-start:.5em;margin-block-end:.5em}.YzMcljUk8YpF_3sH71Qy .OZ2Fnz11BkBbwH0I6IEx{float:right}.GzN8lDh8Bf0lo_aG_yN4{border-bottom:1px solid #d3d3d3;padding-bottom:.5em}.GzN8lDh8Bf0lo_aG_yN4 p{margin:0}.K5RBVDM72Qt0DbrWbkh3{clear:both;border-bottom:1px solid #d3d3d3;padding-bottom:.5em}.K5RBVDM72Qt0DbrWbkh3 .OZ2Fnz11BkBbwH0I6IEx{float:right}.K5RBVDM72Qt0DbrWbkh3 h5{float:right;margin-block-start:0;margin-block-end:0}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/containers/Properties/styles.module.scss\"],\"names\":[],\"mappings\":\"AAAA,sBACE,YAAA,CAEF,sBACE,UAAA,CACA,yBAAA,CACA,8BAAA,CACA,WAAA,CACA,gBAAA,CACA,2CACE,oBAAA,CAEF,2CACE,UAAA,CACA,YAAA,CAGJ,sBACE,iBAAA,CACA,eAAA,CACA,kBAAA,CACA,WAAA,CACA,YAAA,CAGA,yBACE,uBAAA,CACA,qBAAA,CAEF,yBACE,WAAA,CACA,uBAAA,CACA,qBAAA,CAEF,yBACE,uBAAA,CACA,qBAAA,CAEF,4CACE,WAAA,CAGJ,sBACE,+BAAA,CACA,mBAAA,CAEA,wBACE,QAAA,CAGJ,sBACE,UAAA,CACA,+BAAA,CACA,mBAAA,CACA,4CACE,WAAA,CAEF,yBACE,WAAA,CACA,oBAAA,CACA,kBAAA\",\"sourcesContent\":[\".Section {\\n  color: purple;\\n}\\n.Row {\\n  clear: both;\\n  padding: 0.5em 0 0.5em 220px;\\n  border: 2px solid transparent;\\n  margin: 0.5em;\\n  min-height: 196px;\\n  &.Like {\\n    border-color: blueviolet;\\n  }\\n  &.Hide {\\n    opacity: 0.5;\\n    min-height: 0;\\n  }\\n}\\n.Gallery {\\n  position: absolute;\\n  margin-top: -2px;\\n  margin-left: -214px;\\n  width: 200px;\\n  height: 200px;\\n}\\n.Summary {\\n  h3 {\\n    margin-block-start: 0.5em;\\n    margin-block-end: 0.5em;\\n  }\\n  h4 {\\n    float: right;\\n    margin-block-start: 0.5em;\\n    margin-block-end: 0.5em;\\n  }\\n  h6 {\\n    margin-block-start: 0.5em;\\n    margin-block-end: 0.5em;\\n  }\\n  .Sidebar {\\n    float: right;\\n  }\\n}\\n.Details {\\n  border-bottom: 1px solid lightgray;\\n  padding-bottom: 0.5em;\\n\\n  p {\\n    margin: 0;\\n  }\\n}\\n.History {\\n  clear: both;\\n  border-bottom: 1px solid lightgray;\\n  padding-bottom: 0.5em;\\n  .Sidebar {\\n    float: right;\\n  }\\n  h5 {\\n    float: right;\\n    margin-block-start: 0;\\n    margin-block-end: 0;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"Section\": \"KYBwyVHwYFPduDcS8tJA\",\n\t\"Row\": \"bUNjBJTWIMSq_XWNswT2\",\n\t\"Like\": \"TXzld0_Enrx67356XQvV\",\n\t\"Hide\": \"yknHg6Kx6g072wclMnRw\",\n\t\"Gallery\": \"e3KhqV06cOMe70OduX67\",\n\t\"Summary\": \"YzMcljUk8YpF_3sH71Qy\",\n\t\"Sidebar\": \"OZ2Fnz11BkBbwH0I6IEx\",\n\t\"Details\": \"GzN8lDh8Bf0lo_aG_yN4\",\n\t\"History\": \"K5RBVDM72Qt0DbrWbkh3\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n"],"names":["options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","undefined","Summary","id","onSelect","canonical","distance","price","title","images","_address","_created","_updated","_checked","className","styles","Gallery","Link","onClick","e","preventDefault","href","format","Intl","NumberFormat","join","Map","bounds","center","setCenter","list","useEffect","L","iconRetinaUrl","require","iconUrl","shadowUrl","displayMap","useMemo","MapContainer","zoom","cx","TileLayer","attribution","url","D","position","setPosition","lat","lng","chunkedLoading","map","item","_like","_hide","Marker","key","icon","length","iconSize","Popup","minWidth","distanceTo","toFixed","a","target","closest","getAttribute","prepareItem","z","address","information","label","unit","values","optional","location","parameters","value","transform","concat","filter","_information","reduce","result","Object","assign","_parameters","_area","Number","area","replace","_terrain_area","terrain_area","Boolean","_location","road","access_types","console","log","building","building_type","coordinates","latitude","longitude","parse","RADIUS_LIST","SORT_BY","PRICE_LIST","AREA_LIST","TERRAIN_AREA_LIST","asset","createAsset","version","fetch","res","json","then","hide","like","results","unify","_search","toLowerCase","_price","Data","read","initialHide","initialLike","category","index","array","indexOf","sort","b","localeCompare","useState","search","showHide","onlyLike","priceFrom","priceTo","areaFrom","areaTo","terrainAreaFrom","terrainAreaTo","radius","filters","setFilters","queries","setQueries","keys","sortBy","setSortBy","onChangeSortBy","useCallback","search$","Subject","subscription","pipe","JSON","stringify","trim","distinctUntilChanged","debounceTime","subscribe","unsubscribe","next","setHide","setLike","includes","match","String","sorted","points","getBounds","useBounds","process","getCenter","nearby","expand","setExpand","onChange","type","entries","checked","min","max","criteria","slice","Details","_history","reverse","History","Location","link","rel","style","margin","faMapMarkerAlt","Directions","origin","encodeURIComponent","faCrosshairs","Toggle","children","props","clear","description","expanded","setExpanded","Truncate","ellipsis","lines","paragraph","Section","___CSS_LOADER_EXPORT___","i","push","module","locals"],"sourceRoot":""}