"use strict";(self.webpackChunk_dev_web=self.webpackChunk_dev_web||[]).push([[784],{784:(t,e,n)=>{n.r(e),n.d(e,{default:()=>z});var a=n(2784),r=n(539),l=n(6062),i=n.n(l),o=n(4036),c=n.n(o),u=n(6793),m=n.n(u),s=n(7892),g=n.n(s),d=n(1173),f=n.n(d),p=n(2464),h=n.n(p),A=n(7412),E={};E.styleTagTransform=h(),E.setAttributes=g(),E.insert=m().bind(null,"head"),E.domAPI=c(),E.insertStyleElement=f(),i()(A.Z,E);const y=A.Z&&A.Z.locals?A.Z.locals:void 0;function b(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var a,r,l=[],i=!0,o=!1;try{for(n=n.call(t);!(i=(a=n.next()).done)&&(l.push(a.value),!e||l.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{i||null==n.return||n.return()}finally{if(o)throw r}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}var C=["Energia czynna","Opłata jakościowa","Opłata sieciowa zmienna","Opłata OZE","Opłata kogeneracyjna"],w=function(t,e){return Object.entries(e[t.from]).filter((function(t){return"VAT"!==b(t,1)[0]})).map((function(n){var a=b(n,2),r=a[0],l=a[1],i=e[t.from].VAT,o=Math.round(t.value-t.start),c=C.includes(r)?o:t.count,u=Math.round(l*c*100)/100,m=u*i/100,s=Math.round(100*(u+m))/100;return{label:r,count:C.includes(r)?"".concat(c," kWh"):"".concat(c," mc"),price:l,value:u,vat:i,tax:m,total:s}}))},k=function(t,e){return w(t,e).reduce((function(t,e){var n=t.value,a=t.vat,r=t.tax,l=t.total;return{value:n+e.value,vat:a,tax:r+e.tax,total:l+e.total}}),{value:0,vat:e[t.from].VAT,tax:0,total:0})};function O(t){var e=t.calculations,n=t.rates,l=t.selected,i=t.setSelected,o=b((0,a.useState)([]),2),c=o[0],u=o[1],m=(0,a.useMemo)((function(){return e.filter(Boolean)}),[e]);return a.createElement("div",{className:y.Calculations},a.createElement("h3",null,"Calculations"),a.createElement("table",null,a.createElement("tbody",null,a.createElement("tr",null,a.createElement("th",null,a.createElement("input",{type:"checkbox",checked:l.length===e.length,onChange:(0,a.useCallback)((function(t){var n=t.target;return i(n.checked?e.map((function(t,e){return e})):[])}),[])})),a.createElement("th",{align:"left"},"Okres zużycia"),a.createElement("th",{align:"right"},"Poprzednie wskazanie licznika"),a.createElement("th",{align:"right"},"Obecne wskazanie licznika"),a.createElement("th",{align:"right"},"Rodzaj odczytu"),a.createElement("th",{align:"right"},"Zużycie [kWh]"),a.createElement("th",{align:"right"},"Wartość brutto [zł]")),m.map((function(t,e){return[a.createElement("tr",{key:e},a.createElement("td",null,a.createElement("input",{type:"checkbox",checked:l.includes(e),onChange:(0,a.useCallback)((function(t){var n=t.target;return i((function(t){return n.checked?t.concat(e):t.filter((function(t){return t!==e}))}))}),[])})),a.createElement("td",null,a.createElement("a",{href:"#",onClick:(0,a.useCallback)((function(t){return t.preventDefault(),u((function(t){return t.includes(e)?t.filter((function(t){return t!==e})):t.concat(e)}))}),[])},(0,r.Z)(new Date(t.from),"dd.MM.yyyy"),"-",(0,r.Z)(new Date(t.to),"dd.MM.yyyy"))),a.createElement("td",{align:"right"},new Intl.NumberFormat("pl-PL",{minimumFractionDigits:2}).format(t.start)),a.createElement("td",{align:"right"},new Intl.NumberFormat("pl-PL",{minimumFractionDigits:2}).format(t.value)),a.createElement("td",{align:"right"},t.estimated?"S**":"R"),a.createElement("td",{align:"right"},new Intl.NumberFormat("pl-PL",{minimumFractionDigits:2}).format(t.value-t.start)),a.createElement("td",{align:"right"},new Intl.NumberFormat("pl-PL",{minimumFractionDigits:2}).format(k(t,n).total)))].concat(c.includes(e)?[a.createElement("tr",{key:"".concat(e,"-details")},a.createElement("td",null),a.createElement("td",{colSpan:6},a.createElement("table",{width:"100%"},a.createElement("tbody",null,a.createElement("tr",null,a.createElement("th",null),a.createElement("th",{align:"right"},"Ilość"),a.createElement("th",{align:"right"},"Cena netto [zł]"),a.createElement("th",{align:"right"},"Wartość netto [zł]"),a.createElement("th",{align:"right"},"Stawka VAT [%]"),a.createElement("th",{align:"right"},"Podatek VAT [zł]"),a.createElement("th",{align:"right"},"Wartość brutto [zł]")),w(t,n).map((function(t,e){var n=t.label,r=t.count,l=t.price,i=t.value,o=t.vat,c=t.tax,u=t.total;return a.createElement("tr",{key:e},a.createElement("td",null,n),a.createElement("td",{align:"right"},r),a.createElement("td",{align:"right"},new Intl.NumberFormat("pl-PL",{minimumFractionDigits:4}).format(l)),a.createElement("td",{align:"right"},new Intl.NumberFormat("pl-PL",{minimumFractionDigits:2}).format(i)),a.createElement("td",{align:"right"},o),a.createElement("td",{align:"right"},new Intl.NumberFormat("pl-PL",{minimumFractionDigits:2}).format(c)),a.createElement("td",{align:"right"},new Intl.NumberFormat("pl-PL",{minimumFractionDigits:2}).format(u)))}))),a.createElement("tfoot",null,[k(t,n)].map((function(t,e){return a.createElement("tr",{key:e},a.createElement("th",{align:"left"},"Razem"),a.createElement("td",{colSpan:2}),a.createElement("td",{align:"right"},new Intl.NumberFormat("pl-PL",{minimumFractionDigits:2}).format(t.value)),a.createElement("td",{align:"right"},t.vat),a.createElement("td",{align:"right"},new Intl.NumberFormat("pl-PL",{minimumFractionDigits:2}).format(t.tax)),a.createElement("td",{align:"right"},new Intl.NumberFormat("pl-PL",{minimumFractionDigits:2}).format(t.total)))}))))))]:[])}))),a.createElement("tfoot",null,[m.filter((function(t,e){return l.includes(e)})).reduce((function(t,e){var a=t.value,r=t.total;return{value:a+e.value-e.start,total:r+k(e,n).total}}),{value:0,total:0})].map((function(t,e){return a.createElement("tr",{key:e},a.createElement("td",null),a.createElement("td",{colSpan:4}),a.createElement("td",{align:"right"},new Intl.NumberFormat("pl-PL",{minimumFractionDigits:2}).format(t.value)),a.createElement("td",{align:"right"},new Intl.NumberFormat("pl-PL",{minimumFractionDigits:2}).format(t.total)))})))))}function F(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var a,r,l=[],i=!0,o=!1;try{for(n=n.call(t);!(i=(a=n.next()).done)&&(l.push(a.value),!e||l.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{i||null==n.return||n.return()}finally{if(o)throw r}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return I(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function S(){var t=F((0,a.useState)((function(){return{"2021-10-29":{"Energia czynna":.33,"Opłata handlowa":6.25,"Opłata jakościowa":.0102,"Opłata sieciowa zmienna":.1391,"Opłata OZE":.0022,"Opłata kogeneracyjna":0,"Opłata sieciowa stała":10.7,"Opłata przejściowa":.33,"Opłata mocowa":10.46,"Opłata abonamentowa":.42,VAT:23},"2022-01-01":{"Energia czynna":.4346,"Opłata handlowa":7.8,"Opłata jakościowa":.0095,"Opłata sieciowa zmienna":.1459,"Opłata OZE":9e-4,"Opłata kogeneracyjna":.00406,"Opłata sieciowa stała":11.32,"Opłata przejściowa":.33,"Opłata mocowa":13.25,"Opłata abonamentowa":.42,VAT:5}}})),1)[0],e=F((0,a.useState)((function(){return[{from:"2021-10-29",to:"2021-12-31",count:2,start:14643.17,value:15588.03},{from:"2022-01-01",to:"2022-04-12",count:4,start:15588.03,value:16919,estimated:!0}]})),1)[0],n=F((0,a.useState)((function(){return e.map((function(t,e){return e}))})),2),r=n[0],l=n[1];return a.createElement("div",null,a.createElement(O,{calculations:e,rates:t,selected:r,setSelected:l}))}function z(){return a.createElement("div",{className:y.Section},a.createElement("h2",null,"Energy"),a.createElement(S,null))}},7412:(t,e,n)=>{n.d(e,{Z:()=>o});var a=n(272),r=n.n(a),l=n(2609),i=n.n(l)()(r());i.push([t.id,".ILYKcZwRrAG3B5Qm_6ti{color:purple}.QWuaC1AqCgpyeQ75yBWq{font-family:Arial,Helvetica,sans-serif;font-size:.7em}.QWuaC1AqCgpyeQ75yBWq table{border-collapse:collapse}.QWuaC1AqCgpyeQ75yBWq table tr:hover{background-color:#e0e0e0}.QWuaC1AqCgpyeQ75yBWq tr:nth-child(even){background-color:#f7f7f7}.QWuaC1AqCgpyeQ75yBWq th,.QWuaC1AqCgpyeQ75yBWq td{padding:.25em}.PbI4uYIFtC7LCTjgoOUg{clear:both;padding:.5em 0;border:2px solid rgba(0,0,0,0);margin:.5em}","",{version:3,sources:["webpack://./src/containers/Energy/styles.module.scss"],names:[],mappings:"AAAA,sBACE,YAAA,CAEF,sBACE,sCAAA,CACA,cAAA,CACA,4BACE,wBAAA,CAEE,qCACE,wBAAA,CAKJ,yCACE,wBAAA,CAGJ,kDAEE,aAAA,CAGJ,sBACE,UAAA,CACA,cAAA,CACA,8BAAA,CACA,WAAA",sourcesContent:[".Section {\n  color: purple;\n}\n.Calculations {\n  font-family: Arial, Helvetica, sans-serif;\n  font-size: 0.7em;\n  table {\n    border-collapse: collapse;\n    tr {\n      &:hover {\n        background-color: #e0e0e0;\n      }\n    }\n  }\n  tr {\n    &:nth-child(even) {\n      background-color: #f7f7f7;\n    }\n  }\n  th,\n  td {\n    padding: 0.25em;\n  }\n}\n.Row {\n  clear: both;\n  padding: 0.5em 0;\n  border: 2px solid transparent;\n  margin: 0.5em;\n}\n"],sourceRoot:""}]),i.locals={Section:"ILYKcZwRrAG3B5Qm_6ti",Calculations:"QWuaC1AqCgpyeQ75yBWq",Row:"PbI4uYIFtC7LCTjgoOUg"};const o=i}}]);
//# sourceMappingURL=784.js.map