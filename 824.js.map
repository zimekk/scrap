{"version":3,"file":"824.js","mappings":"oRAWIA,EAAU,GAEdA,EAAQC,kBAAoB,IAC5BD,EAAQE,cAAgB,IAElBF,EAAQG,OAAS,SAAc,KAAM,QAE3CH,EAAQI,OAAS,IACjBJ,EAAQK,mBAAqB,IAEhB,IAAI,IAASL,GAKnB,QAAe,KAAW,WAAiB,gBAAiBM,E,0jCCtBnE,SAASC,EAAT,GAAkC,EAAlBC,QAAkB,IAEhC,KAAwBC,EAAAA,EAAAA,UAAS,IAAjC,GAAOC,EAAP,KAAaC,EAAb,KAEMC,GAAeC,EAAAA,EAAAA,cAAY,gBAAGC,EAAH,EAAGA,OAAH,OAAgBH,EAAQG,EAAOC,SAAQ,IAExE,KAAgCN,EAAAA,EAAAA,UAC9BO,EAAAA,MAAAA,GADF,GAAOC,EAAP,KAAiBC,EAAjB,KAKMC,GAASC,EAAAA,EAAAA,cAAa,CAC1BC,OAAQ,SAACC,GAAD,OAAOC,QAAQC,IAAIF,MAGvBG,EAAK,e,EAAA,G,EAAA,yBAAG,qHACNN,EAAOO,OADD,uBAENP,EAAOQ,aAAa,OAFd,uBAGNR,EAAOS,WAAW,OAHZ,uBAOFT,EAAOU,UAAUZ,GAPf,gBAMFP,EANE,EAMVoB,KAAQpB,KAEVC,EAAQD,GARI,2C,+KAAH,sDAWXqB,EAAAA,EAAAA,YAAU,WACRR,QAAQC,IAAI,CAAEP,SAAAA,IACdQ,MACC,CAACR,IAEJ,IAAMe,GAAUC,EAAAA,EAAAA,UAwBhB,OAtBAF,EAAAA,EAAAA,YAAU,WACR,IAAMG,EAAY,SAACC,GAEjB,GAAIA,EAAKC,MAAQD,EAAKC,KAAKC,WAAW,UAAW,CAC/C,IAAMC,EAAS,IAAIC,WACnBD,EAAOE,iBACL,QACA,SAACC,GAAD,OAEEvB,EAAYuB,EAAE3B,OAAO4B,WAGzBJ,EAAOK,cAAcR,KAIzBH,EAAQY,QAAQJ,iBAAiB,UAAU,SAACC,G,SACtCA,EAAE3B,OAAO+B,M,uVAAOC,QAAQZ,GAC5BO,EAAE3B,OAAOC,MAAQ,QAElB,CAACG,EAAac,IAGf,uBAAKe,UAAWC,EAAAA,WACd,0BAAQC,QAAS,kBAAMjB,EAAQY,QAAQM,UAAvC,eAAqE,IACrE,yBACEC,IAAKnB,EACLI,KAAK,OACLgB,OAAO,UACPC,MAAO,CAAEC,QAAS,UAEpB,uBAAKC,IAAKtC,IACV,4BACEuC,KAAM,EACNT,UAAWC,EAAAA,KACXjC,MAAOL,EACP+C,SAAU7C,KAMH,SAAS8C,IACtB,OACE,uBAAKX,UAAWC,EAAAA,SACd,oCACA,gBAACzC,EAAD,S,gEChFFoD,E,MAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOC,GAAI,oJAAqJ,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,wDAAwD,MAAQ,GAAG,SAAW,iFAAiF,eAAiB,CAAC,4KAA4K,WAAa,MAEnkBH,EAAwBI,OAAS,CAChC,QAAW,uBACX,UAAa,uBACb,KAAQ,wBAET,W,gCCZA,QAAe,IAA0B","sources":["webpack://@dev/web/./src/containers/Reader/styles.module.scss?7328","webpack://@dev/web/./src/containers/Reader/index.tsx","webpack://@dev/web/./src/containers/Reader/styles.module.scss","webpack://@dev/web/./src/assets/images/eng_bw.png"],"sourcesContent":["\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./styles.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./styles.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport { createWorker } from \"tesseract.js\";\nimport styles from \"./styles.module.scss\";\n\nfunction Data({ version = \"v1\" }) {\n  // const { results } = asset.read(version); // As many cache keys as you need\n  const [text, setText] = useState(\"\");\n\n  const onChangeText = useCallback(({ target }) => setText(target.value), []);\n\n  const [imageSrc, setImageSrc] = useState(\n    require(\"../../assets/images/eng_bw.png\").default\n  );\n\n  // https://github.com/jeromewu/tesseract.js-react-app/blob/master/src/App.js\n  const worker = createWorker({\n    logger: (m) => console.log(m),\n  });\n\n  const doOCR = async () => {\n    await worker.load();\n    await worker.loadLanguage(\"eng\");\n    await worker.initialize(\"eng\");\n    // const { data: { text } } = await worker.recognize('https://tesseract.projectnaptha.com/img/eng_bw.png');\n    const {\n      data: { text },\n    } = await worker.recognize(imageSrc);\n    setText(text);\n  };\n\n  useEffect(() => {\n    console.log({ imageSrc });\n    doOCR();\n  }, [imageSrc]);\n\n  const fileRef = useRef();\n\n  useEffect(() => {\n    const readImage = (file) => {\n      // Check if the file is an image.\n      if (file.type && file.type.startsWith(\"image/\")) {\n        const reader = new FileReader();\n        reader.addEventListener(\n          \"load\",\n          (e) =>\n            // console.log(['load'], e.target)\n            setImageSrc(e.target.result)\n          // setFrames((frames) => frames.concat(e.target.result))\n        );\n        reader.readAsDataURL(file);\n      }\n    };\n\n    fileRef.current.addEventListener(\"change\", (e) => {\n      [...e.target.files].forEach(readImage);\n      e.target.value = \"\";\n    });\n  }, [setImageSrc, fileRef]);\n\n  return (\n    <div className={styles.Container}>\n      <button onClick={() => fileRef.current.click()}>Select File</button>{\" \"}\n      <input\n        ref={fileRef}\n        type=\"file\"\n        accept=\"image/*\"\n        style={{ display: \"none\" }}\n      />\n      <img src={imageSrc} />\n      <textarea\n        rows={4}\n        className={styles.Text}\n        value={text}\n        onChange={onChangeText}\n      />\n    </div>\n  );\n}\n\nexport default function Section() {\n  return (\n    <div className={styles.Section}>\n      <h2>Reader</h2>\n      <Data />\n    </div>\n  );\n}\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".IRvtrGxFn8zr6dQAIvJM{color:orange;flex:1}.Jc2zJ4Wblgzw6R4Og34v{display:flex;flex-direction:column}.QiWSgHwJw2HiaMygMXcu{display:flex;margin:1em}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/containers/Reader/styles.module.scss\"],\"names\":[],\"mappings\":\"AAAA,sBACE,YAAA,CACA,MAAA,CAEF,sBACE,YAAA,CACA,qBAAA,CAEF,sBACE,YAAA,CACA,UAAA\",\"sourcesContent\":[\".Section {\\n  color: orange;\\n  flex: 1;\\n}\\n.Container {\\n  display: flex;\\n  flex-direction: column;\\n}\\n.Text {\\n  display: flex;\\n  margin: 1em;\\n  // flex: 1;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"Section\": \"IRvtrGxFn8zr6dQAIvJM\",\n\t\"Container\": \"Jc2zJ4Wblgzw6R4Og34v\",\n\t\"Text\": \"QiWSgHwJw2HiaMygMXcu\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","export default __webpack_public_path__ + \"cf802e5582369f17aef28d2538fac710.png\";"],"names":["options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","undefined","Data","version","useState","text","setText","onChangeText","useCallback","target","value","require","imageSrc","setImageSrc","worker","createWorker","logger","m","console","log","doOCR","load","loadLanguage","initialize","recognize","data","useEffect","fileRef","useRef","readImage","file","type","startsWith","reader","FileReader","addEventListener","e","result","readAsDataURL","current","files","forEach","className","styles","onClick","click","ref","accept","style","display","src","rows","onChange","Section","___CSS_LOADER_EXPORT___","push","module","id","locals"],"sourceRoot":""}