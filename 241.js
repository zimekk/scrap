"use strict";(self.webpackChunk_dev_web=self.webpackChunk_dev_web||[]).push([[241],{9241:(e,t,r)=>{r.r(t),r.d(t,{default:()=>d});var l=r(2784),n=r(357),a=r(4772),o=r(7715);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e}).apply(this,arguments)}const s={title:1,brand:1,_price:1,_stars:-1,_created:-1},i=[0,100,200,300,400,500,1e3,1500,2e3,3e3,4e3,5e3],u=(0,n.k)((async e=>{const t=await fetch(`api/products/data.json?${e}`);return await t.json()}));function f({images:e}){return e.length?l.createElement("div",{className:o.Z.Gallery},e.map(((e,t)=>l.createElement("img",{key:t,src:e,alt:`Image #${t+1}`,referrerPolicy:"no-referrer"})))):null}function p({href:e,...t}){const r="#"===e[0];return l.createElement("a",c({href:e,target:r?void 0:"_blank",rel:r?void 0:"noopener noreferrer"},t))}function m({version:e="v1"}){const{results:t}=u.read(e),[r,n]=(0,l.useState)(""),[c]=(0,a.Z)(r),m=(0,l.useCallback)((({target:e})=>n(e.value)),[]),[d,h]=(0,l.useState)("transactionalPrice"),g=(0,l.useCallback)((({target:e})=>h(e.value)),[]),[v,E]=(0,l.useState)(i[0]),[y,b]=(0,l.useState)(i[i.length-1]),k=(0,l.useCallback)((({target:e})=>b((t=>{const r=Number(e.value);return E(r),t<r?r:t}))),[]),w=(0,l.useCallback)((({target:e})=>E((t=>{const r=Number(e.value);return b(r),r>t?t:r}))),[]);console.log({results:t});const S=(0,l.useMemo)((()=>t.map((e=>({_image:e.image.filter((e=>e.match(/small/))),_title:e.title.toLowerCase(),_price:Number(e.price.reverse()[0].replace(/[^0-9,]/g,"").replace(",",".")),_stars:Number(e.stars.replace(/[^0-9]/g,"")),...e}))).filter((e=>(e._title.match(c)||c.trim()===String(e.id))&&v<=e._price&&e._price<=y))),[t,c,v,y]),j=(0,l.useMemo)((()=>S.sort(((e,t)=>s[d]*(e[d]>t[d]?1:-1)))),[S,d]);return l.createElement("div",null,l.createElement("fieldset",null,l.createElement("label",null,l.createElement("span",null,"Search"),l.createElement("input",{type:"search",value:r,onChange:m})),l.createElement("label",null,l.createElement("span",null,"Sort"),l.createElement("select",{value:d,onChange:g},Object.entries(s).map((([e,t])=>l.createElement("option",{key:e,value:e},e))))),l.createElement("div",null,l.createElement("label",null,l.createElement("span",null,"Price From"),l.createElement("input",{type:"range",list:"price-list",min:i[0],max:i[i.length-1],value:v,onChange:k}),l.createElement("datalist",{id:"price-list"},i.map((e=>l.createElement("option",{key:e,value:e,label:[0,1e5,2e5,3e5,4e5,5e5].includes(e)?`${e} pln`:void 0}))))),l.createElement("label",null,l.createElement("span",null,"Price To"),l.createElement("input",{type:"range",list:"price-list",min:i[0],max:i[i.length-1],value:y,onChange:w}),l.createElement("span",null,`${v}-${y} pln`)))),l.createElement("div",null,`Found ${S.length} products out of a total of ${t.length}`),l.createElement("ol",null,j.slice(0,100).map((({id:e,_image:t,...r},n)=>l.createElement("li",{key:n,className:o.Z.Row},l.createElement(f,{images:t}),l.createElement("h3",null,l.createElement(p,{href:`/p/${e}`},r.title)),l.createElement("h4",null,r.brand),l.createElement("h5",null,r.price.join(" ")),l.createElement("div",null,r.stars),l.createElement("div",null,r.label.join(" | ")),l.createElement("div",null,r.proms.join(" | ")),l.createElement("ul",null,r.links.map(((e,t)=>l.createElement("li",{key:t},e.join(" | "))))))))))}function d(){return l.createElement("div",{className:o.Z.Section},l.createElement("h2",null,"Products"),l.createElement(m,null))}},4772:(e,t,r)=>{r.d(t,{Z:()=>n});var l=r(2784);function n(e){const[t,r]=(0,l.useState)(e),n=(0,l.useRef)();return(0,l.useEffect)((()=>(clearTimeout(n.current),n.current=setTimeout((()=>r(e.toLowerCase())),400),()=>{clearTimeout(n.current)})),[e]),[t]}},9621:(e,t,r)=>{r.r(t),r.d(t,{default:()=>c});var l=r(9601),n=r.n(l),a=r(2609),o=r.n(a)()(n());o.push([e.id,".KUxoC6psSrrMeYM5oAlM{color:purple}.mfYsAqyyqNlAHcqIZRYo{clear:both}.IUsVGkhlVQfyeVKDBe0W{float:left;width:200px;height:150px;overflow-x:auto;display:flex;flex-direction:row;scroll-snap-type:x mandatory}.IUsVGkhlVQfyeVKDBe0W img{max-width:100%;scroll-snap-align:center}",""]),o.locals={Section:"KUxoC6psSrrMeYM5oAlM",Row:"mfYsAqyyqNlAHcqIZRYo",Gallery:"IUsVGkhlVQfyeVKDBe0W"};const c=o},9378:e=>{e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var l,n,a;if(Array.isArray(t)){if((l=t.length)!=r.length)return!1;for(n=l;0!=n--;)if(!e(t[n],r[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((l=(a=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(n=l;0!=n--;)if(!Object.prototype.hasOwnProperty.call(r,a[n]))return!1;for(n=l;0!=n--;){var o=a[n];if(!e(t[o],r[o]))return!1}return!0}return t!=t&&r!=r}},7715:(e,t,r)=>{r.d(t,{Z:()=>b});var l=r(6062),n=r.n(l),a=r(4036),o=r.n(a),c=r(6793),s=r.n(c),i=r(7892),u=r.n(i),f=r(1173),p=r.n(f),m=r(2464),d=r.n(m),h=r(9621),g={};g.styleTagTransform=d(),g.setAttributes=u(),g.insert=s().bind(null,"head"),g.domAPI=o(),g.insertStyleElement=p();var v=n()(h.default,g);if(!h.default.locals||e.hot.invalidate){var E=!h.default.locals,y=E?h:h.default.locals;e.hot.accept(9621,(t=>{h=r(9621),function(e,t,r){if(!e&&t||e&&!t)return!1;var l;for(l in e)if((!r||"default"!==l)&&e[l]!==t[l])return!1;for(l in t)if(!(r&&"default"===l||e[l]))return!1;return!0}(y,E?h:h.default.locals,E)?(y=E?h:h.default.locals,v(h.default)):e.hot.invalidate()}))}e.hot.dispose((function(){v()}));const b=h.default&&h.default.locals?h.default.locals:void 0},357:(e,t,r)=>{r.d(t,{k:()=>s});var l=r(9378),n=r.n(l);const a=[];function o(e,t,r,l=0,a=!1){for(const e of t)if(n()(r,e.args)){if(a)return;if(e.error)throw e.error;if(e.response)return e.response;throw e.promise}const o={args:r,promise:e(...r).then((e=>o.response=null==e||e)).catch((e=>o.error=null!=e?e:"unknown error")).then((()=>{l>0&&setTimeout((()=>{const e=t.indexOf(o);-1!==e&&t.splice(e,1)}),l)}))};if(t.push(o),!a)throw o.promise}function c(e,...t){if(void 0===t||0===t.length)e.splice(0,e.length);else{const r=e.find((e=>n()(t,e.args)));if(r){const t=e.indexOf(r);-1!==t&&e.splice(t,1)}}}function s(e,t=0){const r=[];return{read:(...l)=>o(e,r,l,t),preload:(...l)=>{o(e,r,l,t,!0)},clear:(...e)=>c(r,...e),peek:(...e)=>{var t;return null==(t=r.find((t=>n()(e,t.args))))?void 0:t.response}}}function i(e,...t){return o(e,a,t,i.lifespan)}i.lifespan=0,i.clear=(...e)=>c(a,...e),i.preload=(e,...t)=>{o(e,a,t,i.lifespan,!0)},i.peek=(...e)=>{var t;return null==(t=a.find((t=>n()(e,t.args))))?void 0:t.response}}}]);