{"version":3,"file":"734.js","mappings":"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","sources":["webpack://@dev/web/./src/components/Spinner/index.tsx","webpack://@dev/web/./src/components/Gallery/styles.module.scss?7711","webpack://@dev/web/./src/components/Gallery/index.tsx","webpack://@dev/web/./src/components/Link/index.tsx","webpack://@dev/web/./src/components/Map/styles.module.scss?c4f3","webpack://@dev/web/./src/components/Map/index.tsx","webpack://@dev/web/./src/containers/Vehicles/Chart.module.scss?75eb","webpack://@dev/web/./src/containers/Vehicles/Chart.tsx","webpack://@dev/web/./src/containers/Vehicles/Map.module.scss?11ee","webpack://@dev/web/./src/containers/Vehicles/Map.tsx","webpack://@dev/web/./src/containers/Vehicles/styles.module.scss?cfea","webpack://@dev/web/./src/containers/Vehicles/index.tsx","webpack://@dev/web/./src/components/Gallery/styles.module.scss","webpack://@dev/web/./src/components/Map/styles.module.scss","webpack://@dev/web/./src/containers/Vehicles/Chart.module.scss","webpack://@dev/web/./src/containers/Vehicles/Map.module.scss","webpack://@dev/web/./src/containers/Vehicles/styles.module.scss"],"sourcesContent":["import React from \"react\";\n\n// https://raw.githubusercontent.com/mhnpd/react-loader-spinner/master/src/loader/TailSpin.js\nexport const Spinner = ({\n  height = 80,\n  width = 80,\n  color = \"green\",\n  radius = 1,\n  label = \"audio-loading\",\n}) => (\n  <svg\n    width={width}\n    height={height}\n    viewBox=\"0 0 38 38\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    aria-label={label}\n  >\n    <defs>\n      <linearGradient x1=\"8.042%\" y1=\"0%\" x2=\"65.682%\" y2=\"23.865%\" id=\"a\">\n        <stop stopColor={color} stopOpacity=\"0\" offset=\"0%\" />\n        <stop stopColor={color} stopOpacity=\".631\" offset=\"63.146%\" />\n        <stop stopColor={color} offset=\"100%\" />\n      </linearGradient>\n    </defs>\n    <g fill=\"none\" fillRule=\"evenodd\">\n      <g transform=\"translate(1 1)\">\n        <path\n          d=\"M36 18c0-9.94-8.06-18-18-18\"\n          id=\"Oval-2\"\n          stroke={color}\n          strokeWidth=\"2\"\n        >\n          <animateTransform\n            attributeName=\"transform\"\n            type=\"rotate\"\n            from=\"0 18 18\"\n            to=\"360 18 18\"\n            dur=\"0.9s\"\n            repeatCount=\"indefinite\"\n          />\n        </path>\n        <circle fill=\"#fff\" cx=\"36\" cy=\"18\" r={radius}>\n          <animateTransform\n            attributeName=\"transform\"\n            type=\"rotate\"\n            from=\"0 18 18\"\n            to=\"360 18 18\"\n            dur=\"0.9s\"\n            repeatCount=\"indefinite\"\n          />\n        </circle>\n      </g>\n    </g>\n  </svg>\n);\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./styles.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./styles.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, {\n  ReactChild,\n  Suspense,\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n} from \"react\";\nimport { createAsset } from \"use-asset\";\nimport { faImage } from \"@fortawesome/free-solid-svg-icons\";\nimport { Spinner } from \"../Spinner\";\nimport cx from \"classnames\";\nimport styles from \"./styles.module.scss\";\n\nconst imgSrcFallback = () =>\n  (({ icon: [w, h, , , d] }) =>\n    `data:image/svg+xml;utf8,<svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"crosshairs\" class=\"svg-inline--fa fa-crosshairs fa-w-16 \" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 ${w} ${h}\"><path fill=\"currentColor\" d=\"${d}\"></path></svg>`)(\n    faImage\n  );\n\nconst image = createAsset(\n  async (src): Promise<string> =>\n    new Promise((resolve) => {\n      const img = new Image();\n      Object.assign(img, {\n        onload: () => resolve(src),\n        onerror: () => resolve(imgSrcFallback()),\n        src,\n      });\n    })\n);\n\nfunction Link({ children, ...props }: { children: ReactChild }) {\n  return (\n    <button className={styles.Link} {...props}>\n      {children}\n    </button>\n  );\n}\n\nfunction Img({ src, ...props }: { src: string }) {\n  const img = image.read(src);\n  return (\n    <Link>\n      <img src={img} {...props} referrerPolicy=\"no-referrer\" />\n    </Link>\n  );\n}\n\nfunction Loader() {\n  return (\n    <div className={styles.Loader}>\n      <Spinner />\n    </div>\n  );\n}\n\nfunction ImgWrapper({ ...props }: { src: string; alt?: string }) {\n  return (\n    <div className={styles.ImgWrapper}>\n      <Suspense fallback={<Loader />}>\n        <Img {...props} />\n      </Suspense>\n    </div>\n  );\n}\n\nexport function Gallery({\n  className,\n  images,\n}: {\n  className: string;\n  images: string[];\n}) {\n  const [inView, setInView] = useState(false);\n  const [isMore, setIsMore] = useState(false);\n  const ref = useRef<HTMLDivElement>(null);\n  const [state, setState] = useState<{\n    scale: number;\n    translateX?: number;\n    translateY?: number;\n  }>({\n    scale: 0,\n  });\n\n  const toggleZoom = useCallback(\n    (e) => (\n      e.stopPropagation(),\n      setState((state) => {\n        if (ref.current) {\n          const { x, y, width, height } = ref.current.getBoundingClientRect();\n          const { innerWidth, innerHeight } = window;\n          const scale = (innerWidth / width) * 1.0;\n\n          return state.scale\n            ? {\n                scale: 0,\n              }\n            : {\n                scale,\n                translateX: ((innerWidth - width) / 2 - x) / scale,\n                translateY: ((innerHeight - height) / 2 - y) / scale,\n              };\n        }\n        return state;\n      })\n    ),\n    [ref]\n  );\n\n  useEffect(() => {\n    const handleObserve = ([{ isIntersecting }]) => {\n      if (isIntersecting) {\n        setInView(true);\n      }\n    };\n    const handleScroll = ({\n      target: { scrollLeft, scrollWidth, offsetWidth },\n    }) => {\n      if (scrollLeft === scrollWidth - offsetWidth) {\n        setIsMore(true);\n      }\n    };\n    if (ref.current instanceof HTMLElement) {\n      const observer = new IntersectionObserver(handleObserve, {\n        root: null,\n        rootMargin: \"0px\",\n        threshold: 1.0,\n      });\n      observer.observe(ref.current);\n      ref.current.addEventListener(\"scroll\", handleScroll);\n      return () => {\n        if (ref.current) {\n          observer.unobserve(ref.current);\n          ref.current.removeEventListener(\"scroll\", handleScroll);\n        }\n      };\n    }\n  }, [ref]);\n\n  return images.length ? (\n    <div\n      ref={ref}\n      className={cx(className, styles.Gallery)}\n      style={\n        state.scale\n          ? {\n              cursor: \"zoom-out\",\n              transform: `scale(${state.scale}) translate(${state.translateX}px, ${state.translateY}px)`,\n              zIndex: 1,\n            }\n          : {\n              cursor: \"zoom-in\",\n            }\n      }\n      onClick={toggleZoom}\n    >\n      {inView &&\n        images\n          .slice(0, isMore ? images.length : 3)\n          .map((image, index) => (\n            <ImgWrapper key={index} src={image} alt={`Image #${index + 1}`} />\n          ))}\n    </div>\n  ) : null;\n}\n","import React, { CSSProperties, MouseEventHandler } from \"react\";\n\nexport function Link({\n  href = \"#\",\n  ...props\n}: {\n  children: React.ReactChild;\n  href?: string;\n  onClick?: MouseEventHandler;\n  rel?: string;\n  style?: CSSProperties;\n  target?: string;\n}) {\n  const hash = href[0] === \"#\";\n\n  return (\n    <a\n      href={href}\n      target={hash ? undefined : \"_blank\"}\n      rel={hash ? undefined : \"noopener noreferrer\"}\n      {...props}\n    />\n  );\n}\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./styles.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./styles.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, {\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from \"react\";\nimport L from \"leaflet\";\nimport { Marker, Tooltip, useMap } from \"react-leaflet\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faCrosshairs } from \"@fortawesome/free-solid-svg-icons\";\n// import { faMapMarkerAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport cx from \"classnames\";\nimport styles from \"./styles.module.scss\";\n\nexport function DisplayPosition({ map }: { map: L.Map }) {\n  const [initial] = useState(() => ({\n    position: map.getCenter(),\n    zoom: map.getZoom(),\n  }));\n  const [position, setPosition] = useState(map.getCenter());\n\n  const onClick = useCallback(() => {\n    map.setView(initial.position, initial.zoom);\n  }, [map]);\n\n  const onMove = useCallback(() => {\n    setPosition(map.getCenter());\n  }, [map]);\n\n  const onLocationFound = useCallback((event) => {\n    const { latlng, radius } = event;\n    console.log({ latlng, radius });\n  }, []);\n\n  useEffect(() => {\n    map.on(\"locationfound\", onLocationFound).on(\"move\", onMove);\n    return () => {\n      map.off(\"locationfound\", onLocationFound).off(\"move\", onMove);\n    };\n  }, [map, onMove]);\n\n  return (\n    <div className={cx(styles.DisplayPosition)}>\n      latitude: {position.lat.toFixed(4)}, longitude: {position.lng.toFixed(4)}{\" \"}\n      <button onClick={onClick}>Reset</button>\n      <button\n        onClick={() =>\n          map.locate({\n            setView: true,\n          })\n        }\n      >\n        Locate\n      </button>\n    </div>\n  );\n}\n\nexport function DraggableMarker({\n  position,\n  children,\n  setPosition,\n}: {\n  position: L.LatLng;\n  children: React.ReactNode;\n  setPosition: Function;\n}) {\n  const markerRef = useRef<L.Marker>(null);\n  const eventHandlers = useMemo(\n    () => ({\n      dragend() {\n        const marker = markerRef.current;\n        if (marker != null) {\n          setPosition(marker.getLatLng());\n        }\n      },\n    }),\n    []\n  );\n\n  return (\n    <Marker\n      draggable\n      eventHandlers={eventHandlers}\n      position={position}\n      ref={markerRef}\n    >\n      <Tooltip>{children}</Tooltip>\n    </Marker>\n  );\n}\n\nexport function LocateControl() {\n  const map = useMap();\n\n  const onLocate = useCallback(\n    (event) => {\n      event.preventDefault();\n      map.locate({\n        setView: true,\n      });\n    },\n    [map]\n  );\n\n  return (\n    <div className=\"leaflet-top leaflet-left\" style={{ top: 80, fontSize: 16 }}>\n      <div className=\"leaflet-control-locate leaflet-bar leaflet-control\">\n        <a\n          className=\"leaflet-bar-part leaflet-bar-part-single\"\n          title=\"Locate\"\n          href=\"#\"\n          onClick={onLocate}\n        >\n          <FontAwesomeIcon icon={faCrosshairs} />\n        </a>\n      </div>\n    </div>\n  );\n}\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./Chart.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./Chart.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport { axisBottom, axisLeft, select, scaleLinear } from \"d3\";\nimport { Subject, of } from \"rxjs\";\nimport { delay, switchMap } from \"rxjs/operators\";\nimport cx from \"classnames\";\nimport styles from \"./Chart.module.scss\";\n\nconst { width, height, left, right, top, bottom } = {\n  width: 320,\n  height: 200,\n  left: 10,\n  right: 10,\n  top: 20,\n  bottom: 20,\n};\n\nconst PROPS = {\n  accessoriesPrice: \"accessoriesPrice\",\n  age: \"age\",\n  capacity: \"capacity\",\n  consumptionFuel: \"consumptionFuel\",\n  emission: \"emission\",\n  id: \"id\",\n  images: \"images\",\n  mileage: \"mileage\",\n  newPrice: \"newPrice\",\n  optionsPrice: \"optionsPrice\",\n  powerHP: \"powerHP\",\n  powerKW: \"powerKW\",\n  productionYear: \"productionYear\",\n  transactionalPrice: \"transactionalPrice\",\n  warranty: \"warranty\",\n  _created: \"_created\",\n  _updated: \"_updated\",\n};\n\n// https://betterprogramming.pub/construct-d3-charts-in-react-cfecc2848ae2\n// https://wattenberger.com/blog/react-and-d3\nexport default function Chart({ list, onSelect }) {\n  const [selected, setSelected] = useState<{\n    top: number;\n    left: number;\n    label: string;\n  } | null>(null);\n  const [{ xProp, yProp }, setProps] = useState(() => ({\n    xProp: \"transactionalPrice\",\n    yProp: \"newPrice\",\n  }));\n  const xAxisRef = useRef(null);\n  const yAxisRef = useRef(null);\n  const containerRef = useRef(null);\n\n  // https://stackoverflow.com/questions/62066799/custom-tooltip-with-rxjs\n  const selected$ = useMemo(() => new Subject(), []);\n  useEffect(() => {\n    const subscription = selected$\n      .pipe(\n        switchMap((selected) => of(selected).pipe(delay(selected ? 0 : 800)))\n      )\n      .subscribe((selected) => setSelected(selected));\n\n    return () => subscription.unsubscribe();\n  }, [selected$]);\n\n  useEffect(() => {\n    const dataset = list\n      .slice(0, 2000)\n      .map(({ item }) => [\n        item[xProp],\n        item[yProp],\n        `[${item.id}] ${item.title}`,\n        item.id,\n      ]);\n\n    const xx = dataset.map(([x = 0]) => x);\n    const yy = dataset.map(([, y = 0]) => y);\n\n    const xDomain = [Math.min(...xx), Math.max(...xx)];\n    const yDomain = [Math.min(...yy), Math.max(...yy)];\n\n    const xScale = scaleLinear()\n      .domain(xDomain)\n      .range([left, width - right]);\n\n    const yScale = scaleLinear()\n      .domain(yDomain)\n      .range([height - bottom, top]);\n\n    const color = scaleLinear().domain(xDomain).range([\"red\", \"blue\"]);\n\n    select(containerRef.current).selectAll(\"circle\").remove();\n    select(containerRef.current)\n      .selectAll(\"circle\")\n      .data(dataset)\n      .join(\n        (enter) =>\n          enter\n            .append(\"circle\")\n            .attr(\"cx\", ([x = 0]) => xScale(x))\n            .attr(\"cy\", ([, y = 0]) => yScale(y))\n            .attr(\"r\", 0)\n            .attr(\"fill\", ([x = 0]) => color(x))\n            .on(\"click\", (e, [, , , id]) => onSelect(id))\n            .on(\"mouseover\", (e, [, , label]) =>\n              selected$.next({ left: e.layerX, top: e.layerY, label })\n            )\n            .on(\"mouseout\", (e, i) => selected$.next(null))\n            .call((enter) =>\n              enter.transition().duration(200).attr(\"r\", 2).style(\"opacity\", 1)\n            ),\n        (update) => update.attr(\"fill\", \"lightgrey\"),\n        (exit) =>\n          exit\n            .attr(\"fill\", \"tomato\")\n            .call((exit) =>\n              exit\n                .transition()\n                .duration(200)\n                .attr(\"r\", 0)\n                .style(\"opacity\", 0)\n                .remove()\n            )\n      );\n\n    const xAxis = axisBottom(xScale).ticks(5).tickSizeOuter(0);\n    select(xAxisRef.current).call(xAxis);\n\n    const yAxis = axisLeft(yScale).ticks(5).tickSizeOuter(0);\n    select(yAxisRef.current).call(yAxis);\n  }, [list, xProp, yProp]);\n\n  return (\n    <div className={cx(styles.Chart)}>\n      <fieldset>\n        <label>\n          <span>x</span>\n          <select\n            value={xProp}\n            onChange={(e) =>\n              setProps((props) => ({ ...props, xProp: e.target.value }))\n            }\n          >\n            {Object.entries(PROPS).map(([value, label]) => (\n              <option key={value} value={value}>\n                {label}\n              </option>\n            ))}\n          </select>\n        </label>\n        <label>\n          <span>y</span>\n          <select\n            value={yProp}\n            onChange={(e) =>\n              setProps((props) => ({ ...props, yProp: e.target.value }))\n            }\n          >\n            {Object.entries(PROPS).map(([value, label]) => (\n              <option key={value} value={value}>\n                {label}\n              </option>\n            ))}\n          </select>\n        </label>\n      </fieldset>\n      <svg\n        ref={containerRef}\n        width={width}\n        height={height}\n        viewBox={`0, 0, ${width}, ${height}`}\n      >\n        <g transform={`translate(0, ${height - bottom})`} ref={xAxisRef} />\n        <g transform={`translate(${left}, 0)`} ref={yAxisRef} />\n      </svg>\n      {selected && (\n        <div\n          className={styles.Tooltip}\n          style={{ top: selected.top, left: selected.left }}\n        >\n          {selected.label}\n        </div>\n      )}\n    </div>\n  );\n}\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./Map.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./Map.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, { useEffect, useMemo, useState } from \"react\";\nimport L from \"leaflet\";\nimport { CircleMarker, MapContainer, TileLayer, Popup } from \"react-leaflet\";\nimport { DraggableMarker, LocateControl } from \"../../components/Map\";\nimport cx from \"classnames\";\nimport styles from \"./Map.module.scss\";\n\nexport function useBounds(list) {\n  return useMemo(\n    () =>\n      L.featureGroup(\n        list.map(({ position: { lat, lng } }) => L.marker([lat, lng]))\n      ).getBounds(),\n    []\n  );\n}\n\nexport default function Map({ bounds, center, setCenter, list }) {\n  // https://stackoverflow.com/questions/40719689/how-to-include-leaflet-css-in-a-react-app-with-webpack\n  useEffect(() => {\n    delete L.Icon.Default.prototype._getIconUrl;\n    L.Icon.Default.mergeOptions({\n      iconRetinaUrl: require(\"leaflet/dist/images/marker-icon-2x.png\").default,\n      iconUrl: require(\"leaflet/dist/images/marker-icon.png\").default,\n      shadowUrl: require(\"leaflet/dist/images/marker-shadow.png\").default,\n    });\n  }, []);\n\n  const [map, setMap] = useState(null);\n\n  const displayMap = useMemo(\n    () => (\n      <MapContainer\n        bounds={bounds}\n        whenCreated={setMap}\n        zoom={13}\n        className={cx(styles.Map)}\n      >\n        <TileLayer\n          attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        />\n        <DraggableMarker position={center} setPosition={setCenter}>\n          {`${center.lat},${center.lng}`}\n        </DraggableMarker>\n        {list.map(({ i, id, position, name, item }) => (\n          <CircleMarker\n            key={i}\n            center={position}\n            pathOptions={{ color: \"purple\" }}\n          >\n            <Popup minWidth={90}>\n              <section>\n                <header>\n                  {`[${id}] ${name} (${\n                    center.distanceTo(position).toFixed(0) / 1000\n                  } km)`}\n                </header>\n                {/* <table>\n                  <tbody>\n                    {item.petrol_list.map(({ type, price }, key) => (\n                      <tr key={key}>\n                        <th>{type}</th>\n                        <td>{price}</td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table> */}\n              </section>\n            </Popup>\n          </CircleMarker>\n        ))}\n        <LocateControl />\n      </MapContainer>\n    ),\n    [list, center]\n  );\n\n  // https://react-leaflet.js.org/docs/start-setup/\n  return <div className={cx(styles.Layout)}>{displayMap}</div>;\n}\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./styles.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./styles.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, {\n  ReactChild,\n  useCallback,\n  useEffect,\n  useMemo,\n  useState,\n} from \"react\";\nimport { Subject } from \"rxjs\";\nimport { debounceTime, distinctUntilChanged, map } from \"rxjs/operators\";\nimport { format } from \"date-fns\";\nimport { createAsset } from \"use-asset\";\nimport createKDTree from \"static-kdtree\";\nimport createPersistedState from \"use-persisted-state\";\nimport update from \"immutability-helper\";\nimport { Gallery } from \"../../components/Gallery\";\nimport { Link } from \"../../components/Link\";\nimport { Calculator, ProductTypes } from \"../../components/Calculator\";\nimport Chart from \"./Chart\";\nimport Map, { useBounds } from \"./Map\";\nimport cx from \"classnames\";\nimport styles from \"./styles.module.scss\";\n\nconst GROUP_BY = {\n  \"\": \"\",\n  brand: \"Brand\",\n  modelCode: \"Model Code\",\n  seriesCode: \"Series Code\",\n  productionYear: \"Production Year\",\n  _removed: \"Sold\",\n};\nconst SORT_BY = {\n  registration: -1,\n  transactionalPrice: 1,\n  mileage: 1,\n  consumptionFuel: 1,\n  productionYear: -1,\n  powerHP: -1,\n  newPrice: -1,\n  optionsPrice: -1,\n  accessoriesPrice: -1,\n  warranty: -1,\n  modelCode: 1,\n  seriesCode: 1,\n  title: 1,\n  _created: -1,\n  _updated: -1,\n  _removed: -1,\n};\nconst RADIUS_LIST = [1, 3, 5, 10, 20, 50, 100, 500];\nconst PRICE_LIST = [\n  0, 100000, 200000, 300000, 400000, 500000, 600000, 700000, 800000, 900000,\n  1000000,\n];\nconst MILEAGE_LIST = [\n  0, 1000, 5000, 10000, 20000, 50000, 100000, 150000, 200000, 500000,\n];\nconst POWER_LIST = [0, 100, 150, 200, 250, 300, 400, 500, 600, 700, 800, 900];\nconst TYPES = {\n  \"\": \"\",\n  N: \"New\",\n  U: \"Used\",\n};\nconst YEAR_LIST = [...Array(15)]\n  .map((_, i) => new Date().getFullYear() - i)\n  .reverse();\n\nconst formatNumber = (value: number) => new Intl.NumberFormat().format(value);\n\nconst formatAmount = (value: number) => `${formatNumber(value)} pln`;\n\nconst useCriterion = createPersistedState(\"criterion-vehicles\");\nconst useFavorites = createPersistedState(\"favorites-vehicles\");\n\nconst priceHistory = ({ _history = {}, ...item }) =>\n  [item.transactionalPrice]\n    .concat(Object.values(_history).map((item) => item.transactionalPrice))\n    .filter(\n      (value: any, index: number, array: any[]) =>\n        array.indexOf(value) === index\n    );\n\n// https://github.com/pmndrs/use-asset#dealing-with-async-assets\nconst asset = createAsset(async (version) => {\n  const res = await fetch(`api/vehicles/data.json?${version}`);\n  return await res\n    .json()\n    .then(({ results }) => results) // 236 MB -> 26.1 MB\n    .then((list) => ({\n      results: list,\n      options: list.reduce(\n        (options, item) =>\n          [\n            \"dealer\",\n            \"bodyType\",\n            \"driveType\",\n            \"brand\",\n            \"color\",\n            \"fuel\",\n            \"series\",\n            \"seriesCode\",\n            \"modelCode\",\n            \"transmission\",\n            \"gearBox\",\n            \"vatReclaimable\",\n            \"warranty\",\n          ].reduce(\n            (options, prop) => ({\n              ...options,\n              [prop]: Object.assign(\n                {},\n                options[prop],\n                typeof item[prop] === \"object\"\n                  ? {\n                      [item[prop].id]: item[prop].label || item[prop].name,\n                    }\n                  : {\n                      [item[prop]]: item[prop],\n                    }\n              ),\n            }),\n            options\n          ),\n        {}\n      ),\n    }))\n    .then(({ options, ...rest }) => {\n      Object.keys(options).forEach((key) =>\n        Object.assign(options, {\n          [key]: Object.entries(options[key])\n            .sort(([a], [b]) => (String(a) > String(b) ? 1 : -1))\n            .reduce(\n              (result, [key, value]) => Object.assign(result, { [key]: value }),\n              {}\n            ),\n        })\n      );\n      return { options, ...rest };\n    });\n});\n\nfunction Button({ ...props }) {\n  return <button {...props} />;\n}\n\nfunction Toggle({ children, ...props }: { children: ReactChild }) {\n  return (\n    <label>\n      <input type=\"checkbox\" {...props} />\n      <span>{children}</span>\n    </label>\n  );\n}\n\nfunction Color({ color }: { color: { code: string; label: string } }) {\n  return (\n    <a\n      className={styles.Color}\n      style={{ backgroundColor: color.code }}\n      title={color.label}\n    ></a>\n  );\n}\n\nconst createCriteria =\n  ({ search, options }: { search: string; options: object }) =>\n  (defaults = {}) =>\n    Object.assign(\n      {\n        filter: search,\n        groupBy: Object.keys(GROUP_BY)[0],\n        sortBy: Object.keys(SORT_BY)[13],\n        type: Object.keys(TYPES)[0],\n        radius: RADIUS_LIST[RADIUS_LIST.length - 1],\n\n        priceFrom: PRICE_LIST[0],\n        priceTo: PRICE_LIST[PRICE_LIST.length - 1],\n\n        mileageFrom: MILEAGE_LIST[0],\n        mileageTo: MILEAGE_LIST[MILEAGE_LIST.length - 1],\n\n        powerFrom: POWER_LIST[0],\n        powerTo: POWER_LIST[POWER_LIST.length - 1],\n\n        yearFrom: YEAR_LIST[0],\n        yearTo: YEAR_LIST[YEAR_LIST.length - 1],\n\n        createdFrom: format(Date.now() - 1000 * 3600 * 24 * 30, \"yyyy-MM-dd\"),\n        createdTo: format(Date.now(), \"yyyy-MM-dd\"),\n\n        entries: Object.keys(options).reduce(\n          (criteria, prop) =>\n            Object.assign(criteria, {\n              [prop]: \"\",\n            }),\n          {}\n        ),\n\n        removed: \"0\",\n        changedPrice: false,\n      },\n      defaults\n    );\n\nfunction Data({ version = \"v1\" }) {\n  const { results, options } = asset.read(version); // As many cache keys as you need\n\n  const [search, setSearch] = useState(\"\");\n\n  const [criteria, setCriteria] = useState(createCriteria({ search, options }));\n\n  const search$ = useMemo(() => new Subject<string>(), []);\n\n  useEffect(() => {\n    const subscription = search$\n      .pipe(\n        map((search) => search.trim()),\n        distinctUntilChanged(),\n        debounceTime(400)\n      )\n      .subscribe((filter) =>\n        setCriteria((criteria) => ({ ...criteria, filter }))\n      );\n    return () => subscription.unsubscribe();\n  }, [search$]);\n\n  useEffect(() => {\n    search$.next(search);\n  }, [search]);\n\n  const onClickCompare = useCallback(\n    ({ target }) => {\n      const _id = target.value;\n      const getPoint = (item: any) => [\n        // item.capacity,\n        item.powerHP,\n        // item.consumptionFuel,\n        // item.emission,\n        item.newPrice,\n        item.optionsPrice,\n        item.productionYear,\n        // item.age,\n        item.mileage,\n        item.transactionalPrice,\n        item.warranty,\n      ];\n\n      const tree = createKDTree(results.map(getPoint));\n\n      console.table(\n        tree\n          .knn(getPoint(results.find((item: any) => item._id === _id)), 10)\n          .slice(0, 10)\n          .map((index) => results[index])\n          .map((item) => [\n            item.id,\n            item.title,\n            // item.capacity,\n            item.powerHP,\n            // item.consumptionFuel,\n            // item.emission,\n            item.newPrice,\n            item.optionsPrice,\n            item.productionYear,\n            // item.age,\n            item.mileage,\n            item.transactionalPrice,\n            item.warranty,\n          ])\n      );\n    },\n    [results]\n  );\n\n  console.log({ options, criteria, results });\n\n  const list = useMemo(\n    () =>\n      results\n        .map((item, i) => {\n          const {\n            id,\n            dealer: { name, lat, lng },\n          } = item;\n          return {\n            i,\n            id,\n            position: { lat, lng },\n            name,\n            item,\n          };\n        })\n        .filter(({ item }) =>\n          ((labels) =>\n            labels.includes(String(item.id)) ||\n            ((item.title.toLowerCase().match(criteria.filter) ||\n              labels.includes(\n                typeof item.seriesCode === \"object\"\n                  ? item.seriesCode.label\n                  : item.seriesCode\n              ) ||\n              labels.includes(\n                typeof item.modelCode === \"object\"\n                  ? item.modelCode.label\n                  : item.modelCode\n              )) &&\n              [\"\", item.isNew ? \"N\" : \"U\"].includes(criteria.type) &&\n              (criteria.removed == \"\" ||\n                criteria.removed === ((item._removed || 0) > 0 ? \"1\" : \"0\")) &&\n              criteria.priceFrom <= item.transactionalPrice &&\n              item.transactionalPrice <= criteria.priceTo &&\n              (item.mileage === undefined ||\n                (criteria.mileageFrom <= item.mileage &&\n                  item.mileage <= criteria.mileageTo)) &&\n              criteria.powerFrom <= item.powerHP &&\n              item.powerHP <= criteria.powerTo &&\n              criteria.yearFrom <= item.productionYear &&\n              item.productionYear <= criteria.yearTo &&\n              new Date(`${criteria.createdFrom} 00:00:00`).getTime() <=\n                item._created &&\n              item._created <=\n                new Date(`${criteria.createdTo} 23:59:59`).getTime() &&\n              (!criteria.changedPrice || priceHistory(item).length > 1) &&\n              Object.entries(criteria.entries).findIndex(\n                ([prop, value]) =>\n                  ![\n                    String(\n                      typeof item[prop] === \"object\"\n                        ? item[prop].id\n                        : item[prop]\n                    ),\n                    \"\",\n                  ].includes(value)\n              ) === -1))(\n            (criteria.filter as string).split(\",\").map((s) => s.trim())\n          )\n        ),\n    [results, criteria]\n  );\n\n  const bounds = useBounds(\n    list.length\n      ? list\n      : [\n          {\n            position: {\n              lat: process.env.NEARBY_LAT,\n              lng: process.env.NEARBY_LNG,\n            },\n          },\n        ]\n  );\n  const [center, setCenter] = useState(() => bounds.getCenter());\n\n  const nearby = useMemo(\n    () =>\n      list.filter(\n        ({ position }: { position: { lat: number; lng: number } }) =>\n          center.distanceTo(position) < criteria.radius * 1000\n      ),\n    [list, center, criteria.radius]\n  );\n\n  const sorted = useMemo(\n    () =>\n      list.sort(\n        (a, b) =>\n          SORT_BY[criteria.sortBy as keyof typeof SORT_BY] *\n          (a.item[criteria.sortBy] === b.item[criteria.sortBy]\n            ? 0\n            : (a.item[criteria.sortBy] || 0) > (b.item[criteria.sortBy] || 0)\n            ? 1\n            : -1)\n      ),\n    [list, criteria.sortBy]\n  );\n\n  const grouped = useMemo(\n    () =>\n      sorted.reduce(\n        (grouped: Record<string, object[]>, item: any) =>\n          ((group) =>\n            Object.assign(grouped, {\n              [group]: (grouped[group] || []).concat(item),\n            }))(\n            typeof item.item[criteria.groupBy] === \"object\"\n              ? item.item[criteria.groupBy].label\n              : item.item[criteria.groupBy] || \"\"\n          ),\n        {}\n      ),\n    [sorted, criteria.groupBy]\n  );\n\n  const [favorites, setFavorites] = useFavorites([]);\n\n  const [criterion, setCriterion] = useCriterion(() => ({\n    selected: \"\",\n    list: [],\n  }));\n\n  useEffect(() => {\n    if (criterion.selected !== \"\") {\n      const { criteria } = criterion.list[criterion.selected];\n      setCriteria(createCriteria({ search, options })(criteria));\n      setSearch(criteria.filter);\n    }\n  }, [setCriteria, setSearch, criterion.selected]);\n\n  const [expand, setExpand] = useState(() => ({ map: false, chart: false }));\n\n  return (\n    <div>\n      <div>\n        <Link\n          onClick={(e) => (\n            e.preventDefault(),\n            setExpand((expand) => ({ ...expand, map: !expand.map }))\n          )}\n        >\n          {expand.map ? \"Hide map\" : \"Show map\"}\n        </Link>{\" \"}\n        {expand.map && (\n          <Map\n            bounds={bounds}\n            center={center}\n            setCenter={setCenter}\n            list={nearby}\n          />\n        )}\n      </div>\n      <div>\n        <Link\n          onClick={(e) => (\n            e.preventDefault(),\n            setExpand((expand) => ({ ...expand, chart: !expand.chart }))\n          )}\n        >\n          {expand.chart ? \"Hide chart\" : \"Show chart\"}\n        </Link>{\" \"}\n        {expand.chart && (\n          <Chart list={list} onSelect={(id: number) => setSearch(String(id))} />\n        )}\n      </div>\n      <Criteria\n        {...criteria}\n        options={options}\n        setCriteria={setCriteria}\n        search={search}\n        setSearch={setSearch}\n      />\n      <CriteriaLabel {...criteria} options={options} />\n      <SavedFilters\n        criterion={criterion}\n        setCriterion={setCriterion}\n        criteria={criteria}\n      />\n      <Favorite\n        favorites={favorites}\n        setFavorites={setFavorites}\n        setSearch={setSearch}\n      />\n      <Summary list={list} results={results} />\n      {Object.entries(grouped).map(([group, sorted]) => (\n        <section key={group}>\n          {group && <h3>{group}</h3>}\n          <ol>\n            {sorted\n              .slice(0, 100)\n              .map(({ item }) => item)\n              .map(({ id, images, ...item }, key: number) => (\n                <li key={key} className={styles.Row}>\n                  <Gallery className={styles.Gallery} images={images} />\n                  <Details\n                    item={{ id, ...item }}\n                    onClickCompare={onClickCompare}\n                    favorites={favorites}\n                    setFavorites={setFavorites}\n                    setSearch={setSearch}\n                  />\n                </li>\n              ))}\n          </ol>\n        </section>\n      ))}\n    </div>\n  );\n}\n\nconst sortByKey = (list: object) =>\n  Object.entries(list)\n    .sort(([a], [b]) => (a < b ? 1 : -1))\n    .reduce((list, [key, item]) => Object.assign(list, { [key]: item }), {});\n\nfunction Summary({\n  list,\n  results,\n}: {\n  list: { item: { _created?: number; _updated?: number; _removed?: number } }[];\n  results: {\n    item: { _created?: number; _updated?: number; _removed?: number };\n  }[];\n}) {\n  const [expand, setExpand] = useState(false);\n  const summary = useMemo(\n    () =>\n      update(\n        list.reduce(\n          (summary, { item }) =>\n            Object.assign(\n              summary,\n              item._created\n                ? {\n                    created: update(summary.created, {\n                      [format(item._created, \"yyyy-MM-dd\")]: {\n                        $apply: (count = 0) => count + 1,\n                      },\n                    }),\n                  }\n                : {},\n              item._updated\n                ? {\n                    updated: update(summary.updated, {\n                      [format(item._updated, \"yyyy-MM-dd\")]: {\n                        $apply: (count = 0) => count + 1,\n                      },\n                    }),\n                  }\n                : {},\n              item._removed\n                ? {\n                    removed: update(summary.removed, {\n                      [format(item._removed, \"yyyy-MM-dd\")]: {\n                        $apply: (count = 0) => count + 1,\n                      },\n                    }),\n                  }\n                : {}\n            ),\n          {\n            created: {},\n            updated: {},\n            removed: {},\n          }\n        ),\n        {\n          created: {\n            $apply: sortByKey,\n          },\n          updated: {\n            $apply: sortByKey,\n          },\n          removed: {\n            $apply: sortByKey,\n          },\n        }\n      ),\n    [list]\n  );\n  return (\n    <div>\n      <div>\n        {`Found ${list.length} vehicles out of a total of ${results.length}`}{\" \"}\n        <Link\n          onClick={(e) => (e.preventDefault(), setExpand((expand) => !expand))}\n        >\n          {expand ? \"Hide summary\" : \"Show summary\"}\n        </Link>\n      </div>\n      {expand && <pre>{JSON.stringify(summary, null, 2)}</pre>}\n    </div>\n  );\n}\n\nfunction Favorite({\n  favorites,\n  setFavorites,\n  setSearch,\n}: {\n  favorites: string[];\n  setFavorites: Function;\n  setSearch: Function;\n}) {\n  return favorites.length > 0 ? (\n    <div>\n      {`Your favorites: `}\n      {favorites.map((favorite, key) => (\n        <IdLink key={key} setSearch={setSearch}>\n          {favorite}\n        </IdLink>\n      ))}{\" \"}\n      <Link\n        onClick={(e) => (e.preventDefault(), setSearch(favorites.join(`, `)))}\n      >\n        search\n      </Link>{\" \"}\n      |{\" \"}\n      <Link onClick={(e) => (e.preventDefault(), setFavorites([]))}>clear</Link>\n    </div>\n  ) : (\n    <div>{`You don't have favorites`}</div>\n  );\n}\n\nfunction SavedFilters({ criterion, setCriterion, criteria }) {\n  const onCreateFilter = useCallback(\n    () =>\n      setCriterion((criterion) => ({\n        ...criterion,\n        selected: String(criterion.list.length),\n        list: criterion.list.concat([\n          { label: prompt(\"Filter name:\"), criteria },\n        ]),\n      })),\n    [criterion, criteria]\n  );\n\n  const onUpdateFilter = useCallback(\n    () =>\n      setCriterion((criterion) =>\n        update(criterion, {\n          list: {\n            [criterion.selected]: {\n              criteria: {\n                $apply: () => criteria,\n              },\n            },\n          },\n        })\n      ),\n    [criterion, criteria]\n  );\n\n  const onRenameFilter = useCallback(\n    () =>\n      setCriterion((criterion) =>\n        update(criterion, {\n          list: {\n            [criterion.selected]: {\n              label: {\n                $apply: (label) => prompt(\"Rename filter:\", label),\n              },\n            },\n          },\n        })\n      ),\n    [criterion]\n  );\n\n  const onRemoveFilter = useCallback(\n    () =>\n      setCriterion((criterion) => ({\n        ...criterion,\n        selected: \"\",\n        list: criterion.list.filter(\n          (_item, key) => String(key) !== criterion.selected\n        ),\n      })),\n    [criterion]\n  );\n\n  const sameCriteria = useMemo(\n    () =>\n      criterion.selected !== \"\" &&\n      JSON.stringify(criterion.list[criterion.selected].criteria) ===\n        JSON.stringify(criteria),\n    [criterion, criteria]\n  );\n\n  return (\n    <div>\n      <label>\n        <span>Saved Filters</span>\n        <select\n          value={criterion.selected}\n          onChange={useCallback(\n            ({ target }) =>\n              setCriterion((criterion) => ({\n                ...criterion,\n                selected: target.value,\n              })),\n            [criterion]\n          )}\n        >\n          <option value=\"\">--</option>\n          {criterion.list.map(({ label }, value) => (\n            <option key={value} value={String(value)}>\n              {label}\n            </option>\n          ))}\n        </select>\n        {criterion.selected === \"\" ? (\n          <button onClick={onCreateFilter}>Save as new criteria</button>\n        ) : (\n          <>\n            <button onClick={onUpdateFilter} disabled={sameCriteria}>\n              Update criteria\n            </button>\n            <button onClick={onRenameFilter}>Rename criteria</button>\n            <button onClick={onRemoveFilter}>Remove criteria</button>\n          </>\n        )}\n      </label>\n    </div>\n  );\n}\n\nfunction CriteriaLabel({\n  filter,\n  options,\n  entries,\n  groupBy,\n  type,\n  yearFrom,\n  yearTo,\n  createdFrom,\n  createdTo,\n  priceFrom,\n  priceTo,\n  mileageFrom,\n  mileageTo,\n  powerFrom,\n  powerTo,\n  radius,\n  sortBy,\n}) {\n  return (\n    <fieldset>\n      {type && (\n        <div>\n          <span>Type</span> <span>{TYPES[type]}</span>\n        </div>\n      )}\n      {filter && (\n        <div>\n          <span>Search</span> <span>{filter}</span>\n        </div>\n      )}\n      <div>\n        <span>Sort</span> <span>{sortBy}</span>\n      </div>\n      {groupBy && (\n        <div>\n          <span>GroupBy</span> <span>{groupBy}</span>\n        </div>\n      )}\n      <div>\n        <span>Radius</span> <span>{`max ${radius} km`}</span>\n      </div>\n      <div>\n        <span>Year</span> <span>{`${yearFrom} - ${yearTo}`}</span>\n      </div>\n      <div>\n        <span>Mileage</span>{\" \"}\n        <span>{`${formatNumber(mileageFrom)} - ${formatNumber(\n          mileageTo\n        )} km`}</span>\n      </div>\n      <div>\n        <span>Price</span>{\" \"}\n        <span>{`${formatNumber(priceFrom)} - ${formatAmount(priceTo)}`}</span>\n      </div>\n      <div>\n        <span>Power</span> <span>{`${powerFrom} - ${powerTo} hp`}</span>\n      </div>\n      <div>\n        <span>Created</span> <span>{`${createdFrom} - ${createdTo}`}</span>\n      </div>\n      {Object.entries(entries)\n        .filter(([, value]: any) => value !== \"\")\n        .map(([name, value]: any, key) => (\n          <div key={key}>\n            <span>{name}</span> <span>{options[name][value]}</span>\n          </div>\n        ))}\n    </fieldset>\n  );\n}\n\nfunction Criteria({\n  search,\n  options,\n  entries,\n  groupBy,\n  type,\n  yearFrom,\n  yearTo,\n  createdFrom,\n  createdTo,\n  priceFrom,\n  priceTo,\n  mileageFrom,\n  mileageTo,\n  powerFrom,\n  powerTo,\n  radius,\n  setCriteria,\n  setSearch,\n  sortBy,\n  removed,\n  changedPrice,\n}) {\n  const onChangeSearch = useCallback(\n    ({ target }) => setSearch(target.value),\n    []\n  );\n\n  const onChangeCriteria = useCallback(\n    ({ target }) =>\n      setCriteria(({ entries, ...criteria }: { entries: {} }) => ({\n        ...criteria,\n        entries: {\n          ...entries,\n          [target.name]: target.value,\n        },\n      })),\n    []\n  );\n\n  const onChangeRadius = useCallback(\n    ({ target }) =>\n      setCriteria((criteria) => ({\n        ...criteria,\n        radius: Number(target.value),\n      })),\n    []\n  );\n\n  const onChangePriceFrom = useCallback(\n    ({ target }) =>\n      setCriteria(({ priceTo, ...criteria }) => {\n        const priceFrom = Number(target.value);\n        return {\n          ...criteria,\n          priceFrom,\n          priceTo: priceTo < priceFrom ? priceFrom : priceTo,\n        };\n      }),\n    []\n  );\n  const onChangePriceTo = useCallback(\n    ({ target }) =>\n      setCriteria(({ priceFrom, ...criteria }) => {\n        const priceTo = Number(target.value);\n        return {\n          ...criteria,\n          priceFrom: priceTo > priceFrom ? priceFrom : priceTo,\n          priceTo,\n        };\n      }),\n    []\n  );\n\n  const onChangeMileageFrom = useCallback(\n    ({ target }) =>\n      setCriteria(({ mileageTo, ...criteria }) => {\n        const mileageFrom = Number(target.value);\n        return {\n          ...criteria,\n          mileageFrom,\n          mileageTo: mileageTo < mileageFrom ? mileageFrom : mileageTo,\n        };\n      }),\n    []\n  );\n  const onChangeMileageTo = useCallback(\n    ({ target }) =>\n      setCriteria(({ mileageFrom, ...criteria }) => {\n        const mileageTo = Number(target.value);\n        return {\n          ...criteria,\n          mileageFrom: mileageTo > mileageFrom ? mileageFrom : mileageTo,\n          mileageTo,\n        };\n      }),\n    []\n  );\n\n  const onChangePowerFrom = useCallback(\n    ({ target }) =>\n      setCriteria(({ powerTo, ...criteria }) => {\n        const powerFrom = Number(target.value);\n        return {\n          ...criteria,\n          powerFrom,\n          powerTo: powerTo < powerFrom ? powerFrom : powerTo,\n        };\n      }),\n    []\n  );\n  const onChangePowerTo = useCallback(\n    ({ target }) =>\n      setCriteria(({ powerFrom, ...criteria }) => {\n        const powerTo = Number(target.value);\n        return {\n          ...criteria,\n          powerFrom: powerTo > powerFrom ? powerFrom : powerTo,\n          powerTo,\n        };\n      }),\n    []\n  );\n\n  const onChangeYearFrom = useCallback(\n    ({ target }) =>\n      setCriteria(({ yearTo, ...criteria }) => {\n        const yearFrom = Number(target.value);\n        return {\n          ...criteria,\n          yearFrom,\n          yearTo: yearTo < yearFrom ? yearFrom : yearTo,\n        };\n      }),\n    []\n  );\n  const onChangeYearTo = useCallback(\n    ({ target }) =>\n      setCriteria(({ yearFrom, ...criteria }) => {\n        const yearTo = Number(target.value);\n        return {\n          ...criteria,\n          yearFrom: yearTo > yearFrom ? yearFrom : yearTo,\n          yearTo,\n        };\n      }),\n    []\n  );\n\n  const onChangeCreatedFrom = useCallback(\n    ({ target }) =>\n      setCriteria(({ createdTo, ...criteria }) => {\n        const createdFrom = target.value;\n        return {\n          ...criteria,\n          createdFrom,\n          createdTo: createdTo < createdFrom ? createdFrom : createdTo,\n        };\n      }),\n    []\n  );\n  const onChangeCreatedTo = useCallback(\n    ({ target }) =>\n      setCriteria(({ createdFrom, ...criteria }) => {\n        const createdTo = target.value;\n        return {\n          ...criteria,\n          createdFrom: createdTo > createdFrom ? createdFrom : createdTo,\n          createdTo,\n        };\n      }),\n    []\n  );\n\n  return (\n    <fieldset>\n      <div>\n        <label>\n          <span>Type</span>\n          <select\n            value={type}\n            onChange={useCallback(\n              ({ target }) =>\n                setCriteria((criteria) => ({\n                  ...criteria,\n                  type: target.value,\n                })),\n              []\n            )}\n          >\n            {Object.entries(TYPES).map(([value, label]) => (\n              <option key={value} value={value}>\n                {label}\n              </option>\n            ))}\n          </select>\n        </label>\n        <label>\n          <span>Search</span>\n          <input type=\"search\" value={search} onChange={onChangeSearch} />\n        </label>\n        <label>\n          <span>Sort</span>\n          <select\n            value={sortBy}\n            onChange={useCallback(\n              ({ target }) =>\n                setCriteria((criteria) => ({\n                  ...criteria,\n                  sortBy: target.value,\n                })),\n              []\n            )}\n          >\n            {Object.entries(SORT_BY).map(([value]) => (\n              <option key={value} value={value}>\n                {value}\n              </option>\n            ))}\n          </select>\n        </label>\n        <label>\n          <span>GroupBy</span>\n          <select\n            value={groupBy}\n            onChange={useCallback(\n              ({ target }) =>\n                setCriteria((criteria) => ({\n                  ...criteria,\n                  groupBy: target.value,\n                })),\n              []\n            )}\n          >\n            {Object.entries(GROUP_BY).map(([value, label]) => (\n              <option key={value} value={value}>\n                {label}\n              </option>\n            ))}\n          </select>\n        </label>\n      </div>\n      <div>\n        <label>\n          <span>Radius</span>\n          <input\n            type=\"range\"\n            list=\"range-list\"\n            min={RADIUS_LIST[0]}\n            max={RADIUS_LIST[RADIUS_LIST.length - 1]}\n            value={radius}\n            onChange={onChangeRadius}\n          />\n          <datalist id=\"range-list\">\n            {RADIUS_LIST.map((value) => (\n              <option\n                key={value}\n                value={value}\n                label={[1, 25, 100].includes(value) ? `${value} km` : undefined}\n              ></option>\n            ))}\n          </datalist>\n          <span>{`max ${radius} km`}</span>\n        </label>\n      </div>\n      <div>\n        <label>\n          <span>Year From</span>\n          <input\n            type=\"range\"\n            list=\"year-list\"\n            min={YEAR_LIST[0]}\n            max={YEAR_LIST[YEAR_LIST.length - 1]}\n            value={yearFrom}\n            onChange={onChangeYearFrom}\n          />\n          <datalist id=\"year-list\">\n            {YEAR_LIST.map((value) => (\n              <option\n                key={value}\n                value={value}\n                label={\n                  [0, 2010, 2015, 2020].includes(value) ? `${value}` : undefined\n                }\n              ></option>\n            ))}\n          </datalist>\n        </label>\n        <label>\n          <span>Year To</span>\n          <input\n            type=\"range\"\n            list=\"year-list\"\n            min={YEAR_LIST[0]}\n            max={YEAR_LIST[YEAR_LIST.length - 1]}\n            value={yearTo}\n            onChange={onChangeYearTo}\n          />\n          <span>{`${yearFrom} - ${yearTo}`}</span>\n        </label>\n      </div>\n      <div>\n        <label>\n          <span>Mileage From</span>\n          <input\n            type=\"range\"\n            list=\"mileage-list\"\n            min={MILEAGE_LIST[0]}\n            max={MILEAGE_LIST[MILEAGE_LIST.length - 1]}\n            value={mileageFrom}\n            onChange={onChangeMileageFrom}\n          />\n          <datalist id=\"mileage-list\">\n            {MILEAGE_LIST.map((value) => (\n              <option\n                key={value}\n                value={value}\n                label={MILEAGE_LIST.includes(value) ? `${value}` : undefined}\n              ></option>\n            ))}\n          </datalist>\n        </label>\n        <label>\n          <span>Mileage To</span>\n          <input\n            type=\"range\"\n            list=\"mileage-list\"\n            min={MILEAGE_LIST[0]}\n            max={MILEAGE_LIST[MILEAGE_LIST.length - 1]}\n            value={mileageTo}\n            onChange={onChangeMileageTo}\n          />\n          <span>{`${mileageFrom} - ${mileageTo} km`}</span>\n        </label>\n      </div>\n      <div>\n        <label>\n          <span>Price From</span>\n          <input\n            type=\"range\"\n            list=\"price-list\"\n            min={PRICE_LIST[0]}\n            max={PRICE_LIST[PRICE_LIST.length - 1]}\n            value={priceFrom}\n            onChange={onChangePriceFrom}\n          />\n          <datalist id=\"price-list\">\n            {PRICE_LIST.map((value) => (\n              <option\n                key={value}\n                value={value}\n                label={\n                  [0, 100000, 200000, 300000, 400000, 500000].includes(value)\n                    ? formatAmount(value)\n                    : undefined\n                }\n              ></option>\n            ))}\n          </datalist>\n        </label>\n        <label>\n          <span>Price To</span>\n          <input\n            type=\"range\"\n            list=\"price-list\"\n            min={PRICE_LIST[0]}\n            max={PRICE_LIST[PRICE_LIST.length - 1]}\n            value={priceTo}\n            onChange={onChangePriceTo}\n          />\n          <span>{`${formatNumber(priceFrom)} - ${formatAmount(priceTo)}`}</span>\n        </label>\n      </div>\n      <div>\n        <label>\n          <span>Power From</span>\n          <input\n            type=\"range\"\n            list=\"power-list\"\n            min={POWER_LIST[0]}\n            max={POWER_LIST[POWER_LIST.length - 1]}\n            value={powerFrom}\n            onChange={onChangePowerFrom}\n          />\n          <datalist id=\"power-list\">\n            {POWER_LIST.map((value) => (\n              <option\n                key={value}\n                value={value}\n                label={POWER_LIST.includes(value) ? `${value} hp` : undefined}\n              ></option>\n            ))}\n          </datalist>\n        </label>\n        <label>\n          <span>Power To</span>\n          <input\n            type=\"range\"\n            list=\"power-list\"\n            min={POWER_LIST[0]}\n            max={POWER_LIST[POWER_LIST.length - 1]}\n            value={powerTo}\n            onChange={onChangePowerTo}\n          />\n          <span>{`${powerFrom} - ${powerTo} hp`}</span>\n        </label>\n      </div>\n      <div>\n        <label>\n          <span>Created From</span>\n          <input\n            type=\"date\"\n            value={createdFrom}\n            onChange={onChangeCreatedFrom}\n          />\n        </label>\n        <label>\n          <span>Created To</span>\n          <input type=\"date\" value={createdTo} onChange={onChangeCreatedTo} />\n        </label>\n      </div>\n      {Object.entries(entries)\n        .filter(([name]) => options[name])\n        .map(([name, value], key) => (\n          <div key={key}>\n            <label>\n              <span>{name}</span>\n              <select name={name} value={value} onChange={onChangeCriteria}>\n                <option value={\"\"}>--</option>\n                {Object.entries(options[name]).map(([value, label]: any) => (\n                  <option key={value} value={value}>\n                    {label}\n                  </option>\n                ))}\n              </select>\n            </label>\n          </div>\n        ))}\n      <div>\n        <label>\n          <span>Sold</span>\n          <select\n            value={removed}\n            onChange={useCallback(\n              ({ target }) =>\n                setCriteria((criteria) => ({\n                  ...criteria,\n                  removed: target.value,\n                })),\n              []\n            )}\n          >\n            {[\"\", \"0\", \"1\"].map((value) => (\n              <option key={value} value={value}>\n                {value}\n              </option>\n            ))}\n          </select>\n        </label>\n        <Toggle\n          checked={changedPrice}\n          onChange={() =>\n            setCriteria(\n              ({ changedPrice, ...criteria }: { changedPrice: boolean }) => ({\n                ...criteria,\n                changedPrice: !changedPrice,\n              })\n            )\n          }\n        >\n          Changed Price\n        </Toggle>\n      </div>\n    </fieldset>\n  );\n}\n\nfunction IdLink({\n  children: id,\n  setSearch,\n}: {\n  children: string;\n  setSearch: Function;\n}) {\n  return (\n    <>\n      [\n      <Link\n        onClick={(e) => (\n          e.preventDefault(),\n          setSearch((search: string) =>\n            (e.metaKey ? search.split(\",\").map((s) => s.trim()) : [])\n              .concat(String(id))\n              .filter((s) => s.length > 0)\n              .join(\", \")\n          )\n        )}\n      >\n        {id}\n      </Link>\n      ]\n    </>\n  );\n}\n\nfunction Details({\n  _time,\n  item,\n  onClickCompare,\n  prev,\n  favorites,\n  setFavorites,\n  setSearch,\n}: any) {\n  const {\n    id,\n    href,\n    title,\n    brand,\n    series = {},\n    seriesCode,\n    bodyType,\n    modelCode,\n    productionYear,\n    transactionalPrice,\n    newPrice,\n  } = item;\n\n  const changed = (prop) => item && prev && item[prop] !== prev[prop];\n\n  return (\n    <ul className={styles.Details}>\n      {!prev && (\n        <li>\n          <Color color={item.color} />\n          <IdLink setSearch={setSearch}>{id}</IdLink>{\" \"}\n          <Link href={href}>{title}</Link>{\" \"}\n          {onClickCompare && (\n            <Button onClick={onClickCompare} value={item._id}>\n              Compare\n            </Button>\n          )}\n          {setFavorites && (\n            <Toggle\n              checked={favorites.includes(id)}\n              onChange={(e) =>\n                setFavorites((favorites) =>\n                  e.target.checked\n                    ? favorites.concat(id)\n                    : favorites.filter((favorite) => favorite !== id)\n                )\n              }\n            >\n              Favorite\n            </Toggle>\n          )}\n        </li>\n      )}\n      {!prev && (\n        <li>\n          <IdLink setSearch={setSearch}>\n            {typeof seriesCode === \"object\" ? seriesCode.label : seriesCode}\n          </IdLink>{\" \"}\n          {brand.label} {series.label} {bodyType.label} {item.fuel.label}{\" \"}\n          {item.transmission.label}\n        </li>\n      )}\n      {!prev && (\n        <li>\n          <IdLink setSearch={setSearch}>\n            {typeof modelCode === \"object\" ? modelCode.label : modelCode}\n          </IdLink>{\" \"}\n          {item.capacity && <span>capacity: {item.capacity}</span>}{\" \"}\n          {item.powerHP && <span>powerHP: {item.powerHP}</span>}{\" \"}\n          {item.consumptionFuel && (\n            <span>consumptionFuel: {item.consumptionFuel}</span>\n          )}{\" \"}\n          {item.emission && <span>emission: {item.emission}</span>}\n        </li>\n      )}\n      <li>\n        <span\n          className={cx(\n            styles.Compare,\n            changed(\"productionYear\") && styles.changed\n          )}\n        >\n          productionYear: {productionYear}\n        </span>{\" \"}\n        {Boolean(newPrice) && (\n          <span\n            className={cx(\n              styles.Compare,\n              changed(\"newPrice\") && styles.changed\n            )}\n          >\n            newPrice: {formatAmount(newPrice)}\n          </span>\n        )}{\" \"}\n        {Boolean(item.optionsPrice) && (\n          <span\n            className={cx(\n              styles.Compare,\n              changed(\"optionsPrice\") && styles.changed\n            )}\n          >\n            optionsPrice: {formatAmount(item.optionsPrice)}\n          </span>\n        )}{\" \"}\n        {Boolean(item.accessoriesPrice) && (\n          <span\n            className={cx(\n              styles.Compare,\n              changed(\"accessoriesPrice\") && styles.changed\n            )}\n          >\n            accessoriesPrice: {formatAmount(item.accessoriesPrice)}\n          </span>\n        )}\n      </li>\n      {Boolean(item.registration || item.age || item.mileage) && (\n        <li>\n          {item.registration && (\n            <span\n              className={cx(\n                styles.Compare,\n                changed(\"registration\") && styles.changed\n              )}\n            >\n              registration: {item.registration.split(\"T\")[0]}\n            </span>\n          )}{\" \"}\n          {Boolean(item.age) && (\n            <span\n              className={cx(styles.Compare, changed(\"age\") && styles.changed)}\n            >\n              age: {item.age}\n            </span>\n          )}{\" \"}\n          {Boolean(item.mileage) && (\n            <span\n              className={cx(\n                styles.Compare,\n                changed(\"mileage\") && styles.changed\n              )}\n            >\n              mileage: {formatNumber(item.mileage)} km\n            </span>\n          )}\n        </li>\n      )}\n      <li>\n        <span\n          className={cx(\n            styles.Compare,\n            changed(\"transactionalPrice\") && styles.changed\n          )}\n        >\n          transactionalPrice: {formatAmount(transactionalPrice)}\n          {Boolean(newPrice) && (\n            <span> ({Math.round((100 * transactionalPrice) / newPrice)}%)</span>\n          )}\n        </span>{\" \"}\n        {Boolean(item.transactionalPriceUpdated) && (\n          <span\n            className={cx(\n              styles.Compare,\n              changed(\"transactionalPriceUpdated\") && styles.changed\n            )}\n            title={item.transactionalPriceUpdated.split(\"+\")[0]}\n          >\n            transactionalPriceUpdated:{\" \"}\n            {item.transactionalPriceUpdated.split(\"T\")[0]}\n          </span>\n        )}{\" \"}\n        {Boolean(item.vatReclaimable) && (\n          <span\n            className={cx(\n              styles.Compare,\n              changed(\"vatReclaimable\") && styles.changed\n            )}\n          >\n            vatReclaimable\n          </span>\n        )}{\" \"}\n        {Boolean(item.warranty) && (\n          <span\n            className={cx(\n              styles.Compare,\n              changed(\"warranty\") && styles.changed\n            )}\n          >\n            warranty: {item.warranty}\n          </span>\n        )}\n      </li>\n      {(_time || item.imagesLastChanged) && (\n        <li>\n          [{_time ? format(Number(_time), \"yyyy-MM-dd HH:mm\") : \"-\"}]{\" \"}\n          <span\n            className={cx(styles.Compare, changed(\"created\") && styles.changed)}\n            title={item.created.split(\"+\")[0]}\n          >\n            created: {item.created.split(\"T\")[0]}\n          </span>{\" \"}\n          {item.imagesLastChanged && (\n            <span\n              className={cx(\n                styles.Compare,\n                changed(\"imagesLastChanged\") && styles.changed\n              )}\n              title={item.imagesLastChanged.split(\"+\")[0]}\n            >\n              imagesLastChanged: {item.imagesLastChanged.split(\"T\")[0]}\n            </span>\n          )}\n        </li>\n      )}\n      {(item._created || item._updated || item._removed) && (\n        <li>\n          {item._created && (\n            <span className={cx(styles.Compare)}>\n              _created: {format(Number(item._created), \"yyyy-MM-dd HH:mm\")}{\" \"}\n            </span>\n          )}\n          {item._updated && (\n            <span className={cx(styles.Compare)}>\n              _updated: {format(Number(item._updated), \"yyyy-MM-dd HH:mm\")}{\" \"}\n            </span>\n          )}\n          {Boolean(item._removed) && (\n            <span className={cx(styles.Compare)}>\n              _removed: {format(Number(item._removed), \"yyyy-MM-dd HH:mm\")}{\" \"}\n            </span>\n          )}\n        </li>\n      )}\n      {!prev && item.leasable && (\n        <li>\n          <Leasing item={item} />\n        </li>\n      )}\n      {!prev && item.options && (\n        <li>\n          <Options options={item.options} />\n        </li>\n      )}\n      {!prev && item._history && (\n        <li>\n          <History item={item} />\n        </li>\n      )}\n    </ul>\n  );\n}\n\nfunction History({ item }) {\n  const [expand, setExpand] = useState(false);\n\n  const { id } = item;\n\n  return (\n    <div>\n      <div>\n        <Link\n          onClick={(e) => (e.preventDefault(), setExpand((expand) => !expand))}\n        >\n          {expand ? \"Hide history\" : \"Show history\"}\n        </Link>{\" \"}\n        ({Object.keys(item._history).length})\n      </div>\n      {expand &&\n        Object.entries(item._history || {})\n          .reverse()\n          .map(([_time, _item], key, list) => (\n            <Details\n              key={_time}\n              _time={_time}\n              item={{ id, ..._item }}\n              prev={key ? list[key - 1][1] : item}\n            />\n          ))}\n    </div>\n  );\n}\n\nfunction Leasing({ item }) {\n  const [expand, setExpand] = useState(false);\n\n  return (\n    <div>\n      <div>\n        <Link\n          onClick={(e) => (e.preventDefault(), setExpand((expand) => !expand))}\n        >\n          {expand ? \"Hide leasing\" : \"Show leasing\"}\n        </Link>{\" \"}\n        {item.comfortLeaseProduct &&\n          (({ label, type, calculationMode }) => (\n            <span>{`${label} (${[type, calculationMode]\n              .filter(Boolean)\n              .join(\" / \")})`}</span>\n          ))(item.comfortLeaseProduct)}{\" \"}\n        {item.leaseProduct &&\n          (({ label, type, calculationMode }) => (\n            <span>{`${label} (${[type, calculationMode]\n              .filter(Boolean)\n              .join(\" / \")})`}</span>\n          ))(item.leaseProduct)}\n      </div>\n      {expand && item.comfortLeaseProduct && (\n        <Calculator productType={ProductTypes.COMFORT_LEASE} vehicle={item} />\n      )}\n      {expand && item.leaseProduct && (\n        <Calculator productType={ProductTypes.LEASE} vehicle={item} />\n      )}\n    </div>\n  );\n}\n\nfunction Options({ options }: { options: string[] }) {\n  const [expand, setExpand] = useState(false);\n\n  return (\n    <div className={styles.Options}>\n      <Link\n        onClick={(e) => (e.preventDefault(), setExpand((expand) => !expand))}\n      >\n        {expand ? \"Hide options\" : \"Show options\"}\n      </Link>{\" \"}\n      {expand && (\n        <div className={styles.Textarea}>\n          <textarea\n            value={options.join(\"\\n\")}\n            rows={options.length}\n            onFocus={({ target }) => target.select()}\n            readOnly\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default function Section() {\n  return (\n    <div className={styles.Section}>\n      <h2>Vehicles</h2>\n      <Data />\n    </div>\n  );\n}\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".zDhTSHDK36rhYKliKHPK{position:relative;width:100%;height:100%;overflow-x:auto;overflow-y:hidden;display:flex;flex-direction:row;flex-wrap:nowrap;scroll-snap-type:x mandatory;transition:transform 300ms cubic-bezier(0.2, 0, 0.2, 1)}.zDhTSHDK36rhYKliKHPK:hover{transform:scale(1.05)}.zDhTSHDK36rhYKliKHPK img{max-height:100%;scroll-snap-align:start}.zDhTSHDK36rhYKliKHPK .UnJMuQpv6llk8RTmAd38{width:100%;height:100%;flex-shrink:0}.zDhTSHDK36rhYKliKHPK .OlL7a_v2j0k69bWinjIu{cursor:inherit;display:flex;flex-shrink:0;margin:0;padding:0;border:0;width:100%;height:100%;background:#d3d3d3}.zDhTSHDK36rhYKliKHPK .dqe1lChX5OeU5si424uG{width:100%;height:100%}.dqe1lChX5OeU5si424uG{display:flex;align-items:center;justify-content:center}.dqe1lChX5OeU5si424uG svg{flex:none;width:64px;height:64px}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/Gallery/styles.module.scss\"],\"names\":[],\"mappings\":\"AAAA,sBACE,iBAAA,CACA,UAAA,CACA,WAAA,CACA,eAAA,CACA,iBAAA,CACA,YAAA,CACA,kBAAA,CACA,gBAAA,CACA,4BAAA,CACA,uDAAA,CAEA,4BACE,qBAAA,CAGF,0BACE,eAAA,CACA,uBAAA,CAGF,4CACE,UAAA,CACA,WAAA,CACA,aAAA,CAGF,4CACE,cAAA,CACA,YAAA,CACA,aAAA,CACA,QAAA,CACA,SAAA,CACA,QAAA,CACA,UAAA,CACA,WAAA,CACA,kBAAA,CAGF,4CACE,UAAA,CACA,WAAA,CAGJ,sBACE,YAAA,CACA,kBAAA,CACA,sBAAA,CAEA,0BACE,SAAA,CACA,UAAA,CACA,WAAA\",\"sourcesContent\":[\".Gallery {\\n  position: relative;\\n  width: 100%;\\n  height: 100%;\\n  overflow-x: auto;\\n  overflow-y: hidden;\\n  display: flex;\\n  flex-direction: row;\\n  flex-wrap: nowrap;\\n  scroll-snap-type: x mandatory;\\n  transition: transform 300ms cubic-bezier(0.2, 0, 0.2, 1);\\n\\n  &:hover {\\n    transform: scale(1.05);\\n  }\\n\\n  img {\\n    max-height: 100%;\\n    scroll-snap-align: start;\\n  }\\n\\n  .ImgWrapper {\\n    width: 100%;\\n    height: 100%;\\n    flex-shrink: 0;\\n  }\\n\\n  .Link {\\n    cursor: inherit;\\n    display: flex;\\n    flex-shrink: 0;\\n    margin: 0;\\n    padding: 0;\\n    border: 0;\\n    width: 100%;\\n    height: 100%;\\n    background: lightgrey;\\n  }\\n\\n  .Loader {\\n    width: 100%;\\n    height: 100%;\\n  }\\n}\\n.Loader {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n\\n  svg {\\n    flex: none;\\n    width: 64px;\\n    height: 64px;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"Gallery\": \"zDhTSHDK36rhYKliKHPK\",\n\t\"ImgWrapper\": \"UnJMuQpv6llk8RTmAd38\",\n\t\"Link\": \"OlL7a_v2j0k69bWinjIu\",\n\t\"Loader\": \"dqe1lChX5OeU5si424uG\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".jym2UAfwYghQzKOP2VHa{position:relative;border:2px solid red}.jym2UAfwYghQzKOP2VHa svg{width:100%;height:50vh}.jym2UAfwYghQzKOP2VHa .s381NcqWwmo0Qir3pBAh{position:absolute}.s381NcqWwmo0Qir3pBAh{background:#fff;border:1px solid #add8e6;color:orange;padding:.25em}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/containers/Vehicles/Chart.module.scss\"],\"names\":[],\"mappings\":\"AAAA,sBACE,iBAAA,CACA,oBAAA,CAEA,0BACE,UAAA,CACA,WAAA,CAEF,4CACE,iBAAA,CAGJ,sBACE,eAAA,CACA,wBAAA,CACA,YAAA,CACA,aAAA\",\"sourcesContent\":[\".Chart {\\n  position: relative;\\n  border: 2px solid red;\\n\\n  svg {\\n    width: 100%;\\n    height: 50vh;\\n  }\\n  .Tooltip {\\n    position: absolute;\\n  }\\n}\\n.Tooltip {\\n  background: white;\\n  border: 1px solid lightblue;\\n  color: orange;\\n  padding: 0.25em;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"Chart\": \"jym2UAfwYghQzKOP2VHa\",\n\t\"Tooltip\": \"s381NcqWwmo0Qir3pBAh\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_0___ from \"-!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/leaflet/dist/leaflet.css\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".vXpyyqKMf2Eg0uZBGb3A{height:75vh;border:2px solid red}.vXpyyqKMf2Eg0uZBGb3A header{font-weight:bold}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/containers/Vehicles/Map.module.scss\"],\"names\":[],\"mappings\":\"AAKA,sBACE,WAAA,CACA,oBAAA,CAEA,6BACE,gBAAA\",\"sourcesContent\":[\"@import \\\"~leaflet/dist/leaflet.css\\\";\\n\\n.Layout {\\n}\\n\\n.Map {\\n  height: 75vh;\\n  border: 2px solid red;\\n\\n  header {\\n    font-weight: bold;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"Map\": \"vXpyyqKMf2Eg0uZBGb3A\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".dnNulWhTs84wB_yi0tu2{color:green}.eZcT7zT7zcKeynqlJ5cC{clear:both}.LihBxmStNILK5SsWSml4{display:inline-block;width:1em;height:1em;border:2px solid #000;border-radius:50%}.WV27lBhC9zjxECQGlM6O{float:left;width:200px;height:150px}.REcFotXkdh1Z8ismoSwA{color:gray}.REcFotXkdh1Z8ismoSwA .FEMh9gY8aLCa_GmJxYqs{color:#000}.REcFotXkdh1Z8ismoSwA .FEMh9gY8aLCa_GmJxYqs.MS_t7pWYsJpHZMz6NksN{color:red}.GqQc0IFx8eGo5m39e7Et .sVmi9FA2y8ggDUalGhwt{display:flex;flex-direction:column}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/containers/Vehicles/styles.module.scss\"],\"names\":[],\"mappings\":\"AAAA,sBACE,WAAA,CAEF,sBACE,UAAA,CAEF,sBACE,oBAAA,CACA,SAAA,CACA,UAAA,CACA,qBAAA,CACA,iBAAA,CAEF,sBACE,UAAA,CACA,WAAA,CACA,YAAA,CAEF,sBACE,UAAA,CAEA,4CACE,UAAA,CACA,iEACE,SAAA,CAKJ,4CACE,YAAA,CACA,qBAAA\",\"sourcesContent\":[\".Section {\\n  color: green;\\n}\\n.Row {\\n  clear: both;\\n}\\n.Color {\\n  display: inline-block;\\n  width: 1em;\\n  height: 1em;\\n  border: 2px solid black;\\n  border-radius: 50%;\\n}\\n.Gallery {\\n  float: left;\\n  width: 200px;\\n  height: 150px;\\n}\\n.Details {\\n  color: gray;\\n\\n  .Compare {\\n    color: black;\\n    &.changed {\\n      color: red;\\n    }\\n  }\\n}\\n.Options {\\n  .Textarea {\\n    display: flex;\\n    flex-direction: column;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"Section\": \"dnNulWhTs84wB_yi0tu2\",\n\t\"Row\": \"eZcT7zT7zcKeynqlJ5cC\",\n\t\"Color\": \"LihBxmStNILK5SsWSml4\",\n\t\"Gallery\": \"WV27lBhC9zjxECQGlM6O\",\n\t\"Details\": \"REcFotXkdh1Z8ismoSwA\",\n\t\"Compare\": \"FEMh9gY8aLCa_GmJxYqs\",\n\t\"changed\": \"MS_t7pWYsJpHZMz6NksN\",\n\t\"Options\": \"GqQc0IFx8eGo5m39e7Et\",\n\t\"Textarea\": \"sVmi9FA2y8ggDUalGhwt\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n"],"names":["Spinner","height","width","color","radius","label","viewBox","xmlns","x1","y1","x2","y2","id","stopColor","stopOpacity","offset","fill","fillRule","transform","d","stroke","strokeWidth","attributeName","type","from","to","dur","repeatCount","cx","cy","r","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","undefined","image","createAsset","src","Promise","resolve","img","Image","Object","assign","onload","onerror","w","faImage","icon","h","Link","children","props","className","styles","Img","read","referrerPolicy","Loader","ImgWrapper","Suspense","fallback","Gallery","images","useState","inView","setInView","isMore","setIsMore","ref","useRef","scale","state","setState","toggleZoom","useCallback","e","stopPropagation","current","getBoundingClientRect","x","y","window","innerWidth","innerHeight","translateX","translateY","useEffect","handleScroll","target","scrollLeft","scrollWidth","offsetWidth","HTMLElement","observer","IntersectionObserver","isIntersecting","root","rootMargin","threshold","observe","addEventListener","unobserve","removeEventListener","length","style","cursor","zIndex","onClick","slice","map","index","key","alt","href","hash","rel","DisplayPosition","initial","position","getCenter","zoom","getZoom","setPosition","setView","onMove","onLocationFound","event","latlng","console","log","on","off","lat","toFixed","lng","locate","DraggableMarker","markerRef","eventHandlers","useMemo","dragend","marker","getLatLng","Marker","draggable","Tooltip","LocateControl","useMap","onLocate","preventDefault","top","fontSize","title","faCrosshairs","PROPS","accessoriesPrice","age","capacity","consumptionFuel","emission","mileage","newPrice","optionsPrice","powerHP","powerKW","productionYear","transactionalPrice","warranty","_created","_updated","Chart","list","onSelect","selected","setSelected","xProp","yProp","setProps","xAxisRef","yAxisRef","containerRef","selected$","Subject","subscription","pipe","switchMap","of","delay","subscribe","unsubscribe","dataset","item","xx","yy","xDomain","Math","min","max","yDomain","xScale","scaleLinear","domain","range","yScale","select","selectAll","remove","data","join","enter","append","attr","next","left","layerX","layerY","i","call","transition","duration","update","exit","xAxis","axisBottom","ticks","tickSizeOuter","yAxis","axisLeft","value","onChange","entries","Map","bounds","center","setCenter","L","iconRetinaUrl","require","iconUrl","shadowUrl","setMap","displayMap","MapContainer","whenCreated","TileLayer","attribution","url","D","name","CircleMarker","pathOptions","Popup","minWidth","distanceTo","GROUP_BY","brand","modelCode","seriesCode","_removed","SORT_BY","registration","RADIUS_LIST","PRICE_LIST","MILEAGE_LIST","POWER_LIST","TYPES","N","U","YEAR_LIST","Array","_","Date","getFullYear","reverse","formatNumber","Intl","NumberFormat","format","formatAmount","useCriterion","createPersistedState","useFavorites","asset","version","fetch","res","json","then","results","reduce","prop","rest","keys","forEach","sort","a","b","String","result","Button","Toggle","Color","backgroundColor","code","createCriteria","search","defaults","filter","groupBy","sortBy","priceFrom","priceTo","mileageFrom","mileageTo","powerFrom","powerTo","yearFrom","yearTo","createdFrom","now","createdTo","criteria","removed","changedPrice","Data","setSearch","setCriteria","search$","trim","distinctUntilChanged","debounceTime","onClickCompare","_id","getPoint","tree","createKDTree","table","knn","find","dealer","labels","_history","split","s","includes","toLowerCase","match","isNew","getTime","concat","values","array","indexOf","findIndex","getBounds","useBounds","process","nearby","sorted","grouped","group","favorites","setFavorites","criterion","setCriterion","chart","expand","setExpand","Criteria","CriteriaLabel","SavedFilters","Favorite","Summary","Details","sortByKey","summary","created","$apply","count","updated","JSON","stringify","favorite","IdLink","onCreateFilter","prompt","onUpdateFilter","onRenameFilter","onRemoveFilter","_item","sameCriteria","disabled","onChangeSearch","onChangeCriteria","onChangeRadius","Number","onChangePriceFrom","onChangePriceTo","onChangeMileageFrom","onChangeMileageTo","onChangePowerFrom","onChangePowerTo","onChangeYearFrom","onChangeYearTo","onChangeCreatedFrom","onChangeCreatedTo","checked","metaKey","_time","prev","series","bodyType","changed","fuel","transmission","Boolean","round","transactionalPriceUpdated","vatReclaimable","imagesLastChanged","leasable","Leasing","Options","History","calculationMode","comfortLeaseProduct","leaseProduct","Calculator","productType","ProductTypes","vehicle","rows","onFocus","readOnly","Section","___CSS_LOADER_EXPORT___","push","module","locals"],"sourceRoot":""}