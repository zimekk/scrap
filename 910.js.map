{"version":3,"file":"910.js","mappings":"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","sources":["webpack://@dev/web/../../node_modules/bit-twiddle/twiddle.js","webpack://@dev/web/../../node_modules/cwise-compiler/compiler.js","webpack://@dev/web/../../node_modules/cwise-compiler/lib/compile.js","webpack://@dev/web/../../node_modules/cwise-compiler/lib/thunk.js","webpack://@dev/web/../../node_modules/dup/dup.js","webpack://@dev/web/../../node_modules/immutability-helper/index.js","webpack://@dev/web/../../node_modules/inorder-tree-layout/inorder.js","webpack://@dev/web/../../node_modules/inorder-tree-layout/node_modules/bit-twiddle/twiddle.js","webpack://@dev/web/../../node_modules/iota-array/iota.js","webpack://@dev/web/../../node_modules/is-buffer/index.js","webpack://@dev/web/../../node_modules/ndarray-ops/ndarray-ops.js","webpack://@dev/web/../../node_modules/ndarray-pack/convert.js","webpack://@dev/web/../../node_modules/ndarray-pack/doConvert.js","webpack://@dev/web/../../node_modules/ndarray-scratch/scratch.js","webpack://@dev/web/../../node_modules/ndarray-select/select.js","webpack://@dev/web/../../node_modules/ndarray/ndarray.js","webpack://@dev/web/../../node_modules/rxjs/dist/esm5/internal/operators/distinctUntilChanged.js","webpack://@dev/web/../../node_modules/static-kdtree/kdtree.js","webpack://@dev/web/../../node_modules/static-kdtree/lib/heap.js","webpack://@dev/web/../../node_modules/typedarray-pool/pool.js","webpack://@dev/web/../../node_modules/uniq/uniq.js","webpack://@dev/web/../../node_modules/use-persisted-state/dist/use-persisted-state.m.js","webpack://@dev/web/../../node_modules/@use-it/event-listener/dist/event-listener.m.js","webpack://@dev/web/../../node_modules/react-leaflet/lib/CircleMarker.js","webpack://@dev/web/../../node_modules/@react-leaflet/core/lib/circle.js","webpack://@dev/web/../../node_modules/react-leaflet/lib/Popup.js"],"sourcesContent":["/**\n * Bit twiddling hacks for JavaScript.\n *\n * Author: Mikola Lysenko\n *\n * Ported from Stanford bit twiddling hack library:\n *    http://graphics.stanford.edu/~seander/bithacks.html\n */\n\n\"use strict\"; \"use restrict\";\n\n//Number of bits in an integer\nvar INT_BITS = 32;\n\n//Constants\nexports.INT_BITS  = INT_BITS;\nexports.INT_MAX   =  0x7fffffff;\nexports.INT_MIN   = -1<<(INT_BITS-1);\n\n//Returns -1, 0, +1 depending on sign of x\nexports.sign = function(v) {\n  return (v > 0) - (v < 0);\n}\n\n//Computes absolute value of integer\nexports.abs = function(v) {\n  var mask = v >> (INT_BITS-1);\n  return (v ^ mask) - mask;\n}\n\n//Computes minimum of integers x and y\nexports.min = function(x, y) {\n  return y ^ ((x ^ y) & -(x < y));\n}\n\n//Computes maximum of integers x and y\nexports.max = function(x, y) {\n  return x ^ ((x ^ y) & -(x < y));\n}\n\n//Checks if a number is a power of two\nexports.isPow2 = function(v) {\n  return !(v & (v-1)) && (!!v);\n}\n\n//Computes log base 2 of v\nexports.log2 = function(v) {\n  var r, shift;\n  r =     (v > 0xFFFF) << 4; v >>>= r;\n  shift = (v > 0xFF  ) << 3; v >>>= shift; r |= shift;\n  shift = (v > 0xF   ) << 2; v >>>= shift; r |= shift;\n  shift = (v > 0x3   ) << 1; v >>>= shift; r |= shift;\n  return r | (v >> 1);\n}\n\n//Computes log base 10 of v\nexports.log10 = function(v) {\n  return  (v >= 1000000000) ? 9 : (v >= 100000000) ? 8 : (v >= 10000000) ? 7 :\n          (v >= 1000000) ? 6 : (v >= 100000) ? 5 : (v >= 10000) ? 4 :\n          (v >= 1000) ? 3 : (v >= 100) ? 2 : (v >= 10) ? 1 : 0;\n}\n\n//Counts number of bits\nexports.popCount = function(v) {\n  v = v - ((v >>> 1) & 0x55555555);\n  v = (v & 0x33333333) + ((v >>> 2) & 0x33333333);\n  return ((v + (v >>> 4) & 0xF0F0F0F) * 0x1010101) >>> 24;\n}\n\n//Counts number of trailing zeros\nfunction countTrailingZeros(v) {\n  var c = 32;\n  v &= -v;\n  if (v) c--;\n  if (v & 0x0000FFFF) c -= 16;\n  if (v & 0x00FF00FF) c -= 8;\n  if (v & 0x0F0F0F0F) c -= 4;\n  if (v & 0x33333333) c -= 2;\n  if (v & 0x55555555) c -= 1;\n  return c;\n}\nexports.countTrailingZeros = countTrailingZeros;\n\n//Rounds to next power of 2\nexports.nextPow2 = function(v) {\n  v += v === 0;\n  --v;\n  v |= v >>> 1;\n  v |= v >>> 2;\n  v |= v >>> 4;\n  v |= v >>> 8;\n  v |= v >>> 16;\n  return v + 1;\n}\n\n//Rounds down to previous power of 2\nexports.prevPow2 = function(v) {\n  v |= v >>> 1;\n  v |= v >>> 2;\n  v |= v >>> 4;\n  v |= v >>> 8;\n  v |= v >>> 16;\n  return v - (v>>>1);\n}\n\n//Computes parity of word\nexports.parity = function(v) {\n  v ^= v >>> 16;\n  v ^= v >>> 8;\n  v ^= v >>> 4;\n  v &= 0xf;\n  return (0x6996 >>> v) & 1;\n}\n\nvar REVERSE_TABLE = new Array(256);\n\n(function(tab) {\n  for(var i=0; i<256; ++i) {\n    var v = i, r = i, s = 7;\n    for (v >>>= 1; v; v >>>= 1) {\n      r <<= 1;\n      r |= v & 1;\n      --s;\n    }\n    tab[i] = (r << s) & 0xff;\n  }\n})(REVERSE_TABLE);\n\n//Reverse bits in a 32 bit word\nexports.reverse = function(v) {\n  return  (REVERSE_TABLE[ v         & 0xff] << 24) |\n          (REVERSE_TABLE[(v >>> 8)  & 0xff] << 16) |\n          (REVERSE_TABLE[(v >>> 16) & 0xff] << 8)  |\n           REVERSE_TABLE[(v >>> 24) & 0xff];\n}\n\n//Interleave bits of 2 coordinates with 16 bits.  Useful for fast quadtree codes\nexports.interleave2 = function(x, y) {\n  x &= 0xFFFF;\n  x = (x | (x << 8)) & 0x00FF00FF;\n  x = (x | (x << 4)) & 0x0F0F0F0F;\n  x = (x | (x << 2)) & 0x33333333;\n  x = (x | (x << 1)) & 0x55555555;\n\n  y &= 0xFFFF;\n  y = (y | (y << 8)) & 0x00FF00FF;\n  y = (y | (y << 4)) & 0x0F0F0F0F;\n  y = (y | (y << 2)) & 0x33333333;\n  y = (y | (y << 1)) & 0x55555555;\n\n  return x | (y << 1);\n}\n\n//Extracts the nth interleaved component\nexports.deinterleave2 = function(v, n) {\n  v = (v >>> n) & 0x55555555;\n  v = (v | (v >>> 1))  & 0x33333333;\n  v = (v | (v >>> 2))  & 0x0F0F0F0F;\n  v = (v | (v >>> 4))  & 0x00FF00FF;\n  v = (v | (v >>> 16)) & 0x000FFFF;\n  return (v << 16) >> 16;\n}\n\n\n//Interleave bits of 3 coordinates, each with 10 bits.  Useful for fast octree codes\nexports.interleave3 = function(x, y, z) {\n  x &= 0x3FF;\n  x  = (x | (x<<16)) & 4278190335;\n  x  = (x | (x<<8))  & 251719695;\n  x  = (x | (x<<4))  & 3272356035;\n  x  = (x | (x<<2))  & 1227133513;\n\n  y &= 0x3FF;\n  y  = (y | (y<<16)) & 4278190335;\n  y  = (y | (y<<8))  & 251719695;\n  y  = (y | (y<<4))  & 3272356035;\n  y  = (y | (y<<2))  & 1227133513;\n  x |= (y << 1);\n  \n  z &= 0x3FF;\n  z  = (z | (z<<16)) & 4278190335;\n  z  = (z | (z<<8))  & 251719695;\n  z  = (z | (z<<4))  & 3272356035;\n  z  = (z | (z<<2))  & 1227133513;\n  \n  return x | (z << 2);\n}\n\n//Extracts nth interleaved component of a 3-tuple\nexports.deinterleave3 = function(v, n) {\n  v = (v >>> n)       & 1227133513;\n  v = (v | (v>>>2))   & 3272356035;\n  v = (v | (v>>>4))   & 251719695;\n  v = (v | (v>>>8))   & 4278190335;\n  v = (v | (v>>>16))  & 0x3FF;\n  return (v<<22)>>22;\n}\n\n//Computes next combination in colexicographic order (this is mistakenly called nextPermutation on the bit twiddling hacks page)\nexports.nextCombination = function(v) {\n  var t = v | (v - 1);\n  return (t + 1) | (((~t & -~t) - 1) >>> (countTrailingZeros(v) + 1));\n}\n\n","\"use strict\"\n\nvar createThunk = require(\"./lib/thunk.js\")\n\nfunction Procedure() {\n  this.argTypes = []\n  this.shimArgs = []\n  this.arrayArgs = []\n  this.arrayBlockIndices = []\n  this.scalarArgs = []\n  this.offsetArgs = []\n  this.offsetArgIndex = []\n  this.indexArgs = []\n  this.shapeArgs = []\n  this.funcName = \"\"\n  this.pre = null\n  this.body = null\n  this.post = null\n  this.debug = false\n}\n\nfunction compileCwise(user_args) {\n  //Create procedure\n  var proc = new Procedure()\n  \n  //Parse blocks\n  proc.pre    = user_args.pre\n  proc.body   = user_args.body\n  proc.post   = user_args.post\n\n  //Parse arguments\n  var proc_args = user_args.args.slice(0)\n  proc.argTypes = proc_args\n  for(var i=0; i<proc_args.length; ++i) {\n    var arg_type = proc_args[i]\n    if(arg_type === \"array\" || (typeof arg_type === \"object\" && arg_type.blockIndices)) {\n      proc.argTypes[i] = \"array\"\n      proc.arrayArgs.push(i)\n      proc.arrayBlockIndices.push(arg_type.blockIndices ? arg_type.blockIndices : 0)\n      proc.shimArgs.push(\"array\" + i)\n      if(i < proc.pre.args.length && proc.pre.args[i].count>0) {\n        throw new Error(\"cwise: pre() block may not reference array args\")\n      }\n      if(i < proc.post.args.length && proc.post.args[i].count>0) {\n        throw new Error(\"cwise: post() block may not reference array args\")\n      }\n    } else if(arg_type === \"scalar\") {\n      proc.scalarArgs.push(i)\n      proc.shimArgs.push(\"scalar\" + i)\n    } else if(arg_type === \"index\") {\n      proc.indexArgs.push(i)\n      if(i < proc.pre.args.length && proc.pre.args[i].count > 0) {\n        throw new Error(\"cwise: pre() block may not reference array index\")\n      }\n      if(i < proc.body.args.length && proc.body.args[i].lvalue) {\n        throw new Error(\"cwise: body() block may not write to array index\")\n      }\n      if(i < proc.post.args.length && proc.post.args[i].count > 0) {\n        throw new Error(\"cwise: post() block may not reference array index\")\n      }\n    } else if(arg_type === \"shape\") {\n      proc.shapeArgs.push(i)\n      if(i < proc.pre.args.length && proc.pre.args[i].lvalue) {\n        throw new Error(\"cwise: pre() block may not write to array shape\")\n      }\n      if(i < proc.body.args.length && proc.body.args[i].lvalue) {\n        throw new Error(\"cwise: body() block may not write to array shape\")\n      }\n      if(i < proc.post.args.length && proc.post.args[i].lvalue) {\n        throw new Error(\"cwise: post() block may not write to array shape\")\n      }\n    } else if(typeof arg_type === \"object\" && arg_type.offset) {\n      proc.argTypes[i] = \"offset\"\n      proc.offsetArgs.push({ array: arg_type.array, offset:arg_type.offset })\n      proc.offsetArgIndex.push(i)\n    } else {\n      throw new Error(\"cwise: Unknown argument type \" + proc_args[i])\n    }\n  }\n  \n  //Make sure at least one array argument was specified\n  if(proc.arrayArgs.length <= 0) {\n    throw new Error(\"cwise: No array arguments specified\")\n  }\n  \n  //Make sure arguments are correct\n  if(proc.pre.args.length > proc_args.length) {\n    throw new Error(\"cwise: Too many arguments in pre() block\")\n  }\n  if(proc.body.args.length > proc_args.length) {\n    throw new Error(\"cwise: Too many arguments in body() block\")\n  }\n  if(proc.post.args.length > proc_args.length) {\n    throw new Error(\"cwise: Too many arguments in post() block\")\n  }\n\n  //Check debug flag\n  proc.debug = !!user_args.printCode || !!user_args.debug\n  \n  //Retrieve name\n  proc.funcName = user_args.funcName || \"cwise\"\n  \n  //Read in block size\n  proc.blockSize = user_args.blockSize || 64\n\n  return createThunk(proc)\n}\n\nmodule.exports = compileCwise\n","\"use strict\"\n\nvar uniq = require(\"uniq\")\n\n// This function generates very simple loops analogous to how you typically traverse arrays (the outermost loop corresponds to the slowest changing index, the innermost loop to the fastest changing index)\n// TODO: If two arrays have the same strides (and offsets) there is potential for decreasing the number of \"pointers\" and related variables. The drawback is that the type signature would become more specific and that there would thus be less potential for caching, but it might still be worth it, especially when dealing with large numbers of arguments.\nfunction innerFill(order, proc, body) {\n  var dimension = order.length\n    , nargs = proc.arrayArgs.length\n    , has_index = proc.indexArgs.length>0\n    , code = []\n    , vars = []\n    , idx=0, pidx=0, i, j\n  for(i=0; i<dimension; ++i) { // Iteration variables\n    vars.push([\"i\",i,\"=0\"].join(\"\"))\n  }\n  //Compute scan deltas\n  for(j=0; j<nargs; ++j) {\n    for(i=0; i<dimension; ++i) {\n      pidx = idx\n      idx = order[i]\n      if(i === 0) { // The innermost/fastest dimension's delta is simply its stride\n        vars.push([\"d\",j,\"s\",i,\"=t\",j,\"p\",idx].join(\"\"))\n      } else { // For other dimensions the delta is basically the stride minus something which essentially \"rewinds\" the previous (more inner) dimension\n        vars.push([\"d\",j,\"s\",i,\"=(t\",j,\"p\",idx,\"-s\",pidx,\"*t\",j,\"p\",pidx,\")\"].join(\"\"))\n      }\n    }\n  }\n  if (vars.length > 0) {\n    code.push(\"var \" + vars.join(\",\"))\n  }  \n  //Scan loop\n  for(i=dimension-1; i>=0; --i) { // Start at largest stride and work your way inwards\n    idx = order[i]\n    code.push([\"for(i\",i,\"=0;i\",i,\"<s\",idx,\";++i\",i,\"){\"].join(\"\"))\n  }\n  //Push body of inner loop\n  code.push(body)\n  //Advance scan pointers\n  for(i=0; i<dimension; ++i) {\n    pidx = idx\n    idx = order[i]\n    for(j=0; j<nargs; ++j) {\n      code.push([\"p\",j,\"+=d\",j,\"s\",i].join(\"\"))\n    }\n    if(has_index) {\n      if(i > 0) {\n        code.push([\"index[\",pidx,\"]-=s\",pidx].join(\"\"))\n      }\n      code.push([\"++index[\",idx,\"]\"].join(\"\"))\n    }\n    code.push(\"}\")\n  }\n  return code.join(\"\\n\")\n}\n\n// Generate \"outer\" loops that loop over blocks of data, applying \"inner\" loops to the blocks by manipulating the local variables in such a way that the inner loop only \"sees\" the current block.\n// TODO: If this is used, then the previous declaration (done by generateCwiseOp) of s* is essentially unnecessary.\n//       I believe the s* are not used elsewhere (in particular, I don't think they're used in the pre/post parts and \"shape\" is defined independently), so it would be possible to make defining the s* dependent on what loop method is being used.\nfunction outerFill(matched, order, proc, body) {\n  var dimension = order.length\n    , nargs = proc.arrayArgs.length\n    , blockSize = proc.blockSize\n    , has_index = proc.indexArgs.length > 0\n    , code = []\n  for(var i=0; i<nargs; ++i) {\n    code.push([\"var offset\",i,\"=p\",i].join(\"\"))\n  }\n  //Generate loops for unmatched dimensions\n  // The order in which these dimensions are traversed is fairly arbitrary (from small stride to large stride, for the first argument)\n  // TODO: It would be nice if the order in which these loops are placed would also be somehow \"optimal\" (at the very least we should check that it really doesn't hurt us if they're not).\n  for(var i=matched; i<dimension; ++i) {\n    code.push([\"for(var j\"+i+\"=SS[\", order[i], \"]|0;j\", i, \">0;){\"].join(\"\")) // Iterate back to front\n    code.push([\"if(j\",i,\"<\",blockSize,\"){\"].join(\"\")) // Either decrease j by blockSize (s = blockSize), or set it to zero (after setting s = j).\n    code.push([\"s\",order[i],\"=j\",i].join(\"\"))\n    code.push([\"j\",i,\"=0\"].join(\"\"))\n    code.push([\"}else{s\",order[i],\"=\",blockSize].join(\"\"))\n    code.push([\"j\",i,\"-=\",blockSize,\"}\"].join(\"\"))\n    if(has_index) {\n      code.push([\"index[\",order[i],\"]=j\",i].join(\"\"))\n    }\n  }\n  for(var i=0; i<nargs; ++i) {\n    var indexStr = [\"offset\"+i]\n    for(var j=matched; j<dimension; ++j) {\n      indexStr.push([\"j\",j,\"*t\",i,\"p\",order[j]].join(\"\"))\n    }\n    code.push([\"p\",i,\"=(\",indexStr.join(\"+\"),\")\"].join(\"\"))\n  }\n  code.push(innerFill(order, proc, body))\n  for(var i=matched; i<dimension; ++i) {\n    code.push(\"}\")\n  }\n  return code.join(\"\\n\")\n}\n\n//Count the number of compatible inner orders\n// This is the length of the longest common prefix of the arrays in orders.\n// Each array in orders lists the dimensions of the correspond ndarray in order of increasing stride.\n// This is thus the maximum number of dimensions that can be efficiently traversed by simple nested loops for all arrays.\nfunction countMatches(orders) {\n  var matched = 0, dimension = orders[0].length\n  while(matched < dimension) {\n    for(var j=1; j<orders.length; ++j) {\n      if(orders[j][matched] !== orders[0][matched]) {\n        return matched\n      }\n    }\n    ++matched\n  }\n  return matched\n}\n\n//Processes a block according to the given data types\n// Replaces variable names by different ones, either \"local\" ones (that are then ferried in and out of the given array) or ones matching the arguments that the function performing the ultimate loop will accept.\nfunction processBlock(block, proc, dtypes) {\n  var code = block.body\n  var pre = []\n  var post = []\n  for(var i=0; i<block.args.length; ++i) {\n    var carg = block.args[i]\n    if(carg.count <= 0) {\n      continue\n    }\n    var re = new RegExp(carg.name, \"g\")\n    var ptrStr = \"\"\n    var arrNum = proc.arrayArgs.indexOf(i)\n    switch(proc.argTypes[i]) {\n      case \"offset\":\n        var offArgIndex = proc.offsetArgIndex.indexOf(i)\n        var offArg = proc.offsetArgs[offArgIndex]\n        arrNum = offArg.array\n        ptrStr = \"+q\" + offArgIndex // Adds offset to the \"pointer\" in the array\n      case \"array\":\n        ptrStr = \"p\" + arrNum + ptrStr\n        var localStr = \"l\" + i\n        var arrStr = \"a\" + arrNum\n        if (proc.arrayBlockIndices[arrNum] === 0) { // Argument to body is just a single value from this array\n          if(carg.count === 1) { // Argument/array used only once(?)\n            if(dtypes[arrNum] === \"generic\") {\n              if(carg.lvalue) {\n                pre.push([\"var \", localStr, \"=\", arrStr, \".get(\", ptrStr, \")\"].join(\"\")) // Is this necessary if the argument is ONLY used as an lvalue? (keep in mind that we can have a += something, so we would actually need to check carg.rvalue)\n                code = code.replace(re, localStr)\n                post.push([arrStr, \".set(\", ptrStr, \",\", localStr,\")\"].join(\"\"))\n              } else {\n                code = code.replace(re, [arrStr, \".get(\", ptrStr, \")\"].join(\"\"))\n              }\n            } else {\n              code = code.replace(re, [arrStr, \"[\", ptrStr, \"]\"].join(\"\"))\n            }\n          } else if(dtypes[arrNum] === \"generic\") {\n            pre.push([\"var \", localStr, \"=\", arrStr, \".get(\", ptrStr, \")\"].join(\"\")) // TODO: Could we optimize by checking for carg.rvalue?\n            code = code.replace(re, localStr)\n            if(carg.lvalue) {\n              post.push([arrStr, \".set(\", ptrStr, \",\", localStr,\")\"].join(\"\"))\n            }\n          } else {\n            pre.push([\"var \", localStr, \"=\", arrStr, \"[\", ptrStr, \"]\"].join(\"\")) // TODO: Could we optimize by checking for carg.rvalue?\n            code = code.replace(re, localStr)\n            if(carg.lvalue) {\n              post.push([arrStr, \"[\", ptrStr, \"]=\", localStr].join(\"\"))\n            }\n          }\n        } else { // Argument to body is a \"block\"\n          var reStrArr = [carg.name], ptrStrArr = [ptrStr]\n          for(var j=0; j<Math.abs(proc.arrayBlockIndices[arrNum]); j++) {\n            reStrArr.push(\"\\\\s*\\\\[([^\\\\]]+)\\\\]\")\n            ptrStrArr.push(\"$\" + (j+1) + \"*t\" + arrNum + \"b\" + j) // Matched index times stride\n          }\n          re = new RegExp(reStrArr.join(\"\"), \"g\")\n          ptrStr = ptrStrArr.join(\"+\")\n          if(dtypes[arrNum] === \"generic\") {\n            /*if(carg.lvalue) {\n              pre.push([\"var \", localStr, \"=\", arrStr, \".get(\", ptrStr, \")\"].join(\"\")) // Is this necessary if the argument is ONLY used as an lvalue? (keep in mind that we can have a += something, so we would actually need to check carg.rvalue)\n              code = code.replace(re, localStr)\n              post.push([arrStr, \".set(\", ptrStr, \",\", localStr,\")\"].join(\"\"))\n            } else {\n              code = code.replace(re, [arrStr, \".get(\", ptrStr, \")\"].join(\"\"))\n            }*/\n            throw new Error(\"cwise: Generic arrays not supported in combination with blocks!\")\n          } else {\n            // This does not produce any local variables, even if variables are used multiple times. It would be possible to do so, but it would complicate things quite a bit.\n            code = code.replace(re, [arrStr, \"[\", ptrStr, \"]\"].join(\"\"))\n          }\n        }\n      break\n      case \"scalar\":\n        code = code.replace(re, \"Y\" + proc.scalarArgs.indexOf(i))\n      break\n      case \"index\":\n        code = code.replace(re, \"index\")\n      break\n      case \"shape\":\n        code = code.replace(re, \"shape\")\n      break\n    }\n  }\n  return [pre.join(\"\\n\"), code, post.join(\"\\n\")].join(\"\\n\").trim()\n}\n\nfunction typeSummary(dtypes) {\n  var summary = new Array(dtypes.length)\n  var allEqual = true\n  for(var i=0; i<dtypes.length; ++i) {\n    var t = dtypes[i]\n    var digits = t.match(/\\d+/)\n    if(!digits) {\n      digits = \"\"\n    } else {\n      digits = digits[0]\n    }\n    if(t.charAt(0) === 0) {\n      summary[i] = \"u\" + t.charAt(1) + digits\n    } else {\n      summary[i] = t.charAt(0) + digits\n    }\n    if(i > 0) {\n      allEqual = allEqual && summary[i] === summary[i-1]\n    }\n  }\n  if(allEqual) {\n    return summary[0]\n  }\n  return summary.join(\"\")\n}\n\n//Generates a cwise operator\nfunction generateCWiseOp(proc, typesig) {\n\n  //Compute dimension\n  // Arrays get put first in typesig, and there are two entries per array (dtype and order), so this gets the number of dimensions in the first array arg.\n  var dimension = (typesig[1].length - Math.abs(proc.arrayBlockIndices[0]))|0\n  var orders = new Array(proc.arrayArgs.length)\n  var dtypes = new Array(proc.arrayArgs.length)\n  for(var i=0; i<proc.arrayArgs.length; ++i) {\n    dtypes[i] = typesig[2*i]\n    orders[i] = typesig[2*i+1]\n  }\n  \n  //Determine where block and loop indices start and end\n  var blockBegin = [], blockEnd = [] // These indices are exposed as blocks\n  var loopBegin = [], loopEnd = [] // These indices are iterated over\n  var loopOrders = [] // orders restricted to the loop indices\n  for(var i=0; i<proc.arrayArgs.length; ++i) {\n    if (proc.arrayBlockIndices[i]<0) {\n      loopBegin.push(0)\n      loopEnd.push(dimension)\n      blockBegin.push(dimension)\n      blockEnd.push(dimension+proc.arrayBlockIndices[i])\n    } else {\n      loopBegin.push(proc.arrayBlockIndices[i]) // Non-negative\n      loopEnd.push(proc.arrayBlockIndices[i]+dimension)\n      blockBegin.push(0)\n      blockEnd.push(proc.arrayBlockIndices[i])\n    }\n    var newOrder = []\n    for(var j=0; j<orders[i].length; j++) {\n      if (loopBegin[i]<=orders[i][j] && orders[i][j]<loopEnd[i]) {\n        newOrder.push(orders[i][j]-loopBegin[i]) // If this is a loop index, put it in newOrder, subtracting loopBegin, to make sure that all loopOrders are using a common set of indices.\n      }\n    }\n    loopOrders.push(newOrder)\n  }\n\n  //First create arguments for procedure\n  var arglist = [\"SS\"] // SS is the overall shape over which we iterate\n  var code = [\"'use strict'\"]\n  var vars = []\n  \n  for(var j=0; j<dimension; ++j) {\n    vars.push([\"s\", j, \"=SS[\", j, \"]\"].join(\"\")) // The limits for each dimension.\n  }\n  for(var i=0; i<proc.arrayArgs.length; ++i) {\n    arglist.push(\"a\"+i) // Actual data array\n    arglist.push(\"t\"+i) // Strides\n    arglist.push(\"p\"+i) // Offset in the array at which the data starts (also used for iterating over the data)\n    \n    for(var j=0; j<dimension; ++j) { // Unpack the strides into vars for looping\n      vars.push([\"t\",i,\"p\",j,\"=t\",i,\"[\",loopBegin[i]+j,\"]\"].join(\"\"))\n    }\n    \n    for(var j=0; j<Math.abs(proc.arrayBlockIndices[i]); ++j) { // Unpack the strides into vars for block iteration\n      vars.push([\"t\",i,\"b\",j,\"=t\",i,\"[\",blockBegin[i]+j,\"]\"].join(\"\"))\n    }\n  }\n  for(var i=0; i<proc.scalarArgs.length; ++i) {\n    arglist.push(\"Y\" + i)\n  }\n  if(proc.shapeArgs.length > 0) {\n    vars.push(\"shape=SS.slice(0)\") // Makes the shape over which we iterate available to the user defined functions (so you can use width/height for example)\n  }\n  if(proc.indexArgs.length > 0) {\n    // Prepare an array to keep track of the (logical) indices, initialized to dimension zeroes.\n    var zeros = new Array(dimension)\n    for(var i=0; i<dimension; ++i) {\n      zeros[i] = \"0\"\n    }\n    vars.push([\"index=[\", zeros.join(\",\"), \"]\"].join(\"\"))\n  }\n  for(var i=0; i<proc.offsetArgs.length; ++i) { // Offset arguments used for stencil operations\n    var off_arg = proc.offsetArgs[i]\n    var init_string = []\n    for(var j=0; j<off_arg.offset.length; ++j) {\n      if(off_arg.offset[j] === 0) {\n        continue\n      } else if(off_arg.offset[j] === 1) {\n        init_string.push([\"t\", off_arg.array, \"p\", j].join(\"\"))      \n      } else {\n        init_string.push([off_arg.offset[j], \"*t\", off_arg.array, \"p\", j].join(\"\"))\n      }\n    }\n    if(init_string.length === 0) {\n      vars.push(\"q\" + i + \"=0\")\n    } else {\n      vars.push([\"q\", i, \"=\", init_string.join(\"+\")].join(\"\"))\n    }\n  }\n\n  //Prepare this variables\n  var thisVars = uniq([].concat(proc.pre.thisVars)\n                      .concat(proc.body.thisVars)\n                      .concat(proc.post.thisVars))\n  vars = vars.concat(thisVars)\n  if (vars.length > 0) {\n    code.push(\"var \" + vars.join(\",\"))\n  }\n  for(var i=0; i<proc.arrayArgs.length; ++i) {\n    code.push(\"p\"+i+\"|=0\")\n  }\n  \n  //Inline prelude\n  if(proc.pre.body.length > 3) {\n    code.push(processBlock(proc.pre, proc, dtypes))\n  }\n\n  //Process body\n  var body = processBlock(proc.body, proc, dtypes)\n  var matched = countMatches(loopOrders)\n  if(matched < dimension) {\n    code.push(outerFill(matched, loopOrders[0], proc, body)) // TODO: Rather than passing loopOrders[0], it might be interesting to look at passing an order that represents the majority of the arguments for example.\n  } else {\n    code.push(innerFill(loopOrders[0], proc, body))\n  }\n\n  //Inline epilog\n  if(proc.post.body.length > 3) {\n    code.push(processBlock(proc.post, proc, dtypes))\n  }\n  \n  if(proc.debug) {\n    console.log(\"-----Generated cwise routine for \", typesig, \":\\n\" + code.join(\"\\n\") + \"\\n----------\")\n  }\n  \n  var loopName = [(proc.funcName||\"unnamed\"), \"_cwise_loop_\", orders[0].join(\"s\"),\"m\",matched,typeSummary(dtypes)].join(\"\")\n  var f = new Function([\"function \",loopName,\"(\", arglist.join(\",\"),\"){\", code.join(\"\\n\"),\"} return \", loopName].join(\"\"))\n  return f()\n}\nmodule.exports = generateCWiseOp\n","\"use strict\"\n\n// The function below is called when constructing a cwise function object, and does the following:\n// A function object is constructed which accepts as argument a compilation function and returns another function.\n// It is this other function that is eventually returned by createThunk, and this function is the one that actually\n// checks whether a certain pattern of arguments has already been used before and compiles new loops as needed.\n// The compilation passed to the first function object is used for compiling new functions.\n// Once this function object is created, it is called with compile as argument, where the first argument of compile\n// is bound to \"proc\" (essentially containing a preprocessed version of the user arguments to cwise).\n// So createThunk roughly works like this:\n// function createThunk(proc) {\n//   var thunk = function(compileBound) {\n//     var CACHED = {}\n//     return function(arrays and scalars) {\n//       if (dtype and order of arrays in CACHED) {\n//         var func = CACHED[dtype and order of arrays]\n//       } else {\n//         var func = CACHED[dtype and order of arrays] = compileBound(dtype and order of arrays)\n//       }\n//       return func(arrays and scalars)\n//     }\n//   }\n//   return thunk(compile.bind1(proc))\n// }\n\nvar compile = require(\"./compile.js\")\n\nfunction createThunk(proc) {\n  var code = [\"'use strict'\", \"var CACHED={}\"]\n  var vars = []\n  var thunkName = proc.funcName + \"_cwise_thunk\"\n  \n  //Build thunk\n  code.push([\"return function \", thunkName, \"(\", proc.shimArgs.join(\",\"), \"){\"].join(\"\"))\n  var typesig = []\n  var string_typesig = []\n  var proc_args = [[\"array\",proc.arrayArgs[0],\".shape.slice(\", // Slice shape so that we only retain the shape over which we iterate (which gets passed to the cwise operator as SS).\n                    Math.max(0,proc.arrayBlockIndices[0]),proc.arrayBlockIndices[0]<0?(\",\"+proc.arrayBlockIndices[0]+\")\"):\")\"].join(\"\")]\n  var shapeLengthConditions = [], shapeConditions = []\n  // Process array arguments\n  for(var i=0; i<proc.arrayArgs.length; ++i) {\n    var j = proc.arrayArgs[i]\n    vars.push([\"t\", j, \"=array\", j, \".dtype,\",\n               \"r\", j, \"=array\", j, \".order\"].join(\"\"))\n    typesig.push(\"t\" + j)\n    typesig.push(\"r\" + j)\n    string_typesig.push(\"t\"+j)\n    string_typesig.push(\"r\"+j+\".join()\")\n    proc_args.push(\"array\" + j + \".data\")\n    proc_args.push(\"array\" + j + \".stride\")\n    proc_args.push(\"array\" + j + \".offset|0\")\n    if (i>0) { // Gather conditions to check for shape equality (ignoring block indices)\n      shapeLengthConditions.push(\"array\" + proc.arrayArgs[0] + \".shape.length===array\" + j + \".shape.length+\" + (Math.abs(proc.arrayBlockIndices[0])-Math.abs(proc.arrayBlockIndices[i])))\n      shapeConditions.push(\"array\" + proc.arrayArgs[0] + \".shape[shapeIndex+\" + Math.max(0,proc.arrayBlockIndices[0]) + \"]===array\" + j + \".shape[shapeIndex+\" + Math.max(0,proc.arrayBlockIndices[i]) + \"]\")\n    }\n  }\n  // Check for shape equality\n  if (proc.arrayArgs.length > 1) {\n    code.push(\"if (!(\" + shapeLengthConditions.join(\" && \") + \")) throw new Error('cwise: Arrays do not all have the same dimensionality!')\")\n    code.push(\"for(var shapeIndex=array\" + proc.arrayArgs[0] + \".shape.length-\" + Math.abs(proc.arrayBlockIndices[0]) + \"; shapeIndex-->0;) {\")\n    code.push(\"if (!(\" + shapeConditions.join(\" && \") + \")) throw new Error('cwise: Arrays do not all have the same shape!')\")\n    code.push(\"}\")\n  }\n  // Process scalar arguments\n  for(var i=0; i<proc.scalarArgs.length; ++i) {\n    proc_args.push(\"scalar\" + proc.scalarArgs[i])\n  }\n  // Check for cached function (and if not present, generate it)\n  vars.push([\"type=[\", string_typesig.join(\",\"), \"].join()\"].join(\"\"))\n  vars.push(\"proc=CACHED[type]\")\n  code.push(\"var \" + vars.join(\",\"))\n  \n  code.push([\"if(!proc){\",\n             \"CACHED[type]=proc=compile([\", typesig.join(\",\"), \"])}\",\n             \"return proc(\", proc_args.join(\",\"), \")}\"].join(\"\"))\n\n  if(proc.debug) {\n    console.log(\"-----Generated thunk:\\n\" + code.join(\"\\n\") + \"\\n----------\")\n  }\n  \n  //Compile thunk\n  var thunk = new Function(\"compile\", code.join(\"\\n\"))\n  return thunk(compile.bind(undefined, proc))\n}\n\nmodule.exports = createThunk\n","\"use strict\"\n\nfunction dupe_array(count, value, i) {\n  var c = count[i]|0\n  if(c <= 0) {\n    return []\n  }\n  var result = new Array(c), j\n  if(i === count.length-1) {\n    for(j=0; j<c; ++j) {\n      result[j] = value\n    }\n  } else {\n    for(j=0; j<c; ++j) {\n      result[j] = dupe_array(count, value, i+1)\n    }\n  }\n  return result\n}\n\nfunction dupe_number(count, value) {\n  var result, i\n  result = new Array(count)\n  for(i=0; i<count; ++i) {\n    result[i] = value\n  }\n  return result\n}\n\nfunction dupe(count, value) {\n  if(typeof value === \"undefined\") {\n    value = 0\n  }\n  switch(typeof count) {\n    case \"number\":\n      if(count > 0) {\n        return dupe_number(count|0, value)\n      }\n    break\n    case \"object\":\n      if(typeof (count.length) === \"number\") {\n        return dupe_array(count, value, 0)\n      }\n    break\n  }\n  return []\n}\n\nmodule.exports = dupe","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction stringifiable(obj) {\n    // Safely stringify Object.create(null)\n    /* istanbul ignore next */\n    return typeof obj === 'object' && !('toString' in obj) ?\n        Object.prototype.toString.call(obj).slice(8, -1) :\n        obj;\n}\nvar isProduction = typeof process === 'object' && process.env.NODE_ENV === 'production';\nfunction invariant(condition, message) {\n    if (!condition) {\n        /* istanbul ignore next */\n        if (isProduction) {\n            throw new Error('Invariant failed');\n        }\n        throw new Error(message());\n    }\n}\nexports.invariant = invariant;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar splice = Array.prototype.splice;\nvar toString = Object.prototype.toString;\nfunction type(obj) {\n    return toString.call(obj).slice(8, -1);\n}\nvar assign = Object.assign || /* istanbul ignore next */ (function (target, source) {\n    getAllKeys(source).forEach(function (key) {\n        if (hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n        }\n    });\n    return target;\n});\nvar getAllKeys = typeof Object.getOwnPropertySymbols === 'function'\n    ? function (obj) { return Object.keys(obj).concat(Object.getOwnPropertySymbols(obj)); }\n    /* istanbul ignore next */\n    : function (obj) { return Object.keys(obj); };\nfunction copy(object) {\n    return Array.isArray(object)\n        ? assign(object.constructor(object.length), object)\n        : (type(object) === 'Map')\n            ? new Map(object)\n            : (type(object) === 'Set')\n                ? new Set(object)\n                : (object && typeof object === 'object')\n                    ? assign(Object.create(Object.getPrototypeOf(object)), object)\n                    /* istanbul ignore next */\n                    : object;\n}\nvar Context = /** @class */ (function () {\n    function Context() {\n        this.commands = assign({}, defaultCommands);\n        this.update = this.update.bind(this);\n        // Deprecated: update.extend, update.isEquals and update.newContext\n        this.update.extend = this.extend = this.extend.bind(this);\n        this.update.isEquals = function (x, y) { return x === y; };\n        this.update.newContext = function () { return new Context().update; };\n    }\n    Object.defineProperty(Context.prototype, \"isEquals\", {\n        get: function () {\n            return this.update.isEquals;\n        },\n        set: function (value) {\n            this.update.isEquals = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Context.prototype.extend = function (directive, fn) {\n        this.commands[directive] = fn;\n    };\n    Context.prototype.update = function (object, $spec) {\n        var _this = this;\n        var spec = (typeof $spec === 'function') ? { $apply: $spec } : $spec;\n        if (!(Array.isArray(object) && Array.isArray(spec))) {\n            invariant(!Array.isArray(spec), function () { return \"update(): You provided an invalid spec to update(). The spec may \" +\n                \"not contain an array except as the value of $set, $push, $unshift, \" +\n                \"$splice or any custom command allowing an array value.\"; });\n        }\n        invariant(typeof spec === 'object' && spec !== null, function () { return \"update(): You provided an invalid spec to update(). The spec and \" +\n            \"every included key path must be plain objects containing one of the \" +\n            (\"following commands: \" + Object.keys(_this.commands).join(', ') + \".\"); });\n        var nextObject = object;\n        getAllKeys(spec).forEach(function (key) {\n            if (hasOwnProperty.call(_this.commands, key)) {\n                var objectWasNextObject = object === nextObject;\n                nextObject = _this.commands[key](spec[key], nextObject, spec, object);\n                if (objectWasNextObject && _this.isEquals(nextObject, object)) {\n                    nextObject = object;\n                }\n            }\n            else {\n                var nextValueForKey = type(object) === 'Map'\n                    ? _this.update(object.get(key), spec[key])\n                    : _this.update(object[key], spec[key]);\n                var nextObjectValue = type(nextObject) === 'Map'\n                    ? nextObject.get(key)\n                    : nextObject[key];\n                if (!_this.isEquals(nextValueForKey, nextObjectValue)\n                    || typeof nextValueForKey === 'undefined'\n                        && !hasOwnProperty.call(object, key)) {\n                    if (nextObject === object) {\n                        nextObject = copy(object);\n                    }\n                    if (type(nextObject) === 'Map') {\n                        nextObject.set(key, nextValueForKey);\n                    }\n                    else {\n                        nextObject[key] = nextValueForKey;\n                    }\n                }\n            }\n        });\n        return nextObject;\n    };\n    return Context;\n}());\nexports.Context = Context;\nvar defaultCommands = {\n    $push: function (value, nextObject, spec) {\n        invariantPushAndUnshift(nextObject, spec, '$push');\n        return value.length ? nextObject.concat(value) : nextObject;\n    },\n    $unshift: function (value, nextObject, spec) {\n        invariantPushAndUnshift(nextObject, spec, '$unshift');\n        return value.length ? value.concat(nextObject) : nextObject;\n    },\n    $splice: function (value, nextObject, spec, originalObject) {\n        invariantSplices(nextObject, spec);\n        value.forEach(function (args) {\n            invariantSplice(args);\n            if (nextObject === originalObject && args.length) {\n                nextObject = copy(originalObject);\n            }\n            splice.apply(nextObject, args);\n        });\n        return nextObject;\n    },\n    $set: function (value, _nextObject, spec) {\n        invariantSet(spec);\n        return value;\n    },\n    $toggle: function (targets, nextObject) {\n        invariantSpecArray(targets, '$toggle');\n        var nextObjectCopy = targets.length ? copy(nextObject) : nextObject;\n        targets.forEach(function (target) {\n            nextObjectCopy[target] = !nextObject[target];\n        });\n        return nextObjectCopy;\n    },\n    $unset: function (value, nextObject, _spec, originalObject) {\n        invariantSpecArray(value, '$unset');\n        value.forEach(function (key) {\n            if (Object.hasOwnProperty.call(nextObject, key)) {\n                if (nextObject === originalObject) {\n                    nextObject = copy(originalObject);\n                }\n                delete nextObject[key];\n            }\n        });\n        return nextObject;\n    },\n    $add: function (values, nextObject, _spec, originalObject) {\n        invariantMapOrSet(nextObject, '$add');\n        invariantSpecArray(values, '$add');\n        if (type(nextObject) === 'Map') {\n            values.forEach(function (_a) {\n                var key = _a[0], value = _a[1];\n                if (nextObject === originalObject && nextObject.get(key) !== value) {\n                    nextObject = copy(originalObject);\n                }\n                nextObject.set(key, value);\n            });\n        }\n        else {\n            values.forEach(function (value) {\n                if (nextObject === originalObject && !nextObject.has(value)) {\n                    nextObject = copy(originalObject);\n                }\n                nextObject.add(value);\n            });\n        }\n        return nextObject;\n    },\n    $remove: function (value, nextObject, _spec, originalObject) {\n        invariantMapOrSet(nextObject, '$remove');\n        invariantSpecArray(value, '$remove');\n        value.forEach(function (key) {\n            if (nextObject === originalObject && nextObject.has(key)) {\n                nextObject = copy(originalObject);\n            }\n            nextObject.delete(key);\n        });\n        return nextObject;\n    },\n    $merge: function (value, nextObject, _spec, originalObject) {\n        invariantMerge(nextObject, value);\n        getAllKeys(value).forEach(function (key) {\n            if (value[key] !== nextObject[key]) {\n                if (nextObject === originalObject) {\n                    nextObject = copy(originalObject);\n                }\n                nextObject[key] = value[key];\n            }\n        });\n        return nextObject;\n    },\n    $apply: function (value, original) {\n        invariantApply(value);\n        return value(original);\n    },\n};\nvar defaultContext = new Context();\nexports.isEquals = defaultContext.update.isEquals;\nexports.extend = defaultContext.extend;\nexports.default = defaultContext.update;\n// @ts-ignore\nexports.default.default = module.exports = assign(exports.default, exports);\n// invariants\nfunction invariantPushAndUnshift(value, spec, command) {\n    invariant(Array.isArray(value), function () { return \"update(): expected target of \" + stringifiable(command) + \" to be an array; got \" + stringifiable(value) + \".\"; });\n    invariantSpecArray(spec[command], command);\n}\nfunction invariantSpecArray(spec, command) {\n    invariant(Array.isArray(spec), function () { return \"update(): expected spec of \" + stringifiable(command) + \" to be an array; got \" + stringifiable(spec) + \". \" +\n        \"Did you forget to wrap your parameter in an array?\"; });\n}\nfunction invariantSplices(value, spec) {\n    invariant(Array.isArray(value), function () { return \"Expected $splice target to be an array; got \" + stringifiable(value); });\n    invariantSplice(spec.$splice);\n}\nfunction invariantSplice(value) {\n    invariant(Array.isArray(value), function () { return \"update(): expected spec of $splice to be an array of arrays; got \" + stringifiable(value) + \". \" +\n        \"Did you forget to wrap your parameters in an array?\"; });\n}\nfunction invariantApply(fn) {\n    invariant(typeof fn === 'function', function () { return \"update(): expected spec of $apply to be a function; got \" + stringifiable(fn) + \".\"; });\n}\nfunction invariantSet(spec) {\n    invariant(Object.keys(spec).length === 1, function () { return \"Cannot have more than one key in an object with $set\"; });\n}\nfunction invariantMerge(target, specValue) {\n    invariant(specValue && typeof specValue === 'object', function () { return \"update(): $merge expects a spec of type 'object'; got \" + stringifiable(specValue); });\n    invariant(target && typeof target === 'object', function () { return \"update(): $merge expects a target of type 'object'; got \" + stringifiable(target); });\n}\nfunction invariantMapOrSet(target, command) {\n    var typeOfTarget = type(target);\n    invariant(typeOfTarget === 'Map' || typeOfTarget === 'Set', function () { return \"update(): \" + stringifiable(command) + \" expects a target of type Set or Map; got \" + stringifiable(typeOfTarget); });\n}\n","\"use strict\"\n\nvar bits = require(\"bit-twiddle\")\n\nfunction rootInorder(n) {\n  var ptree = (bits.nextPow2(n+1)>>>1) - 1\n  var f     = n - ptree\n  if(bits.nextPow2(f)-1 >= ptree) {\n    return ptree\n  }\n  return (ptree>>>1)+f\n}\nexports.root = rootInorder\n\nfunction beginInorder(n) {\n  return 0\n}\nexports.begin = beginInorder\n\nfunction endInorder(n) {\n  return n-1\n}\nexports.end = endInorder\n\n\n//This is really horrible because n is not necessarily a power of 2\n// If it was, we could just do:\n//\n//    height = bits.countTrailingZeros(~x)\n//\n// Instead, we just binary search because doing the right thing here is way too complicated.\nfunction heightInorder(n, x) {\n  if(n <= 0) {\n    return 0\n  }\n  var r = rootInorder(n)\n  if(x > r) {\n    return heightInorder(n-r-1, x-r-1)\n  } else if(x === r) {\n    return bits.log2(n)\n  }\n  return heightInorder(r, x)\n}\nexports.height = heightInorder\n\nfunction prevInorder(n, x) {\n  return Math.max(x-1,0)\n}\nexports.prev = prevInorder\n\nfunction nextInorder(n, x) {\n  return Math.min(x+1,n-1)\n}\nexports.next = nextInorder\n\n\n//The version for n = (1<<k)-1:\n//\n//  parent = (x & ~(1<<(h+1))) + (1<<h)\n//\nfunction parentInorder(n, x) {\n  if(n <= 0) {\n    return -1\n  }\n  var r = rootInorder(n)\n  if(x > r) {\n    var q = parentInorder(n-r-1, x-r-1)\n    if(q < 0) {\n      return r\n    } else {\n      return q + r + 1\n    }\n  } else if(x === r) {\n    return -1\n  }\n  var q =  parentInorder(r, x)\n  if(q < 0) {\n    return r\n  }\n  return q\n}\nexports.parent = parentInorder\n\n\n//Again, we get screwed because n is not a power of two -1.  If it was, we could do:\n//\n//    left = x - (1 << (h-1) )\n//\n// Where h is the height of the node\n//\nfunction leftInorder(n, x) {\n  if(n <= 0) {\n    return 0\n  }\n  var r = rootInorder(n)\n  if(x > r) {\n    return leftInorder(n-r-1, x-r-1) + r + 1\n  } else if(x === r) {\n    return rootInorder(x)\n  }\n  return leftInorder(r, x)\n\n}\nexports.left = leftInorder\n\n//for power of two minus one:\n//\n//    right = x + (1<<(h-1))\n//\nfunction rightInorder(n, x) {\n  if(n <= 0) {\n    return 0\n  }\n  var r = rootInorder(n)\n  if(x > r) {\n    return rightInorder(n-r-1, x-r-1) + r + 1\n  } else if(x === r) {\n    return rootInorder(n-r-1) + r + 1\n  }\n  return rightInorder(r, x)\n}\nexports.right = rightInorder\n\n\nfunction leafInorder(n, x) {\n  return heightInorder(n, x) === 0\n}\nexports.leaf = leafInorder\n\n\nfunction loInorder(n, x) {\n  n |= 0\n  x |= 0\n  var l = 0\n  while(n > 1) {\n    var r = rootInorder(n)\n    if(x > r) {\n      l += r + 1\n      n -= r + 1\n      x -= r + 1\n    } else if(x === r) {\n      break\n    } else {\n      n = r\n    }\n  }\n  return l\n}\nexports.lo = loInorder\n\nfunction hiInorder(n, x) {\n  n |= 0\n  x |= 0\n  var l = 0\n  while(n > 1) {\n    var r = rootInorder(n)\n    if(x > r) {\n      l += r + 1\n      n -= r + 1\n      x -= r + 1\n    } else if(x === r) {\n      l += n-1\n      break\n    } else {\n      n = r\n    }\n  }\n  return l\n}\nexports.hi = hiInorder\n","/**\n * Bit twiddling hacks for JavaScript.\n *\n * Author: Mikola Lysenko\n *\n * Ported from Stanford bit twiddling hack library:\n *    http://graphics.stanford.edu/~seander/bithacks.html\n */\n\n\"use strict\"; \"use restrict\";\n\n//Number of bits in an integer\nvar INT_BITS = 32;\n\n//Constants\nexports.INT_BITS  = INT_BITS;\nexports.INT_MAX   =  0x7fffffff;\nexports.INT_MIN   = -1<<(INT_BITS-1);\n\n//Returns -1, 0, +1 depending on sign of x\nexports.sign = function(v) {\n  return (v > 0) - (v < 0);\n}\n\n//Computes absolute value of integer\nexports.abs = function(v) {\n  var mask = v >> (INT_BITS-1);\n  return (v ^ mask) - mask;\n}\n\n//Computes minimum of integers x and y\nexports.min = function(x, y) {\n  return y ^ ((x ^ y) & -(x < y));\n}\n\n//Computes maximum of integers x and y\nexports.max = function(x, y) {\n  return x ^ ((x ^ y) & -(x < y));\n}\n\n//Checks if a number is a power of two\nexports.isPow2 = function(v) {\n  return !(v & (v-1)) && (!!v);\n}\n\n//Computes log base 2 of v\nexports.log2 = function(v) {\n  var r, shift;\n  r =     (v > 0xFFFF) << 4; v >>>= r;\n  shift = (v > 0xFF  ) << 3; v >>>= shift; r |= shift;\n  shift = (v > 0xF   ) << 2; v >>>= shift; r |= shift;\n  shift = (v > 0x3   ) << 1; v >>>= shift; r |= shift;\n  return r | (v >> 1);\n}\n\n//Computes log base 10 of v\nexports.log10 = function(v) {\n  return  (v >= 1000000000) ? 9 : (v >= 100000000) ? 8 : (v >= 10000000) ? 7 :\n          (v >= 1000000) ? 6 : (v >= 100000) ? 5 : (v >= 10000) ? 4 :\n          (v >= 1000) ? 3 : (v >= 100) ? 2 : (v >= 10) ? 1 : 0;\n}\n\n//Counts number of bits\nexports.popCount = function(v) {\n  v = v - ((v >>> 1) & 0x55555555);\n  v = (v & 0x33333333) + ((v >>> 2) & 0x33333333);\n  return ((v + (v >>> 4) & 0xF0F0F0F) * 0x1010101) >>> 24;\n}\n\n//Counts number of trailing zeros\nfunction countTrailingZeros(v) {\n  var c = 32;\n  v &= -v;\n  if (v) c--;\n  if (v & 0x0000FFFF) c -= 16;\n  if (v & 0x00FF00FF) c -= 8;\n  if (v & 0x0F0F0F0F) c -= 4;\n  if (v & 0x33333333) c -= 2;\n  if (v & 0x55555555) c -= 1;\n  return c;\n}\nexports.countTrailingZeros = countTrailingZeros;\n\n//Rounds to next power of 2\nexports.nextPow2 = function(v) {\n  v += v === 0;\n  --v;\n  v |= v >>> 1;\n  v |= v >>> 2;\n  v |= v >>> 4;\n  v |= v >>> 8;\n  v |= v >>> 16;\n  return v + 1;\n}\n\n//Rounds down to previous power of 2\nexports.prevPow2 = function(v) {\n  v |= v >>> 1;\n  v |= v >>> 2;\n  v |= v >>> 4;\n  v |= v >>> 8;\n  v |= v >>> 16;\n  return v - (v>>>1);\n}\n\n//Computes parity of word\nexports.parity = function(v) {\n  v ^= v >>> 16;\n  v ^= v >>> 8;\n  v ^= v >>> 4;\n  v &= 0xf;\n  return (0x6996 >>> v) & 1;\n}\n\nvar REVERSE_TABLE = new Array(256);\n\n(function(tab) {\n  for(var i=0; i<256; ++i) {\n    var v = i, r = i, s = 7;\n    for (v >>>= 1; v; v >>>= 1) {\n      r <<= 1;\n      r |= v & 1;\n      --s;\n    }\n    tab[i] = (r << s) & 0xff;\n  }\n})(REVERSE_TABLE);\n\n//Reverse bits in a 32 bit word\nexports.reverse = function(v) {\n  return  (REVERSE_TABLE[ v         & 0xff] << 24) |\n          (REVERSE_TABLE[(v >>> 8)  & 0xff] << 16) |\n          (REVERSE_TABLE[(v >>> 16) & 0xff] << 8)  |\n           REVERSE_TABLE[(v >>> 24) & 0xff];\n}\n\n//Interleave bits of 2 coordinates with 16 bits.  Useful for fast quadtree codes\nexports.interleave2 = function(x, y) {\n  x &= 0xFFFF;\n  x = (x | (x << 8)) & 0x00FF00FF;\n  x = (x | (x << 4)) & 0x0F0F0F0F;\n  x = (x | (x << 2)) & 0x33333333;\n  x = (x | (x << 1)) & 0x55555555;\n\n  y &= 0xFFFF;\n  y = (y | (y << 8)) & 0x00FF00FF;\n  y = (y | (y << 4)) & 0x0F0F0F0F;\n  y = (y | (y << 2)) & 0x33333333;\n  y = (y | (y << 1)) & 0x55555555;\n\n  return x | (y << 1);\n}\n\n//Extracts the nth interleaved component\nexports.deinterleave2 = function(v, n) {\n  v = (v >>> n) & 0x55555555;\n  v = (v | (v >>> 1))  & 0x33333333;\n  v = (v | (v >>> 2))  & 0x0F0F0F0F;\n  v = (v | (v >>> 4))  & 0x00FF00FF;\n  v = (v | (v >>> 16)) & 0x000FFFF;\n  return (v << 16) >> 16;\n}\n\n\n//Interleave bits of 3 coordinates, each with 10 bits.  Useful for fast octree codes\nexports.interleave3 = function(x, y, z) {\n  x &= 0x3FF;\n  x  = (x | (x<<16)) & 4278190335;\n  x  = (x | (x<<8))  & 251719695;\n  x  = (x | (x<<4))  & 3272356035;\n  x  = (x | (x<<2))  & 1227133513;\n\n  y &= 0x3FF;\n  y  = (y | (y<<16)) & 4278190335;\n  y  = (y | (y<<8))  & 251719695;\n  y  = (y | (y<<4))  & 3272356035;\n  y  = (y | (y<<2))  & 1227133513;\n  x |= (y << 1);\n  \n  z &= 0x3FF;\n  z  = (z | (z<<16)) & 4278190335;\n  z  = (z | (z<<8))  & 251719695;\n  z  = (z | (z<<4))  & 3272356035;\n  z  = (z | (z<<2))  & 1227133513;\n  \n  return x | (z << 2);\n}\n\n//Extracts nth interleaved component of a 3-tuple\nexports.deinterleave3 = function(v, n) {\n  v = (v >>> n)       & 1227133513;\n  v = (v | (v>>>2))   & 3272356035;\n  v = (v | (v>>>4))   & 251719695;\n  v = (v | (v>>>8))   & 4278190335;\n  v = (v | (v>>>16))  & 0x3FF;\n  return (v<<22)>>22;\n}\n\n//Computes next combination in colexicographic order (this is mistakenly called nextPermutation on the bit twiddling hacks page)\nexports.nextCombination = function(v) {\n  var t = v | (v - 1);\n  return (t + 1) | (((~t & -~t) - 1) >>> (countTrailingZeros(v) + 1));\n}\n\n","\"use strict\"\n\nfunction iota(n) {\n  var result = new Array(n)\n  for(var i=0; i<n; ++i) {\n    result[i] = i\n  }\n  return result\n}\n\nmodule.exports = iota","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n","\"use strict\"\n\nvar compile = require(\"cwise-compiler\")\n\nvar EmptyProc = {\n  body: \"\",\n  args: [],\n  thisVars: [],\n  localVars: []\n}\n\nfunction fixup(x) {\n  if(!x) {\n    return EmptyProc\n  }\n  for(var i=0; i<x.args.length; ++i) {\n    var a = x.args[i]\n    if(i === 0) {\n      x.args[i] = {name: a, lvalue:true, rvalue: !!x.rvalue, count:x.count||1 }\n    } else {\n      x.args[i] = {name: a, lvalue:false, rvalue:true, count: 1}\n    }\n  }\n  if(!x.thisVars) {\n    x.thisVars = []\n  }\n  if(!x.localVars) {\n    x.localVars = []\n  }\n  return x\n}\n\nfunction pcompile(user_args) {\n  return compile({\n    args:     user_args.args,\n    pre:      fixup(user_args.pre),\n    body:     fixup(user_args.body),\n    post:     fixup(user_args.proc),\n    funcName: user_args.funcName\n  })\n}\n\nfunction makeOp(user_args) {\n  var args = []\n  for(var i=0; i<user_args.args.length; ++i) {\n    args.push(\"a\"+i)\n  }\n  var wrapper = new Function(\"P\", [\n    \"return function \", user_args.funcName, \"_ndarrayops(\", args.join(\",\"), \") {P(\", args.join(\",\"), \");return a0}\"\n  ].join(\"\"))\n  return wrapper(pcompile(user_args))\n}\n\nvar assign_ops = {\n  add:  \"+\",\n  sub:  \"-\",\n  mul:  \"*\",\n  div:  \"/\",\n  mod:  \"%\",\n  band: \"&\",\n  bor:  \"|\",\n  bxor: \"^\",\n  lshift: \"<<\",\n  rshift: \">>\",\n  rrshift: \">>>\"\n}\n;(function(){\n  for(var id in assign_ops) {\n    var op = assign_ops[id]\n    exports[id] = makeOp({\n      args: [\"array\",\"array\",\"array\"],\n      body: {args:[\"a\",\"b\",\"c\"],\n             body: \"a=b\"+op+\"c\"},\n      funcName: id\n    })\n    exports[id+\"eq\"] = makeOp({\n      args: [\"array\",\"array\"],\n      body: {args:[\"a\",\"b\"],\n             body:\"a\"+op+\"=b\"},\n      rvalue: true,\n      funcName: id+\"eq\"\n    })\n    exports[id+\"s\"] = makeOp({\n      args: [\"array\", \"array\", \"scalar\"],\n      body: {args:[\"a\",\"b\",\"s\"],\n             body:\"a=b\"+op+\"s\"},\n      funcName: id+\"s\"\n    })\n    exports[id+\"seq\"] = makeOp({\n      args: [\"array\",\"scalar\"],\n      body: {args:[\"a\",\"s\"],\n             body:\"a\"+op+\"=s\"},\n      rvalue: true,\n      funcName: id+\"seq\"\n    })\n  }\n})();\n\nvar unary_ops = {\n  not: \"!\",\n  bnot: \"~\",\n  neg: \"-\",\n  recip: \"1.0/\"\n}\n;(function(){\n  for(var id in unary_ops) {\n    var op = unary_ops[id]\n    exports[id] = makeOp({\n      args: [\"array\", \"array\"],\n      body: {args:[\"a\",\"b\"],\n             body:\"a=\"+op+\"b\"},\n      funcName: id\n    })\n    exports[id+\"eq\"] = makeOp({\n      args: [\"array\"],\n      body: {args:[\"a\"],\n             body:\"a=\"+op+\"a\"},\n      rvalue: true,\n      count: 2,\n      funcName: id+\"eq\"\n    })\n  }\n})();\n\nvar binary_ops = {\n  and: \"&&\",\n  or: \"||\",\n  eq: \"===\",\n  neq: \"!==\",\n  lt: \"<\",\n  gt: \">\",\n  leq: \"<=\",\n  geq: \">=\"\n}\n;(function() {\n  for(var id in binary_ops) {\n    var op = binary_ops[id]\n    exports[id] = makeOp({\n      args: [\"array\",\"array\",\"array\"],\n      body: {args:[\"a\", \"b\", \"c\"],\n             body:\"a=b\"+op+\"c\"},\n      funcName: id\n    })\n    exports[id+\"s\"] = makeOp({\n      args: [\"array\",\"array\",\"scalar\"],\n      body: {args:[\"a\", \"b\", \"s\"],\n             body:\"a=b\"+op+\"s\"},\n      funcName: id+\"s\"\n    })\n    exports[id+\"eq\"] = makeOp({\n      args: [\"array\", \"array\"],\n      body: {args:[\"a\", \"b\"],\n             body:\"a=a\"+op+\"b\"},\n      rvalue:true,\n      count:2,\n      funcName: id+\"eq\"\n    })\n    exports[id+\"seq\"] = makeOp({\n      args: [\"array\", \"scalar\"],\n      body: {args:[\"a\",\"s\"],\n             body:\"a=a\"+op+\"s\"},\n      rvalue:true,\n      count:2,\n      funcName: id+\"seq\"\n    })\n  }\n})();\n\nvar math_unary = [\n  \"abs\",\n  \"acos\",\n  \"asin\",\n  \"atan\",\n  \"ceil\",\n  \"cos\",\n  \"exp\",\n  \"floor\",\n  \"log\",\n  \"round\",\n  \"sin\",\n  \"sqrt\",\n  \"tan\"\n]\n;(function() {\n  for(var i=0; i<math_unary.length; ++i) {\n    var f = math_unary[i]\n    exports[f] = makeOp({\n                    args: [\"array\", \"array\"],\n                    pre: {args:[], body:\"this_f=Math.\"+f, thisVars:[\"this_f\"]},\n                    body: {args:[\"a\",\"b\"], body:\"a=this_f(b)\", thisVars:[\"this_f\"]},\n                    funcName: f\n                  })\n    exports[f+\"eq\"] = makeOp({\n                      args: [\"array\"],\n                      pre: {args:[], body:\"this_f=Math.\"+f, thisVars:[\"this_f\"]},\n                      body: {args: [\"a\"], body:\"a=this_f(a)\", thisVars:[\"this_f\"]},\n                      rvalue: true,\n                      count: 2,\n                      funcName: f+\"eq\"\n                    })\n  }\n})();\n\nvar math_comm = [\n  \"max\",\n  \"min\",\n  \"atan2\",\n  \"pow\"\n]\n;(function(){\n  for(var i=0; i<math_comm.length; ++i) {\n    var f= math_comm[i]\n    exports[f] = makeOp({\n                  args:[\"array\", \"array\", \"array\"],\n                  pre: {args:[], body:\"this_f=Math.\"+f, thisVars:[\"this_f\"]},\n                  body: {args:[\"a\",\"b\",\"c\"], body:\"a=this_f(b,c)\", thisVars:[\"this_f\"]},\n                  funcName: f\n                })\n    exports[f+\"s\"] = makeOp({\n                  args:[\"array\", \"array\", \"scalar\"],\n                  pre: {args:[], body:\"this_f=Math.\"+f, thisVars:[\"this_f\"]},\n                  body: {args:[\"a\",\"b\",\"c\"], body:\"a=this_f(b,c)\", thisVars:[\"this_f\"]},\n                  funcName: f+\"s\"\n                  })\n    exports[f+\"eq\"] = makeOp({ args:[\"array\", \"array\"],\n                  pre: {args:[], body:\"this_f=Math.\"+f, thisVars:[\"this_f\"]},\n                  body: {args:[\"a\",\"b\"], body:\"a=this_f(a,b)\", thisVars:[\"this_f\"]},\n                  rvalue: true,\n                  count: 2,\n                  funcName: f+\"eq\"\n                  })\n    exports[f+\"seq\"] = makeOp({ args:[\"array\", \"scalar\"],\n                  pre: {args:[], body:\"this_f=Math.\"+f, thisVars:[\"this_f\"]},\n                  body: {args:[\"a\",\"b\"], body:\"a=this_f(a,b)\", thisVars:[\"this_f\"]},\n                  rvalue:true,\n                  count:2,\n                  funcName: f+\"seq\"\n                  })\n  }\n})();\n\nvar math_noncomm = [\n  \"atan2\",\n  \"pow\"\n]\n;(function(){\n  for(var i=0; i<math_noncomm.length; ++i) {\n    var f= math_noncomm[i]\n    exports[f+\"op\"] = makeOp({\n                  args:[\"array\", \"array\", \"array\"],\n                  pre: {args:[], body:\"this_f=Math.\"+f, thisVars:[\"this_f\"]},\n                  body: {args:[\"a\",\"b\",\"c\"], body:\"a=this_f(c,b)\", thisVars:[\"this_f\"]},\n                  funcName: f+\"op\"\n                })\n    exports[f+\"ops\"] = makeOp({\n                  args:[\"array\", \"array\", \"scalar\"],\n                  pre: {args:[], body:\"this_f=Math.\"+f, thisVars:[\"this_f\"]},\n                  body: {args:[\"a\",\"b\",\"c\"], body:\"a=this_f(c,b)\", thisVars:[\"this_f\"]},\n                  funcName: f+\"ops\"\n                  })\n    exports[f+\"opeq\"] = makeOp({ args:[\"array\", \"array\"],\n                  pre: {args:[], body:\"this_f=Math.\"+f, thisVars:[\"this_f\"]},\n                  body: {args:[\"a\",\"b\"], body:\"a=this_f(b,a)\", thisVars:[\"this_f\"]},\n                  rvalue: true,\n                  count: 2,\n                  funcName: f+\"opeq\"\n                  })\n    exports[f+\"opseq\"] = makeOp({ args:[\"array\", \"scalar\"],\n                  pre: {args:[], body:\"this_f=Math.\"+f, thisVars:[\"this_f\"]},\n                  body: {args:[\"a\",\"b\"], body:\"a=this_f(b,a)\", thisVars:[\"this_f\"]},\n                  rvalue:true,\n                  count:2,\n                  funcName: f+\"opseq\"\n                  })\n  }\n})();\n\nexports.any = compile({\n  args:[\"array\"],\n  pre: EmptyProc,\n  body: {args:[{name:\"a\", lvalue:false, rvalue:true, count:1}], body: \"if(a){return true}\", localVars: [], thisVars: []},\n  post: {args:[], localVars:[], thisVars:[], body:\"return false\"},\n  funcName: \"any\"\n})\n\nexports.all = compile({\n  args:[\"array\"],\n  pre: EmptyProc,\n  body: {args:[{name:\"x\", lvalue:false, rvalue:true, count:1}], body: \"if(!x){return false}\", localVars: [], thisVars: []},\n  post: {args:[], localVars:[], thisVars:[], body:\"return true\"},\n  funcName: \"all\"\n})\n\nexports.sum = compile({\n  args:[\"array\"],\n  pre: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"this_s=0\"},\n  body: {args:[{name:\"a\", lvalue:false, rvalue:true, count:1}], body: \"this_s+=a\", localVars: [], thisVars: [\"this_s\"]},\n  post: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"return this_s\"},\n  funcName: \"sum\"\n})\n\nexports.prod = compile({\n  args:[\"array\"],\n  pre: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"this_s=1\"},\n  body: {args:[{name:\"a\", lvalue:false, rvalue:true, count:1}], body: \"this_s*=a\", localVars: [], thisVars: [\"this_s\"]},\n  post: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"return this_s\"},\n  funcName: \"prod\"\n})\n\nexports.norm2squared = compile({\n  args:[\"array\"],\n  pre: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"this_s=0\"},\n  body: {args:[{name:\"a\", lvalue:false, rvalue:true, count:2}], body: \"this_s+=a*a\", localVars: [], thisVars: [\"this_s\"]},\n  post: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"return this_s\"},\n  funcName: \"norm2squared\"\n})\n  \nexports.norm2 = compile({\n  args:[\"array\"],\n  pre: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"this_s=0\"},\n  body: {args:[{name:\"a\", lvalue:false, rvalue:true, count:2}], body: \"this_s+=a*a\", localVars: [], thisVars: [\"this_s\"]},\n  post: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"return Math.sqrt(this_s)\"},\n  funcName: \"norm2\"\n})\n  \n\nexports.norminf = compile({\n  args:[\"array\"],\n  pre: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"this_s=0\"},\n  body: {args:[{name:\"a\", lvalue:false, rvalue:true, count:4}], body:\"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}\", localVars: [], thisVars: [\"this_s\"]},\n  post: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"return this_s\"},\n  funcName: \"norminf\"\n})\n\nexports.norm1 = compile({\n  args:[\"array\"],\n  pre: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"this_s=0\"},\n  body: {args:[{name:\"a\", lvalue:false, rvalue:true, count:3}], body: \"this_s+=a<0?-a:a\", localVars: [], thisVars: [\"this_s\"]},\n  post: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"return this_s\"},\n  funcName: \"norm1\"\n})\n\nexports.sup = compile({\n  args: [ \"array\" ],\n  pre:\n   { body: \"this_h=-Infinity\",\n     args: [],\n     thisVars: [ \"this_h\" ],\n     localVars: [] },\n  body:\n   { body: \"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_\",\n     args: [{\"name\":\"_inline_1_arg0_\",\"lvalue\":false,\"rvalue\":true,\"count\":2} ],\n     thisVars: [ \"this_h\" ],\n     localVars: [] },\n  post:\n   { body: \"return this_h\",\n     args: [],\n     thisVars: [ \"this_h\" ],\n     localVars: [] }\n })\n\nexports.inf = compile({\n  args: [ \"array\" ],\n  pre:\n   { body: \"this_h=Infinity\",\n     args: [],\n     thisVars: [ \"this_h\" ],\n     localVars: [] },\n  body:\n   { body: \"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_\",\n     args: [{\"name\":\"_inline_1_arg0_\",\"lvalue\":false,\"rvalue\":true,\"count\":2} ],\n     thisVars: [ \"this_h\" ],\n     localVars: [] },\n  post:\n   { body: \"return this_h\",\n     args: [],\n     thisVars: [ \"this_h\" ],\n     localVars: [] }\n })\n\nexports.argmin = compile({\n  args:[\"index\",\"array\",\"shape\"],\n  pre:{\n    body:\"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}\",\n    args:[\n      {name:\"_inline_0_arg0_\",lvalue:false,rvalue:false,count:0},\n      {name:\"_inline_0_arg1_\",lvalue:false,rvalue:false,count:0},\n      {name:\"_inline_0_arg2_\",lvalue:false,rvalue:true,count:1}\n      ],\n    thisVars:[\"this_i\",\"this_v\"],\n    localVars:[]},\n  body:{\n    body:\"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}\",\n    args:[\n      {name:\"_inline_1_arg0_\",lvalue:false,rvalue:true,count:2},\n      {name:\"_inline_1_arg1_\",lvalue:false,rvalue:true,count:2}],\n    thisVars:[\"this_i\",\"this_v\"],\n    localVars:[\"_inline_1_k\"]},\n  post:{\n    body:\"{return this_i}\",\n    args:[],\n    thisVars:[\"this_i\"],\n    localVars:[]}\n})\n\nexports.argmax = compile({\n  args:[\"index\",\"array\",\"shape\"],\n  pre:{\n    body:\"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}\",\n    args:[\n      {name:\"_inline_0_arg0_\",lvalue:false,rvalue:false,count:0},\n      {name:\"_inline_0_arg1_\",lvalue:false,rvalue:false,count:0},\n      {name:\"_inline_0_arg2_\",lvalue:false,rvalue:true,count:1}\n      ],\n    thisVars:[\"this_i\",\"this_v\"],\n    localVars:[]},\n  body:{\n    body:\"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}\",\n    args:[\n      {name:\"_inline_1_arg0_\",lvalue:false,rvalue:true,count:2},\n      {name:\"_inline_1_arg1_\",lvalue:false,rvalue:true,count:2}],\n    thisVars:[\"this_i\",\"this_v\"],\n    localVars:[\"_inline_1_k\"]},\n  post:{\n    body:\"{return this_i}\",\n    args:[],\n    thisVars:[\"this_i\"],\n    localVars:[]}\n})  \n\nexports.random = makeOp({\n  args: [\"array\"],\n  pre: {args:[], body:\"this_f=Math.random\", thisVars:[\"this_f\"]},\n  body: {args: [\"a\"], body:\"a=this_f()\", thisVars:[\"this_f\"]},\n  funcName: \"random\"\n})\n\nexports.assign = makeOp({\n  args:[\"array\", \"array\"],\n  body: {args:[\"a\", \"b\"], body:\"a=b\"},\n  funcName: \"assign\" })\n\nexports.assigns = makeOp({\n  args:[\"array\", \"scalar\"],\n  body: {args:[\"a\", \"b\"], body:\"a=b\"},\n  funcName: \"assigns\" })\n\n\nexports.equals = compile({\n  args:[\"array\", \"array\"],\n  pre: EmptyProc,\n  body: {args:[{name:\"x\", lvalue:false, rvalue:true, count:1},\n               {name:\"y\", lvalue:false, rvalue:true, count:1}], \n        body: \"if(x!==y){return false}\", \n        localVars: [], \n        thisVars: []},\n  post: {args:[], localVars:[], thisVars:[], body:\"return true\"},\n  funcName: \"equals\"\n})\n\n\n","\"use strict\"\n\nvar ndarray = require(\"ndarray\")\nvar do_convert = require(\"./doConvert.js\")\n\nmodule.exports = function convert(arr, result) {\n  var shape = [], c = arr, sz = 1\n  while(Array.isArray(c)) {\n    shape.push(c.length)\n    sz *= c.length\n    c = c[0]\n  }\n  if(shape.length === 0) {\n    return ndarray()\n  }\n  if(!result) {\n    result = ndarray(new Float64Array(sz), shape)\n  }\n  do_convert(result, arr)\n  return result\n}\n","module.exports=require('cwise-compiler')({\"args\":[\"array\",\"scalar\",\"index\"],\"pre\":{\"body\":\"{}\",\"args\":[],\"thisVars\":[],\"localVars\":[]},\"body\":{\"body\":\"{\\nvar _inline_1_v=_inline_1_arg1_,_inline_1_i\\nfor(_inline_1_i=0;_inline_1_i<_inline_1_arg2_.length-1;++_inline_1_i) {\\n_inline_1_v=_inline_1_v[_inline_1_arg2_[_inline_1_i]]\\n}\\n_inline_1_arg0_=_inline_1_v[_inline_1_arg2_[_inline_1_arg2_.length-1]]\\n}\",\"args\":[{\"name\":\"_inline_1_arg0_\",\"lvalue\":true,\"rvalue\":false,\"count\":1},{\"name\":\"_inline_1_arg1_\",\"lvalue\":false,\"rvalue\":true,\"count\":1},{\"name\":\"_inline_1_arg2_\",\"lvalue\":false,\"rvalue\":true,\"count\":4}],\"thisVars\":[],\"localVars\":[\"_inline_1_i\",\"_inline_1_v\"]},\"post\":{\"body\":\"{}\",\"args\":[],\"thisVars\":[],\"localVars\":[]},\"funcName\":\"convert\",\"blockSize\":64})\n","\"use strict\"\n\nvar ndarray = require(\"ndarray\")\nvar ops = require(\"ndarray-ops\")\nvar pool = require(\"typedarray-pool\")\n\nfunction clone(array) {\n  var dtype = array.dtype\n  if(dtype === \"generic\" || dtype === \"array\") {\n    dtype = \"double\"\n  }\n  var data = pool.malloc(array.size, dtype)\n  var result = ndarray(data, array.shape)\n  ops.assign(result, array)\n  return result\n}\nexports.clone = clone\n\nfunction malloc(shape, dtype) {\n  if(!dtype) {\n    dtype = \"double\"\n  }\n  var sz = 1\n  var stride = new Array(shape.length)\n  for(var i=shape.length-1; i>=0; --i) {\n    stride[i] = sz\n    sz *= shape[i]\n  }\n  return ndarray(pool.malloc(sz, dtype), shape, stride, 0)\n}\nexports.malloc = malloc\n\nfunction free(array) {\n  if(array.dtype === \"generic\" || array.dtype === \"array\") {\n    return\n  }\n  pool.free(array.data)\n}\nexports.free = free\n\nfunction zeros(shape, dtype) {\n  if(!dtype) {\n    dtype = \"double\"\n  }\n\n  var sz = 1\n  var stride = new Array(shape.length)\n  for(var i=shape.length-1; i>=0; --i) {\n    stride[i] = sz\n    sz *= shape[i]\n  }\n  var buf = pool.malloc(sz, dtype)\n  for(var i=0; i<sz; ++i) {\n    buf[i] = 0\n  }\n  return ndarray(buf, shape, stride, 0)\n}\nexports.zeros = zeros\n\nfunction ones(shape, dtype) {\n  if(!dtype) {\n    dtype = \"double\"\n  }\n\n  var sz = 1\n  var stride = new Array(shape.length)\n  for(var i=shape.length-1; i>=0; --i) {\n    stride[i] = sz\n    sz *= shape[i]\n  }\n  var buf = pool.malloc(sz, dtype)\n  for(var i=0; i<sz; ++i) {\n    buf[i] = 1\n  }\n  return ndarray(buf, shape, stride, 0)\n}\nexports.ones = ones\n\nfunction eye(shape, dtype) {\n  var i, offset\n  if(!dtype) {\n    dtype = \"double\"\n  }\n\n  var sz = 1\n  var stride = new Array(shape.length)\n  for(i=shape.length-1; i>=0; --i) {\n    stride[i] = sz\n    sz *= shape[i]\n  }\n  var buf = pool.malloc(sz, dtype)\n  for(i=0; i<sz; ++i) {\n    buf[i] = 0\n  }\n  var mindim = Infinity\n  var offsum = 0\n  for( i=shape.length-1; i>=0; i--) {\n    offsum += stride[i]\n    mindim = Math.min(mindim,shape[i])\n  }\n  for(i=0,offset=0; i<mindim; i++,offset+=offsum) {\n    buf[offset] = 1\n  }\n  return ndarray(buf, shape, stride, 0)\n}\nexports.eye = eye\n","\"use strict\"\n\nmodule.exports = ndSelect\nmodule.exports.compile = lookupCache\n\n//Macros\nvar ARRAY = \"a\"\nvar RANK = \"K\"\nvar CMP = \"C\"\nvar DATA = \"d\"\nvar OFFSET = \"o\"\nvar RND = \"R\"\nvar TMP = \"T\"\nvar LO = \"L\"\nvar HI = \"H\"\nvar PIVOT = \"X\"\nfunction SHAPE(i) {\n  return \"s\" + i\n}\nfunction STRIDE(i) {\n  return \"t\" + i\n}\nfunction STEP(i) {\n  return \"u\" + i\n}\nfunction STEP_CMP(i) {\n  return \"v\" + i\n}\nfunction INDEX(i) {\n  return \"i\" + i\n}\nfunction PICK(i) {\n  return \"p\" + i\n}\nfunction PTR(i) {\n  return \"x\" + i\n}\n\n//Create new order where index 0 is slowest index\nfunction permuteOrder(order) {\n  var norder = order.slice()\n  norder.splice(order.indexOf(0), 1)\n  norder.unshift(0)\n  return norder\n}\n\n//Generate quick select procedure\nfunction compileQuickSelect(order, useCompare, dtype) {\n  order = permuteOrder(order)\n\n  var dimension = order.length\n  var useGetter = (dtype === \"generic\")\n  var funcName = \"ndSelect\" + dtype + order.join(\"_\") + \"_\" + (useCompare ? \"cmp\" : \"lex\")\n\n  var code = []\n\n  //Get arguments for code\n  var args = [ARRAY, RANK]\n  if(useCompare) {\n    args.push(CMP)\n  }\n\n  //Unpack ndarray variables\n  var vars = [\n    DATA + \"=\" + ARRAY + \".data\",\n    OFFSET + \"=\" + ARRAY + \".offset|0\",\n    RND + \"=Math.random\",\n    TMP]\n  for(var i=0; i<2; ++i) {\n    vars.push(PTR(i) + \"=0\")\n  }\n  for(var i=0; i<dimension; ++i) {\n    vars.push(\n      SHAPE(i) + \"=\" + ARRAY + \".shape[\" + i + \"]|0\",\n      STRIDE(i) + \"=\" + ARRAY + \".stride[\" + i + \"]|0\",\n      INDEX(i) + \"=0\")\n  }\n  for(var i=1; i<dimension; ++i) {\n    if(i > 1) {\n      vars.push(STEP_CMP(i) + \"=(\" + STRIDE(i) + \"-\" + SHAPE(i-1) + \"*\" + STRIDE(i-1) + \")|0\",\n                STEP(order[i]) + \"=(\" + STRIDE(order[i]) + \"-\" + SHAPE(order[i-1]) + \"*\" + STRIDE(order[i-1]) + \")|0\")\n    } else {\n      vars.push(STEP_CMP(i) + \"=\" + STRIDE(i),\n                STEP(order[i]) + \"=\" + STRIDE(order[i]))\n    }\n  }\n  if(useCompare) {\n    for(var i=0; i<2; ++i) {\n      vars.push(PICK(i) + \"=\" + ARRAY + \".pick(0)\")\n    }\n  }\n  vars.push(\n    PIVOT + \"=0\",\n    LO + \"=0\",\n    HI + \"=\" + SHAPE(order[0]) + \"-1\")\n\n  function compare(out, i0, i1) {\n    if(useCompare) {\n      code.push(\n        PICK(0), \".offset=\", OFFSET, \"+\", STRIDE(order[0]), \"*(\", i0, \");\",\n        PICK(1), \".offset=\", OFFSET, \"+\", STRIDE(order[0]), \"*(\", i1, \");\",\n        out, \"=\", CMP, \"(\", PICK(0), \",\", PICK(1), \");\")\n    } else {\n      code.push(\n        PTR(0), \"=\", OFFSET, \"+\", STRIDE(0), \"*(\", i0, \");\",\n        PTR(1), \"=\", OFFSET, \"+\", STRIDE(0), \"*(\", i1, \");\")\n      if(dimension > 1) {\n        code.push(\"_cmp:\")\n      }\n      for(var i=dimension-1; i>0; --i) {\n        code.push(\"for(\", INDEX(i), \"=0;\", \n          INDEX(i), \"<\", SHAPE(i), \";\",\n          INDEX(i), \"++){\")\n      }\n      if(useGetter) {\n        code.push(out, \"=\", DATA, \".get(\", PTR(0), \")-\", \n                            DATA, \".get(\", PTR(1), \");\")\n      } else {\n        code.push(out, \"=\", DATA, \"[\", PTR(0), \"]-\", \n                            DATA, \"[\", PTR(1), \"];\")\n      }\n      if(dimension > 1) {\n        code.push(\"if(\", out, \")break _cmp;\")\n      }\n      for(var i=1; i<dimension; ++i) {\n        code.push(\n          PTR(0), \"+=\", STEP_CMP(i), \";\",\n          PTR(1), \"+=\", STEP_CMP(i),\n          \"}\")\n      }\n    }\n  }\n\n  function swap(i0, i1) {\n    code.push(\n      PTR(0), \"=\", OFFSET, \"+\", STRIDE(order[0]), \"*(\", i0, \");\",\n      PTR(1), \"=\", OFFSET, \"+\", STRIDE(order[0]), \"*(\", i1, \");\")\n    for(var i=dimension-1; i>0; --i) {\n      code.push(\"for(\", INDEX(order[i]), \"=0;\", \n        INDEX(order[i]), \"<\", SHAPE(order[i]), \";\",\n        INDEX(order[i]), \"++){\")\n    }\n    if(useGetter) {\n      code.push(TMP, \"=\", DATA, \".get(\", PTR(0), \");\", \n                DATA, \".set(\", PTR(0), \",\", DATA, \".get(\", PTR(1), \"));\",\n                DATA, \".set(\", PTR(1), \",\", TMP, \");\")\n    } else {\n      code.push(TMP, \"=\", DATA, \"[\", PTR(0), \"];\", \n                DATA, \"[\", PTR(0), \"]=\", DATA, \"[\", PTR(1), \"];\",\n                DATA, \"[\", PTR(1), \"]=\", TMP, \";\")\n    }\n    for(var i=1; i<dimension; ++i) {\n      code.push(\n        PTR(0), \"+=\", STEP(order[i]), \";\",\n        PTR(1), \"+=\", STEP(order[i]),\n        \"}\")\n    }\n  }\n\n  code.push(\n    \"while(\", LO, \"<\", HI, \"){\",\n      PIVOT, \"=(\", RND, \"()*(\", HI, \"-\", LO, \"+1)+\", LO, \")|0;\")\n\n  //Partition array by pivot\n  swap(PIVOT, HI) // Store pivot temporarily at the end of the array\n\n  code.push(\n    PIVOT, \"=\", LO, \";\", // PIVOT will now be used to keep track of the end of the interval of elements less than the pivot\n    \"for(\", INDEX(0), \"=\", LO, \";\",\n      INDEX(0), \"<\", HI, \";\",\n      INDEX(0), \"++){\") // Loop over other elements (unequal to the pivot), note that HI now points to the pivot\n  compare(TMP, INDEX(0), HI) // Lexicographical compare of element with pivot\n  code.push(\"if(\", TMP, \"<0){\")\n  swap(PIVOT, INDEX(0)) // Swap current element with element at index PIVOT if it is less than the pivot\n  code.push(PIVOT, \"++;\")\n  code.push(\"}}\")\n  swap(PIVOT, HI) // Store pivot right after all elements that are less than the pivot (implying that all elements >= the pivot are behind the pivot)\n\n  //Check pivot bounds\n  code.push(\n    \"if(\", PIVOT, \"===\", RANK, \"){\",\n      LO, \"=\", PIVOT, \";\",\n      \"break;\",\n    \"}else if(\", RANK, \"<\", PIVOT, \"){\",\n      HI, \"=\", PIVOT, \"-1;\",\n    \"}else{\",\n      LO, \"=\", PIVOT, \"+1;\",\n    \"}\",\n  \"}\")\n\n  if(useCompare) {\n    code.push(PICK(0), \".offset=\", OFFSET, \"+\", LO, \"*\", STRIDE(0), \";\",\n      \"return \", PICK(0), \";\")\n  } else {\n    code.push(\"return \", ARRAY, \".pick(\", LO, \");\")\n  }\n\n  //Compile and link js together\n  var procCode = [\n    \"'use strict';function \", funcName, \"(\", args, \"){\",\n      \"var \", vars.join(), \";\",\n      code.join(\"\"),\n    \"};return \", funcName\n  ].join(\"\")\n\n  var proc = new Function(procCode)\n  return proc()\n}\n\nvar CACHE = {}\n\nfunction lookupCache(order, useCompare, dtype) {\n  var typesig = order.join() + useCompare + dtype\n  var proc = CACHE[typesig]\n  if(proc) {\n    return proc\n  }\n  return CACHE[typesig] = compileQuickSelect(order, useCompare, dtype)\n}\n\nfunction ndSelect(array, k, compare) {\n  k |= 0\n  if((array.dimension === 0) || \n    (array.shape[0] <= k) ||\n    (k < 0)) {\n    return null\n  }\n  var useCompare = !!compare\n  var proc = lookupCache(array.order, useCompare, array.dtype)\n  if(useCompare) {\n    return proc(array, k, compare)\n  } else {\n    return proc(array, k)\n  }\n}","var iota = require(\"iota-array\")\nvar isBuffer = require(\"is-buffer\")\n\nvar hasTypedArrays  = ((typeof Float64Array) !== \"undefined\")\n\nfunction compare1st(a, b) {\n  return a[0] - b[0]\n}\n\nfunction order() {\n  var stride = this.stride\n  var terms = new Array(stride.length)\n  var i\n  for(i=0; i<terms.length; ++i) {\n    terms[i] = [Math.abs(stride[i]), i]\n  }\n  terms.sort(compare1st)\n  var result = new Array(terms.length)\n  for(i=0; i<result.length; ++i) {\n    result[i] = terms[i][1]\n  }\n  return result\n}\n\nfunction compileConstructor(dtype, dimension) {\n  var className = [\"View\", dimension, \"d\", dtype].join(\"\")\n  if(dimension < 0) {\n    className = \"View_Nil\" + dtype\n  }\n  var useGetters = (dtype === \"generic\")\n\n  if(dimension === -1) {\n    //Special case for trivial arrays\n    var code =\n      \"function \"+className+\"(a){this.data=a;};\\\nvar proto=\"+className+\".prototype;\\\nproto.dtype='\"+dtype+\"';\\\nproto.index=function(){return -1};\\\nproto.size=0;\\\nproto.dimension=-1;\\\nproto.shape=proto.stride=proto.order=[];\\\nproto.lo=proto.hi=proto.transpose=proto.step=\\\nfunction(){return new \"+className+\"(this.data);};\\\nproto.get=proto.set=function(){};\\\nproto.pick=function(){return null};\\\nreturn function construct_\"+className+\"(a){return new \"+className+\"(a);}\"\n    var procedure = new Function(code)\n    return procedure()\n  } else if(dimension === 0) {\n    //Special case for 0d arrays\n    var code =\n      \"function \"+className+\"(a,d) {\\\nthis.data = a;\\\nthis.offset = d\\\n};\\\nvar proto=\"+className+\".prototype;\\\nproto.dtype='\"+dtype+\"';\\\nproto.index=function(){return this.offset};\\\nproto.dimension=0;\\\nproto.size=1;\\\nproto.shape=\\\nproto.stride=\\\nproto.order=[];\\\nproto.lo=\\\nproto.hi=\\\nproto.transpose=\\\nproto.step=function \"+className+\"_copy() {\\\nreturn new \"+className+\"(this.data,this.offset)\\\n};\\\nproto.pick=function \"+className+\"_pick(){\\\nreturn TrivialArray(this.data);\\\n};\\\nproto.valueOf=proto.get=function \"+className+\"_get(){\\\nreturn \"+(useGetters ? \"this.data.get(this.offset)\" : \"this.data[this.offset]\")+\n\"};\\\nproto.set=function \"+className+\"_set(v){\\\nreturn \"+(useGetters ? \"this.data.set(this.offset,v)\" : \"this.data[this.offset]=v\")+\"\\\n};\\\nreturn function construct_\"+className+\"(a,b,c,d){return new \"+className+\"(a,d)}\"\n    var procedure = new Function(\"TrivialArray\", code)\n    return procedure(CACHED_CONSTRUCTORS[dtype][0])\n  }\n\n  var code = [\"'use strict'\"]\n\n  //Create constructor for view\n  var indices = iota(dimension)\n  var args = indices.map(function(i) { return \"i\"+i })\n  var index_str = \"this.offset+\" + indices.map(function(i) {\n        return \"this.stride[\" + i + \"]*i\" + i\n      }).join(\"+\")\n  var shapeArg = indices.map(function(i) {\n      return \"b\"+i\n    }).join(\",\")\n  var strideArg = indices.map(function(i) {\n      return \"c\"+i\n    }).join(\",\")\n  code.push(\n    \"function \"+className+\"(a,\" + shapeArg + \",\" + strideArg + \",d){this.data=a\",\n      \"this.shape=[\" + shapeArg + \"]\",\n      \"this.stride=[\" + strideArg + \"]\",\n      \"this.offset=d|0}\",\n    \"var proto=\"+className+\".prototype\",\n    \"proto.dtype='\"+dtype+\"'\",\n    \"proto.dimension=\"+dimension)\n\n  //view.size:\n  code.push(\"Object.defineProperty(proto,'size',{get:function \"+className+\"_size(){\\\nreturn \"+indices.map(function(i) { return \"this.shape[\"+i+\"]\" }).join(\"*\"),\n\"}})\")\n\n  //view.order:\n  if(dimension === 1) {\n    code.push(\"proto.order=[0]\")\n  } else {\n    code.push(\"Object.defineProperty(proto,'order',{get:\")\n    if(dimension < 4) {\n      code.push(\"function \"+className+\"_order(){\")\n      if(dimension === 2) {\n        code.push(\"return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})\")\n      } else if(dimension === 3) {\n        code.push(\n\"var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);\\\nif(s0>s1){\\\nif(s1>s2){\\\nreturn [2,1,0];\\\n}else if(s0>s2){\\\nreturn [1,2,0];\\\n}else{\\\nreturn [1,0,2];\\\n}\\\n}else if(s0>s2){\\\nreturn [2,0,1];\\\n}else if(s2>s1){\\\nreturn [0,1,2];\\\n}else{\\\nreturn [0,2,1];\\\n}}})\")\n      }\n    } else {\n      code.push(\"ORDER})\")\n    }\n  }\n\n  //view.set(i0, ..., v):\n  code.push(\n\"proto.set=function \"+className+\"_set(\"+args.join(\",\")+\",v){\")\n  if(useGetters) {\n    code.push(\"return this.data.set(\"+index_str+\",v)}\")\n  } else {\n    code.push(\"return this.data[\"+index_str+\"]=v}\")\n  }\n\n  //view.get(i0, ...):\n  code.push(\"proto.get=function \"+className+\"_get(\"+args.join(\",\")+\"){\")\n  if(useGetters) {\n    code.push(\"return this.data.get(\"+index_str+\")}\")\n  } else {\n    code.push(\"return this.data[\"+index_str+\"]}\")\n  }\n\n  //view.index:\n  code.push(\n    \"proto.index=function \"+className+\"_index(\", args.join(), \"){return \"+index_str+\"}\")\n\n  //view.hi():\n  code.push(\"proto.hi=function \"+className+\"_hi(\"+args.join(\",\")+\"){return new \"+className+\"(this.data,\"+\n    indices.map(function(i) {\n      return [\"(typeof i\",i,\"!=='number'||i\",i,\"<0)?this.shape[\", i, \"]:i\", i,\"|0\"].join(\"\")\n    }).join(\",\")+\",\"+\n    indices.map(function(i) {\n      return \"this.stride[\"+i + \"]\"\n    }).join(\",\")+\",this.offset)}\")\n\n  //view.lo():\n  var a_vars = indices.map(function(i) { return \"a\"+i+\"=this.shape[\"+i+\"]\" })\n  var c_vars = indices.map(function(i) { return \"c\"+i+\"=this.stride[\"+i+\"]\" })\n  code.push(\"proto.lo=function \"+className+\"_lo(\"+args.join(\",\")+\"){var b=this.offset,d=0,\"+a_vars.join(\",\")+\",\"+c_vars.join(\",\"))\n  for(var i=0; i<dimension; ++i) {\n    code.push(\n\"if(typeof i\"+i+\"==='number'&&i\"+i+\">=0){\\\nd=i\"+i+\"|0;\\\nb+=c\"+i+\"*d;\\\na\"+i+\"-=d}\")\n  }\n  code.push(\"return new \"+className+\"(this.data,\"+\n    indices.map(function(i) {\n      return \"a\"+i\n    }).join(\",\")+\",\"+\n    indices.map(function(i) {\n      return \"c\"+i\n    }).join(\",\")+\",b)}\")\n\n  //view.step():\n  code.push(\"proto.step=function \"+className+\"_step(\"+args.join(\",\")+\"){var \"+\n    indices.map(function(i) {\n      return \"a\"+i+\"=this.shape[\"+i+\"]\"\n    }).join(\",\")+\",\"+\n    indices.map(function(i) {\n      return \"b\"+i+\"=this.stride[\"+i+\"]\"\n    }).join(\",\")+\",c=this.offset,d=0,ceil=Math.ceil\")\n  for(var i=0; i<dimension; ++i) {\n    code.push(\n\"if(typeof i\"+i+\"==='number'){\\\nd=i\"+i+\"|0;\\\nif(d<0){\\\nc+=b\"+i+\"*(a\"+i+\"-1);\\\na\"+i+\"=ceil(-a\"+i+\"/d)\\\n}else{\\\na\"+i+\"=ceil(a\"+i+\"/d)\\\n}\\\nb\"+i+\"*=d\\\n}\")\n  }\n  code.push(\"return new \"+className+\"(this.data,\"+\n    indices.map(function(i) {\n      return \"a\" + i\n    }).join(\",\")+\",\"+\n    indices.map(function(i) {\n      return \"b\" + i\n    }).join(\",\")+\",c)}\")\n\n  //view.transpose():\n  var tShape = new Array(dimension)\n  var tStride = new Array(dimension)\n  for(var i=0; i<dimension; ++i) {\n    tShape[i] = \"a[i\"+i+\"]\"\n    tStride[i] = \"b[i\"+i+\"]\"\n  }\n  code.push(\"proto.transpose=function \"+className+\"_transpose(\"+args+\"){\"+\n    args.map(function(n,idx) { return n + \"=(\" + n + \"===undefined?\" + idx + \":\" + n + \"|0)\"}).join(\";\"),\n    \"var a=this.shape,b=this.stride;return new \"+className+\"(this.data,\"+tShape.join(\",\")+\",\"+tStride.join(\",\")+\",this.offset)}\")\n\n  //view.pick():\n  code.push(\"proto.pick=function \"+className+\"_pick(\"+args+\"){var a=[],b=[],c=this.offset\")\n  for(var i=0; i<dimension; ++i) {\n    code.push(\"if(typeof i\"+i+\"==='number'&&i\"+i+\">=0){c=(c+this.stride[\"+i+\"]*i\"+i+\")|0}else{a.push(this.shape[\"+i+\"]);b.push(this.stride[\"+i+\"])}\")\n  }\n  code.push(\"var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}\")\n\n  //Add return statement\n  code.push(\"return function construct_\"+className+\"(data,shape,stride,offset){return new \"+className+\"(data,\"+\n    indices.map(function(i) {\n      return \"shape[\"+i+\"]\"\n    }).join(\",\")+\",\"+\n    indices.map(function(i) {\n      return \"stride[\"+i+\"]\"\n    }).join(\",\")+\",offset)}\")\n\n  //Compile procedure\n  var procedure = new Function(\"CTOR_LIST\", \"ORDER\", code.join(\"\\n\"))\n  return procedure(CACHED_CONSTRUCTORS[dtype], order)\n}\n\nfunction arrayDType(data) {\n  if(isBuffer(data)) {\n    return \"buffer\"\n  }\n  if(hasTypedArrays) {\n    switch(Object.prototype.toString.call(data)) {\n      case \"[object Float64Array]\":\n        return \"float64\"\n      case \"[object Float32Array]\":\n        return \"float32\"\n      case \"[object Int8Array]\":\n        return \"int8\"\n      case \"[object Int16Array]\":\n        return \"int16\"\n      case \"[object Int32Array]\":\n        return \"int32\"\n      case \"[object Uint8Array]\":\n        return \"uint8\"\n      case \"[object Uint16Array]\":\n        return \"uint16\"\n      case \"[object Uint32Array]\":\n        return \"uint32\"\n      case \"[object Uint8ClampedArray]\":\n        return \"uint8_clamped\"\n      case \"[object BigInt64Array]\":\n        return \"bigint64\"\n      case \"[object BigUint64Array]\":\n        return \"biguint64\"\n    }\n  }\n  if(Array.isArray(data)) {\n    return \"array\"\n  }\n  return \"generic\"\n}\n\nvar CACHED_CONSTRUCTORS = {\n  \"float32\":[],\n  \"float64\":[],\n  \"int8\":[],\n  \"int16\":[],\n  \"int32\":[],\n  \"uint8\":[],\n  \"uint16\":[],\n  \"uint32\":[],\n  \"array\":[],\n  \"uint8_clamped\":[],\n  \"bigint64\": [],\n  \"biguint64\": [],\n  \"buffer\":[],\n  \"generic\":[]\n}\n\n;(function() {\n  for(var id in CACHED_CONSTRUCTORS) {\n    CACHED_CONSTRUCTORS[id].push(compileConstructor(id, -1))\n  }\n});\n\nfunction wrappedNDArrayCtor(data, shape, stride, offset) {\n  if(data === undefined) {\n    var ctor = CACHED_CONSTRUCTORS.array[0]\n    return ctor([])\n  } else if(typeof data === \"number\") {\n    data = [data]\n  }\n  if(shape === undefined) {\n    shape = [ data.length ]\n  }\n  var d = shape.length\n  if(stride === undefined) {\n    stride = new Array(d)\n    for(var i=d-1, sz=1; i>=0; --i) {\n      stride[i] = sz\n      sz *= shape[i]\n    }\n  }\n  if(offset === undefined) {\n    offset = 0\n    for(var i=0; i<d; ++i) {\n      if(stride[i] < 0) {\n        offset -= (shape[i]-1)*stride[i]\n      }\n    }\n  }\n  var dtype = arrayDType(data)\n  var ctor_list = CACHED_CONSTRUCTORS[dtype]\n  while(ctor_list.length <= d+1) {\n    ctor_list.push(compileConstructor(dtype, ctor_list.length-1))\n  }\n  var ctor = ctor_list[d+1]\n  return ctor(data, shape, stride, offset)\n}\n\nmodule.exports = wrappedNDArrayCtor\n","import { identity } from '../util/identity';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function distinctUntilChanged(comparator, keySelector) {\n    if (keySelector === void 0) { keySelector = identity; }\n    comparator = comparator !== null && comparator !== void 0 ? comparator : defaultCompare;\n    return operate(function (source, subscriber) {\n        var previousKey;\n        var first = true;\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n            var currentKey = keySelector(value);\n            if (first || !comparator(previousKey, currentKey)) {\n                first = false;\n                previousKey = currentKey;\n                subscriber.next(value);\n            }\n        }));\n    });\n}\nfunction defaultCompare(a, b) {\n    return a === b;\n}\n//# sourceMappingURL=distinctUntilChanged.js.map","\"use strict\"\n\nmodule.exports = createKDTree\nmodule.exports.deserialize = deserializeKDTree\n\nvar ndarray = require(\"ndarray\")\nvar ndselect = require(\"ndarray-select\")\nvar pack = require(\"ndarray-pack\")\nvar ops = require(\"ndarray-ops\")\nvar ndscratch = require(\"ndarray-scratch\")\nvar pool = require(\"typedarray-pool\")\nvar inorderTree = require(\"inorder-tree-layout\")\nvar bits = require(\"bit-twiddle\")\nvar KDTHeap = require(\"./lib/heap.js\")\n\nfunction KDTree(points, ids, n, d) {\n  this.points = points\n  this.ids = ids\n  this.dimension = d\n  this.length = n\n}\n\nvar proto = KDTree.prototype\n\nproto.serialize = function() {\n  if(this.length > 0) {\n    return {\n      p: Array.prototype.slice.call(this.points.data, 0, this.length*this.dimension),\n      i: Array.prototype.slice.call(this.ids, 0, this.length)\n    }\n  } else {\n    return { d: this.dimension }\n  }\n}\n\n//Range query\nproto.range = function kdtRangeQuery(lo, hi, visit) {\n  var n = this.length\n  if(n < 1) {\n    return\n  }\n\n  //Check degenerate case\n  var d = this.dimension\n  for(var i=0; i<d; ++i) {\n    if(hi[i] < lo[i]) {\n      return\n    }\n  }\n\n  var points = this.points\n  var ids = this.ids\n\n  //Walk tree in level order, skipping subtrees which do not intersect range\n  var visitRange = ndscratch.malloc([n, 2, d])\n  var visitIndex = pool.mallocInt32(n)\n  var rangeData = visitRange.data\n  var pointData = points.data\n  var visitCount = 1\n  var visitTop = 0\n  var retval\n\n  visitIndex[0] = 0\n  pack(lo, visitRange.pick(0,0))\n  pack(hi, visitRange.pick(0,1))\n  \n  while(visitTop < visitCount) {\n    var idx = visitIndex[visitTop]\n    var k = bits.log2(idx+1)%d\n    var loidx = visitRange.index(visitTop, 0, 0)\n    var hiidx = visitRange.index(visitTop, 1, 0)\n    var pidx = points.index(idx, 0)\n\n    var visitPoint = true\n    for(var i=0; i<d; ++i) {\n      var pc = pointData[pidx+i]\n      if((pc < rangeData[loidx + i]) || \n         (rangeData[hiidx + i] < pc)) {\n        visitPoint = false\n        break\n      }\n    }\n    if(visitPoint) {\n      retval = visit(ids[idx])\n      if(retval !== undefined) {\n        break\n      }\n    }\n\n    //Visit children\n    var pk = pointData[pidx+k]\n    var hk = rangeData[hiidx+k]\n    var lk = rangeData[loidx+k]\n    if(lk <= pk) {\n      var left = 2 * idx + 1\n      if(left < n) {\n        visitIndex[visitCount] = left\n        var y = visitRange.index(visitCount, 0, 0)\n        for(var i=0; i<d; ++i) {\n          rangeData[y+i] = rangeData[loidx+i]\n        }\n        var z = visitRange.index(visitCount, 1, 0)\n        for(var i=0; i<d; ++i) {\n          rangeData[z+i] = rangeData[hiidx+i]\n        }\n        rangeData[z+k] = Math.min(hk, pk)\n        visitCount += 1\n      }\n    }\n    if(pk <= hk) {\n      var right = 2 * (idx + 1)\n      if(right < n) {\n        visitIndex[visitCount] = right\n        var y = visitRange.index(visitCount, 0, 0)\n        for(var i=0; i<d; ++i) {\n          rangeData[y+i] = rangeData[loidx+i]\n        }\n        var z = visitRange.index(visitCount, 1, 0)\n        for(var i=0; i<d; ++i) {\n          rangeData[z+i] = rangeData[hiidx+i]\n        }\n        rangeData[y+k] = Math.max(lk, pk)\n        visitCount += 1\n      }\n    }\n\n    //Increment pointer\n    visitTop += 1\n  }\n  ndscratch.free(visitRange)\n  pool.free(visitIndex)\n  return retval\n}\n\nproto.rnn = function(point, radius, visit) {\n  if(radius < 0) {\n    return\n  }\n  var n = this.length\n  if(n < 1) {\n    return\n  }\n  var d = this.dimension\n  var points = this.points\n  var ids = this.ids\n\n  //Walk tree in level order, skipping subtrees which do not intersect sphere\n  var visitDistance = ndscratch.malloc([n, d])\n  var visitIndex = pool.mallocInt32(n)\n  var distanceData = visitDistance.data\n  var pointData = points.data\n  var visitCount = 1\n  var visitTop = 0\n  var r2 = radius*radius\n  var retval\n\n  //Initialize top of queue\n  visitIndex[0] = 0\n  for(var i=0; i<d; ++i) {\n    visitDistance.set(0, i, 0)\n  }\n\n  //Walk over queue\n  while(visitTop < visitCount) {\n    var idx = visitIndex[visitTop]\n    var pidx = points.index(idx, 0)\n\n    //Check if point in sphere\n    var d2 = 0.0\n    for(var i=0; i<d; ++i) {\n      d2 += Math.pow(point[i] - pointData[pidx+i], 2)\n    }\n    if(d2 <= r2) {\n      retval = visit(ids[idx])\n      if(retval !== undefined) {\n        break\n      }\n    }\n\n    //Visit children\n    var k = bits.log2(idx+1)%d\n    var ds = 0.0\n    var didx = visitDistance.index(visitTop, 0)\n    for(var i=0; i<d; ++i) {\n      if(i !== k) {\n        ds += distanceData[didx + i]\n      }\n    }\n\n    //Handle split axis\n    var qk = point[k]\n    var pk = pointData[pidx+k]\n    var dk = distanceData[didx+k]\n    var lk = dk\n    var hk = dk\n    if(qk < pk) {\n      hk = Math.max(dk, Math.pow(pk - qk, 2))\n    } else {\n      lk = Math.max(dk, Math.pow(pk - qk, 2))\n    }\n\n    var d2l = lk + ds\n    var d2h = hk + ds\n\n    if(d2l <= r2) {\n      var left = 2 * idx + 1\n      if(left < n) {\n        visitIndex[visitCount] = left\n        var y = visitDistance.index(visitCount, 0)\n        for(var i=0; i<d; ++i) {\n          distanceData[y+i] = distanceData[didx+i]\n        }\n        distanceData[y+k] = lk\n        visitCount += 1\n      }\n    }\n    if(d2h <= r2) {\n      var right = 2 * (idx + 1)\n      if(right < n) {\n        visitIndex[visitCount] = right\n        var y = visitDistance.index(visitCount, 0)\n        for(var i=0; i<d; ++i) {\n          distanceData[y+i] = distanceData[didx+i]\n        }\n        distanceData[y+k] = hk\n        visitCount += 1\n      }\n    }\n\n    //Increment pointer\n    visitTop += 1\n  }\n\n  ndscratch.free(visitDistance)\n  pool.free(visitIndex)\n  return retval\n}\n\nproto.nn = function(point, maxDistance) {\n  var n = this.length\n  if(n < 1) {\n    return -1\n  }\n  if(typeof maxDistance === \"number\") {\n    if(maxDistance < 0) {\n      return -1\n    } \n  } else {\n    maxDistance = Infinity\n  }\n  var d = this.dimension\n  var points = this.points\n  var pointData = points.data\n  var dataVector = pool.mallocFloat64(d)\n\n  var toVisit = new KDTHeap(n, d+1)\n  var index = toVisit.index\n  var data = toVisit.data\n  index[0] = 0\n  for(var i=0; i<=d; ++i) {\n    data[i] = 0\n  }\n  toVisit.count += 1\n\n  var nearest = -1\n  var nearestD = maxDistance\n\n  while(toVisit.count > 0) {\n    if(data[0] >= nearestD) {\n      break\n    }\n\n    var idx = index[0]\n    var pidx = points.index(idx, 0)\n    var d2 = 0.0\n    for(var i=0; i<d; ++i) {\n      d2 += Math.pow(point[i]-pointData[pidx+i], 2)\n    }\n    if(d2 < nearestD) {\n      nearestD = d2\n      nearest = idx\n    }\n\n    //Compute distance bounds for children\n    var k = bits.log2(idx+1)%d\n    var ds = 0\n    for(var i=0; i<d; ++i) {\n      var dd = data[i+1]\n      if(i !== k) {\n        ds += dd\n      }\n      dataVector[i] = dd\n    }\n    var qk = point[k]\n    var pk = pointData[pidx+k]\n    var dk = dataVector[k]\n    var lk = dk\n    var hk = dk\n    if(qk < pk) {\n      hk = Math.max(dk, Math.pow(pk - qk, 2))\n    } else {\n      lk = Math.max(dk, Math.pow(pk - qk, 2))\n    }\n    var d2l = lk + ds\n    var d2h = hk + ds\n\n    toVisit.pop()\n    \n    if(d2l < nearestD) {\n      var left = 2 * idx + 1\n      if(left < n) {\n        var vcount = toVisit.count\n        index[vcount] = left\n        var vptr = vcount * (d+1)\n        data[vptr] = d2l\n        for(var i=1; i<=d; ++i) {\n          data[vptr+i] = dataVector[i-1]\n        }\n        data[vptr+k+1] = lk\n        toVisit.push()\n      }\n    }\n    if(d2h < nearestD) {\n      var right = 2 * (idx + 1)\n      if(right < n) {\n        var vcount = toVisit.count\n        index[vcount] = right\n        var vptr = vcount * (d+1)\n        data[vptr] = d2h\n        for(var i=1; i<=d; ++i) {\n          data[vptr+i] = dataVector[i-1]\n        }\n        data[vptr+k+1] = hk\n        toVisit.push()\n      }\n    }\n  }\n\n  pool.freeFloat64(dataVector)\n  toVisit.dispose()\n  \n  if(nearest < 0) {\n    return -1\n  }\n  return this.ids[nearest]\n}\n\nproto.knn = function(point, maxPoints, maxDistance) {\n  //Check degenerate cases\n  if(typeof maxDistance === \"number\") {\n    if(maxDistance < 0) {\n      return []\n    }\n  } else {\n    maxDistance = Infinity\n  }\n  var n = this.length\n  if(n < 1) {\n    return []\n  }\n  if(typeof maxPoints === \"number\") {\n    if(maxPoints <= 0) {\n      return []\n    }\n    maxPoints = Math.min(maxPoints, n)|0\n  } else {\n    maxPoints = n\n  }\n  var ids = this.ids\n\n  var d = this.dimension\n  var points = this.points\n  var pointData = points.data\n  var dataVector = pool.mallocFloat64(d)\n  \n  //List of closest points\n  var closestPoints = new KDTHeap(maxPoints, 1)\n  var cl_index = closestPoints.index\n  var cl_data = closestPoints.data\n\n  var toVisit = new KDTHeap(n, d+1)\n  var index = toVisit.index\n  var data = toVisit.data\n  index[0] = 0\n  for(var i=0; i<=d; ++i) {\n    data[i] = 0\n  }\n  toVisit.count += 1\n\n  var nearest = -1\n  var nearestD = maxDistance\n\n  while(toVisit.count > 0) {\n    if(data[0] >= nearestD) {\n      break\n    }\n\n    var idx = index[0]\n    var pidx = points.index(idx, 0)\n    var d2 = 0.0\n    for(var i=0; i<d; ++i) {\n      d2 += Math.pow(point[i]-pointData[pidx+i], 2)\n    }\n    if(d2 < nearestD) {\n      if(closestPoints.count >= maxPoints) {\n        closestPoints.pop()\n      }\n      var pcount = closestPoints.count\n      cl_index[pcount] = idx\n      cl_data[pcount] = -d2\n      closestPoints.push()\n      if(closestPoints.count >= maxPoints) {\n        nearestD = -cl_data[0]\n      }\n    }\n\n    //Compute distance bounds for children\n    var k = bits.log2(idx+1)%d\n    var ds = 0\n    for(var i=0; i<d; ++i) {\n      var dd = data[i+1]\n      if(i !== k) {\n        ds += dd\n      }\n      dataVector[i] = dd\n    }\n    var qk = point[k]\n    var pk = pointData[pidx+k]\n    var dk = dataVector[k]\n    var lk = dk\n    var hk = dk\n    if(qk < pk) {\n      hk = Math.max(dk, Math.pow(pk - qk, 2))\n    } else {\n      lk = Math.max(dk, Math.pow(pk - qk, 2))\n    }\n    var d2l = lk + ds\n    var d2h = hk + ds\n\n    toVisit.pop()\n    if(d2l < nearestD) {\n      var left = 2 * idx + 1\n      if(left < n) {\n        var vcount = toVisit.count\n        index[vcount] = left\n        var vptr = vcount * (d+1)\n        data[vptr] = d2l\n        for(var i=1; i<=d; ++i) {\n          data[vptr+i] = dataVector[i-1]\n        }\n        data[vptr+k+1] = lk\n        toVisit.push()\n      }\n    }\n    if(d2h < nearestD) {\n      var right = 2 * (idx + 1)\n      if(right < n) {\n        var vcount = toVisit.count\n        index[vcount] = right\n        var vptr = vcount * (d+1)\n        data[vptr] = d2h\n        for(var i=1; i<=d; ++i) {\n          data[vptr+i] = dataVector[i-1]\n        }\n        data[vptr+k+1] = hk\n        toVisit.push()\n      }\n    }\n  }\n\n  pool.freeFloat64(dataVector)\n  toVisit.dispose()\n\n  //Sort result\n  var result = new Array(closestPoints.count)\n  var ids = this.ids\n  for(var i=closestPoints.count-1; i>=0; --i) {\n    result[i] = ids[cl_index[0]]\n    closestPoints.pop()\n  }\n  closestPoints.dispose()\n\n  return result\n}\n\nproto.dispose = function kdtDispose() {\n  pool.free(this.points.data)\n  pool.freeInt32(this.ids)\n  this.points = null\n  this.ids = null\n  this.length = 0\n}\n\nfunction Queue() {\n  this.data = []\n  this.offset = 0\n}\n\nQueue.prototype.size = function() {\n  return this.data.length - this.offset\n}\n\nQueue.prototype.push = function(item) {\n  return this.data.push(item)\n}\n\nQueue.prototype.pop = function() {\n  if (this.size() === 0) {\n    return undefined\n  }\n\n  var ret = this.data[this.offset]\n  this.offset++\n  if (this.data.length > 1024 && this.offset * 2 > this.data.length) {\n    this.data = this.data.slice(this.offset)\n    this.offset = 0\n  }\n  return ret\n}\n\nfunction createKDTree(points) {\n  var n, d, indexed\n  if(Array.isArray(points)) {\n    n = points.length\n    if(n === 0) {\n      return new KDTree(null, null, 0, 0)\n    }\n    d = points[0].length\n    indexed = ndarray(pool.mallocDouble(n*(d+1)), [n, d+1])\n    pack(points, indexed.hi(n, d))\n  } else {\n    n = points.shape[0]\n    d = points.shape[1]\n\n    //Round up data type size\n    var type = points.dtype\n    if(type === \"int8\" ||\n       type === \"int16\" ||\n       type === \"int32\" ) {\n      type = \"int32\"\n    } else if(type === \"uint8\" ||\n      type === \"uint8_clamped\" ||\n      type === \"buffer\" ||\n      type === \"uint16\" ||\n      type === \"uint32\") {\n      type = \"uint32\"\n    } else if(type === \"float32\") {\n      type = \"float32\"\n    } else {\n      type = \"float64\"\n    }\n    indexed = ndarray(pool.malloc(n*(d+1), type), [n, d+1])\n    ops.assign(indexed.hi(n,d), points)\n  }\n  for(var i=0; i<n; ++i) {\n    indexed.set(i, d, i)\n  }\n\n  var pointArray = ndscratch.malloc([n, d], points.dtype)\n  var indexArray = pool.mallocInt32(n)\n  var pointer = 0\n  var pointData = pointArray.data\n  var arrayData = indexed.data\n  var l2_n = bits.log2(bits.nextPow2(n))\n\n  var sel_cmp = ndselect.compile(indexed.order, true, indexed.dtype)\n\n  //Walk tree in level order\n  var toVisit = new Queue()\n  toVisit.push(indexed)\n  while(pointer < n) {\n    var head = toVisit.pop()\n    var array = head\n    var nn = array.shape[0]|0\n    \n    //Find median\n    if(nn > 1) {\n      var k = bits.log2(pointer+1)%d\n      var median\n      var n_2 = inorderTree.root(nn)\n      median = sel_cmp(array, n_2, function(a,b) {\n        return a.get(k) - b.get(k)\n      })\n\n      //Copy into new array\n      var pptr = pointArray.index(pointer, 0)\n      var mptr = median.offset\n      for(var i=0; i<d; ++i) {\n        pointData[pptr++] = arrayData[mptr++]\n      }\n      indexArray[pointer] = arrayData[mptr]\n      pointer += 1\n\n      //Queue new items\n      toVisit.push(array.hi(n_2))\n      if(nn > 2) {\n        toVisit.push(array.lo(n_2+1))\n      }\n    } else {\n      //Copy into new array\n      var mptr = array.offset\n      var pptr = pointArray.index(pointer, 0)\n      for(var i=0; i<d; ++i) {\n        pointData[pptr+i] = arrayData[mptr++]\n      }\n      indexArray[pointer] = arrayData[mptr]\n      pointer += 1\n    }\n  }\n\n  //Release indexed\n  pool.free(indexed.data)\n\n  return new KDTree(pointArray, indexArray, n, d)\n}\n\nfunction deserializeKDTree(data) {\n  var points = data.p\n  var ids = data.i\n  if(points) {\n    var nd = points.length\n    var pointArray = pool.mallocFloat64(nd)\n    for(var i=0; i<nd; ++i) {\n      pointArray[i] = points[i]\n    }\n    var n = ids.length\n    var idArray = pool.mallocInt32(n)\n    for(var i=0; i<n; ++i) {\n      idArray[i] = ids[i]\n    }\n    var d = (nd/n)|0\n    return new KDTree(\n      ndarray(pointArray, [n,d]),\n      idArray,\n      n,\n      d)\n  } else {\n    return new KDTree(null, null, 0, data.d)\n  }\n}\n","\"use strict\"\n\nmodule.exports = KDTHeap\n\nvar pool = require(\"typedarray-pool\")\n\nfunction heapParent(i) {\n  if(i & 1) {\n    return (i - 1) >> 1\n  }\n  return (i >> 1) - 1\n}\n\nfunction KDTHeap(n, d) {\n  this.count = 0\n  this.dataSize = d\n  this.index = pool.mallocInt32(n)\n  this.data = pool.mallocFloat64(n*d)\n}\n\nvar proto = KDTHeap.prototype\n\nproto.heapSwap = function(_i,_j) {\n  var data = this.data\n  var index = this.index\n  var d = this.dataSize\n  var tmp = index[_i]\n  index[_i] = index[_j]\n  index[_j] = tmp\n  var aptr = d*_i\n  var bptr = d*_j\n  for(var _k=0; _k<d; ++_k) {\n    var t2 = data[aptr]\n    data[aptr] = data[bptr]\n    data[bptr] = t2\n    aptr += 1\n    bptr += 1\n  }\n}\n\nproto.heapUp = function(i) {\n  var d = this.dataSize\n  var index = this.index\n  var data = this.data\n  var w = data[d*i]\n  while(i>0) {\n    var parent = heapParent(i)\n    if(parent >= 0) {\n      var pw = data[d*parent]\n      if(w < pw) {\n        this.heapSwap(i, parent)\n        i = parent\n        continue\n      }\n    }\n    break\n  }\n}\n\nproto.heapDown = function(i) {\n  var d = this.dataSize\n  var index = this.index\n  var data = this.data\n  var count = this.count\n  var w = data[d*i]\n  while(true) {\n    var tw = w\n    var left  = 2*i + 1\n    var right = 2*(i + 1)\n    var next = i\n    if(left < count) {\n      var lw = data[d*left]\n      if(lw < tw) {\n        next = left\n        tw = lw\n      }\n    }\n    if(right < count) {\n      var rw = data[d*right]\n      if(rw < tw) {\n        next = right\n      }\n    }\n    if(next === i) {\n      break\n    }\n    this.heapSwap(i, next)\n    i = next      \n  }\n}\n\n//Clear item from top of heap\nproto.pop = function() {\n  this.count -= 1\n  this.heapSwap(0, this.count)\n  this.heapDown(0)\n}\n\n//Assume object already written to data\nproto.push = function() {\n  this.heapUp(this.count)\n  this.count += 1\n}\n\nproto.dispose = function() {\n  pool.freeInt32(this.index)\n  pool.freeFloat64(this.data)\n}","'use strict'\n\nvar bits = require('bit-twiddle')\nvar dup = require('dup')\nvar Buffer = require('buffer').Buffer\n\n//Legacy pool support\nif(!global.__TYPEDARRAY_POOL) {\n  global.__TYPEDARRAY_POOL = {\n      UINT8     : dup([32, 0])\n    , UINT16    : dup([32, 0])\n    , UINT32    : dup([32, 0])\n    , BIGUINT64 : dup([32, 0])\n    , INT8      : dup([32, 0])\n    , INT16     : dup([32, 0])\n    , INT32     : dup([32, 0])\n    , BIGINT64  : dup([32, 0])\n    , FLOAT     : dup([32, 0])\n    , DOUBLE    : dup([32, 0])\n    , DATA      : dup([32, 0])\n    , UINT8C    : dup([32, 0])\n    , BUFFER    : dup([32, 0])\n  }\n}\n\nvar hasUint8C = (typeof Uint8ClampedArray) !== 'undefined'\nvar hasBigUint64 = (typeof BigUint64Array) !== 'undefined'\nvar hasBigInt64 = (typeof BigInt64Array) !== 'undefined'\nvar POOL = global.__TYPEDARRAY_POOL\n\n//Upgrade pool\nif(!POOL.UINT8C) {\n  POOL.UINT8C = dup([32, 0])\n}\nif(!POOL.BIGUINT64) {\n  POOL.BIGUINT64 = dup([32, 0])\n}\nif(!POOL.BIGINT64) {\n  POOL.BIGINT64 = dup([32, 0])\n}\nif(!POOL.BUFFER) {\n  POOL.BUFFER = dup([32, 0])\n}\n\n//New technique: Only allocate from ArrayBufferView and Buffer\nvar DATA    = POOL.DATA\n  , BUFFER  = POOL.BUFFER\n\nexports.free = function free(array) {\n  if(Buffer.isBuffer(array)) {\n    BUFFER[bits.log2(array.length)].push(array)\n  } else {\n    if(Object.prototype.toString.call(array) !== '[object ArrayBuffer]') {\n      array = array.buffer\n    }\n    if(!array) {\n      return\n    }\n    var n = array.length || array.byteLength\n    var log_n = bits.log2(n)|0\n    DATA[log_n].push(array)\n  }\n}\n\nfunction freeArrayBuffer(buffer) {\n  if(!buffer) {\n    return\n  }\n  var n = buffer.length || buffer.byteLength\n  var log_n = bits.log2(n)\n  DATA[log_n].push(buffer)\n}\n\nfunction freeTypedArray(array) {\n  freeArrayBuffer(array.buffer)\n}\n\nexports.freeUint8 =\nexports.freeUint16 =\nexports.freeUint32 =\nexports.freeBigUint64 =\nexports.freeInt8 =\nexports.freeInt16 =\nexports.freeInt32 =\nexports.freeBigInt64 =\nexports.freeFloat32 = \nexports.freeFloat =\nexports.freeFloat64 = \nexports.freeDouble = \nexports.freeUint8Clamped = \nexports.freeDataView = freeTypedArray\n\nexports.freeArrayBuffer = freeArrayBuffer\n\nexports.freeBuffer = function freeBuffer(array) {\n  BUFFER[bits.log2(array.length)].push(array)\n}\n\nexports.malloc = function malloc(n, dtype) {\n  if(dtype === undefined || dtype === 'arraybuffer') {\n    return mallocArrayBuffer(n)\n  } else {\n    switch(dtype) {\n      case 'uint8':\n        return mallocUint8(n)\n      case 'uint16':\n        return mallocUint16(n)\n      case 'uint32':\n        return mallocUint32(n)\n      case 'int8':\n        return mallocInt8(n)\n      case 'int16':\n        return mallocInt16(n)\n      case 'int32':\n        return mallocInt32(n)\n      case 'float':\n      case 'float32':\n        return mallocFloat(n)\n      case 'double':\n      case 'float64':\n        return mallocDouble(n)\n      case 'uint8_clamped':\n        return mallocUint8Clamped(n)\n      case 'bigint64':\n        return mallocBigInt64(n)\n      case 'biguint64':\n        return mallocBigUint64(n)\n      case 'buffer':\n        return mallocBuffer(n)\n      case 'data':\n      case 'dataview':\n        return mallocDataView(n)\n\n      default:\n        return null\n    }\n  }\n  return null\n}\n\nfunction mallocArrayBuffer(n) {\n  var n = bits.nextPow2(n)\n  var log_n = bits.log2(n)\n  var d = DATA[log_n]\n  if(d.length > 0) {\n    return d.pop()\n  }\n  return new ArrayBuffer(n)\n}\nexports.mallocArrayBuffer = mallocArrayBuffer\n\nfunction mallocUint8(n) {\n  return new Uint8Array(mallocArrayBuffer(n), 0, n)\n}\nexports.mallocUint8 = mallocUint8\n\nfunction mallocUint16(n) {\n  return new Uint16Array(mallocArrayBuffer(2*n), 0, n)\n}\nexports.mallocUint16 = mallocUint16\n\nfunction mallocUint32(n) {\n  return new Uint32Array(mallocArrayBuffer(4*n), 0, n)\n}\nexports.mallocUint32 = mallocUint32\n\nfunction mallocInt8(n) {\n  return new Int8Array(mallocArrayBuffer(n), 0, n)\n}\nexports.mallocInt8 = mallocInt8\n\nfunction mallocInt16(n) {\n  return new Int16Array(mallocArrayBuffer(2*n), 0, n)\n}\nexports.mallocInt16 = mallocInt16\n\nfunction mallocInt32(n) {\n  return new Int32Array(mallocArrayBuffer(4*n), 0, n)\n}\nexports.mallocInt32 = mallocInt32\n\nfunction mallocFloat(n) {\n  return new Float32Array(mallocArrayBuffer(4*n), 0, n)\n}\nexports.mallocFloat32 = exports.mallocFloat = mallocFloat\n\nfunction mallocDouble(n) {\n  return new Float64Array(mallocArrayBuffer(8*n), 0, n)\n}\nexports.mallocFloat64 = exports.mallocDouble = mallocDouble\n\nfunction mallocUint8Clamped(n) {\n  if(hasUint8C) {\n    return new Uint8ClampedArray(mallocArrayBuffer(n), 0, n)\n  } else {\n    return mallocUint8(n)\n  }\n}\nexports.mallocUint8Clamped = mallocUint8Clamped\n\nfunction mallocBigUint64(n) {\n  if(hasBigUint64) {\n    return new BigUint64Array(mallocArrayBuffer(8*n), 0, n)\n  } else {\n    return null;\n  }\n}\nexports.mallocBigUint64 = mallocBigUint64\n\nfunction mallocBigInt64(n) {\n  if (hasBigInt64) {\n    return new BigInt64Array(mallocArrayBuffer(8*n), 0, n)\n  } else {\n    return null;\n  }\n}\nexports.mallocBigInt64 = mallocBigInt64\n\nfunction mallocDataView(n) {\n  return new DataView(mallocArrayBuffer(n), 0, n)\n}\nexports.mallocDataView = mallocDataView\n\nfunction mallocBuffer(n) {\n  n = bits.nextPow2(n)\n  var log_n = bits.log2(n)\n  var cache = BUFFER[log_n]\n  if(cache.length > 0) {\n    return cache.pop()\n  }\n  return new Buffer(n)\n}\nexports.mallocBuffer = mallocBuffer\n\nexports.clearCache = function clearCache() {\n  for(var i=0; i<32; ++i) {\n    POOL.UINT8[i].length = 0\n    POOL.UINT16[i].length = 0\n    POOL.UINT32[i].length = 0\n    POOL.INT8[i].length = 0\n    POOL.INT16[i].length = 0\n    POOL.INT32[i].length = 0\n    POOL.FLOAT[i].length = 0\n    POOL.DOUBLE[i].length = 0\n    POOL.BIGUINT64[i].length = 0\n    POOL.BIGINT64[i].length = 0\n    POOL.UINT8C[i].length = 0\n    DATA[i].length = 0\n    BUFFER[i].length = 0\n  }\n}\n","\"use strict\"\n\nfunction unique_pred(list, compare) {\n  var ptr = 1\n    , len = list.length\n    , a=list[0], b=list[0]\n  for(var i=1; i<len; ++i) {\n    b = a\n    a = list[i]\n    if(compare(a, b)) {\n      if(i === ptr) {\n        ptr++\n        continue\n      }\n      list[ptr++] = a\n    }\n  }\n  list.length = ptr\n  return list\n}\n\nfunction unique_eq(list) {\n  var ptr = 1\n    , len = list.length\n    , a=list[0], b = list[0]\n  for(var i=1; i<len; ++i, b=a) {\n    b = a\n    a = list[i]\n    if(a !== b) {\n      if(i === ptr) {\n        ptr++\n        continue\n      }\n      list[ptr++] = a\n    }\n  }\n  list.length = ptr\n  return list\n}\n\nfunction unique(list, compare, sorted) {\n  if(list.length === 0) {\n    return list\n  }\n  if(compare) {\n    if(!sorted) {\n      list.sort(compare)\n    }\n    return unique_pred(list, compare)\n  }\n  if(!sorted) {\n    list.sort()\n  }\n  return unique_eq(list)\n}\n\nmodule.exports = unique\n","import{useRef as e,useState as n,useEffect as t,useCallback as o}from\"react\";import r from\"@use-it/event-listener\";var l={},a=function(e,n,t){return l[e]||(l[e]={callbacks:[],value:t}),l[e].callbacks.push(n),{deregister:function(){var t=l[e].callbacks,o=t.indexOf(n);o>-1&&t.splice(o,1)},emit:function(t){l[e].value!==t&&(l[e].value=t,l[e].callbacks.forEach(function(e){n!==e&&e(t)}))}}};export default function(l,u){if(void 0===u&&(u=\"undefined\"!=typeof global&&global.localStorage?global.localStorage:\"undefined\"!=typeof globalThis&&globalThis.localStorage?globalThis.localStorage:\"undefined\"!=typeof window&&window.localStorage?window.localStorage:\"undefined\"!=typeof localStorage?localStorage:null),u){var i=function(e){return{get:function(n,t){var o=e.getItem(n);return null==o?\"function\"==typeof t?t():t:JSON.parse(o)},set:function(n,t){e.setItem(n,JSON.stringify(t))}}}(u);return function(u){return function(l,u,i){var c=i.get,f=i.set,g=e(null),s=n(function(){return c(u,l)}),d=s[0],p=s[1];r(\"storage\",function(e){if(e.key===u){var n=JSON.parse(e.newValue);d!==n&&p(n)}}),t(function(){return g.current=a(u,p,l),function(){g.current.deregister()}},[l,u]);var v=o(function(e){var n=\"function\"==typeof e?e(d):e;f(u,n),p(n),g.current.emit(e)},[d,f,u]);return[d,v]}(u,l,i)}}return n}\n","import{useRef as e,useEffect as n}from\"react\";export default function(t,r,i,o){void 0===i&&(i=global),void 0===o&&(o={});var c=e(),u=o.capture,a=o.passive,v=o.once;n(function(){c.current=r},[r]),n(function(){if(i&&i.addEventListener){var e=function(e){return c.current(e)},n={capture:u,passive:a,once:v};return i.addEventListener(t,e,n),function(){i.removeEventListener(t,e,n)}}},[t,i,u,a,v])}\n","import { createElementObject, createPathComponent, extendContext, updateCircle } from '@react-leaflet/core';\nimport { CircleMarker as LeafletCircleMarker } from 'leaflet';\nexport const CircleMarker = createPathComponent(function createCircleMarker({ center , children: _c , ...options }, ctx) {\n    const marker = new LeafletCircleMarker(center, options);\n    return createElementObject(marker, extendContext(ctx, {\n        overlayContainer: marker\n    }));\n}, updateCircle);\n","export function updateCircle(layer, props, prevProps) {\n    if (props.center !== prevProps.center) {\n        layer.setLatLng(props.center);\n    }\n    if (props.radius != null && props.radius !== prevProps.radius) {\n        layer.setRadius(props.radius);\n    }\n}\n","import { createElementObject, createOverlayComponent } from '@react-leaflet/core';\nimport { Popup as LeafletPopup } from 'leaflet';\nimport { useEffect } from 'react';\nexport const Popup = createOverlayComponent(function createPopup(props, context) {\n    const popup = new LeafletPopup(props, context.overlayContainer);\n    return createElementObject(popup, context);\n}, function usePopupLifecycle(element, context, { position  }, setOpen) {\n    useEffect(function addPopup() {\n        const { instance  } = element;\n        function onPopupOpen(event) {\n            if (event.popup === instance) {\n                instance.update();\n                setOpen(true);\n            }\n        }\n        function onPopupClose(event) {\n            if (event.popup === instance) {\n                setOpen(false);\n            }\n        }\n        context.map.on({\n            popupopen: onPopupOpen,\n            popupclose: onPopupClose\n        });\n        if (context.overlayContainer == null) {\n            // Attach to a Map\n            if (position != null) {\n                instance.setLatLng(position);\n            }\n            instance.openOn(context.map);\n        } else {\n            // Attach to container component\n            context.overlayContainer.bindPopup(instance);\n        }\n        return function removePopup() {\n            context.map.off({\n                popupopen: onPopupOpen,\n                popupclose: onPopupClose\n            });\n            context.overlayContainer?.unbindPopup();\n            context.map.removeLayer(instance);\n        };\n    }, [\n        element,\n        context,\n        setOpen,\n        position\n    ]);\n});\n"],"names":["countTrailingZeros","v","c","exports","INT_BITS","INT_MAX","INT_MIN","sign","abs","mask","min","x","y","max","isPow2","log2","r","shift","log10","popCount","nextPow2","prevPow2","parity","REVERSE_TABLE","Array","tab","i","s","reverse","interleave2","deinterleave2","n","interleave3","z","deinterleave3","nextCombination","t","createThunk","Procedure","this","argTypes","shimArgs","arrayArgs","arrayBlockIndices","scalarArgs","offsetArgs","offsetArgIndex","indexArgs","shapeArgs","funcName","pre","body","post","debug","module","user_args","proc","proc_args","args","slice","length","arg_type","blockIndices","push","count","Error","lvalue","offset","array","printCode","blockSize","uniq","innerFill","order","j","dimension","nargs","has_index","code","vars","idx","pidx","join","processBlock","block","dtypes","carg","re","RegExp","name","ptrStr","arrNum","indexOf","offArgIndex","localStr","arrStr","replace","reStrArr","ptrStrArr","Math","trim","typeSummary","summary","allEqual","digits","match","charAt","typesig","orders","blockBegin","blockEnd","loopBegin","loopEnd","loopOrders","newOrder","arglist","zeros","off_arg","init_string","thisVars","concat","matched","countMatches","indexStr","outerFill","console","log","loopName","Function","f","compile","thunkName","string_typesig","shapeLengthConditions","shapeConditions","thunk","bind","undefined","dupe_array","value","result","dupe_number","stringifiable","obj","Object","prototype","toString","call","defineProperty","isProduction","process","invariant","condition","message","hasOwnProperty","splice","type","assign","target","source","getAllKeys","forEach","key","getOwnPropertySymbols","keys","copy","object","isArray","constructor","Map","Set","create","getPrototypeOf","Context","commands","defaultCommands","update","extend","isEquals","newContext","get","set","enumerable","configurable","directive","fn","$spec","_this","spec","$apply","nextObject","objectWasNextObject","nextValueForKey","nextObjectValue","$push","invariantPushAndUnshift","$unshift","$splice","originalObject","invariantSplice","invariantSplices","apply","$set","_nextObject","invariantSet","$toggle","targets","invariantSpecArray","nextObjectCopy","$unset","_spec","$add","values","invariantMapOrSet","_a","has","add","$remove","delete","$merge","specValue","original","defaultContext","command","typeOfTarget","default","bits","rootInorder","ptree","heightInorder","root","begin","end","height","prev","next","parent","parentInorder","q","left","leftInorder","right","rightInorder","leaf","lo","l","hi","isBuffer","readFloatLE","isSlowBuffer","_isBuffer","EmptyProc","localVars","fixup","a","rvalue","makeOp","wrapper","pcompile","assign_ops","sub","mul","div","mod","band","bor","bxor","lshift","rshift","rrshift","id","op","unary_ops","not","bnot","neg","recip","binary_ops","and","or","eq","neq","lt","gt","leq","geq","math_unary","math_comm","math_noncomm","any","all","sum","prod","norm2squared","norm2","norminf","norm1","sup","inf","argmin","argmax","random","assigns","equals","ndarray","do_convert","arr","shape","sz","Float64Array","ops","pool","clone","dtype","data","malloc","size","stride","free","buf","ones","eye","mindim","Infinity","offsum","k","compare","useCompare","lookupCache","DATA","OFFSET","TMP","LO","HI","PIVOT","SHAPE","STRIDE","STEP","STEP_CMP","INDEX","PICK","PTR","CACHE","norder","unshift","permuteOrder","useGetter","RND","swap","i0","i1","out","procCode","compileQuickSelect","iota","hasTypedArrays","compare1st","b","terms","sort","compileConstructor","className","useGetters","procedure","CACHED_CONSTRUCTORS","indices","map","index_str","shapeArg","strideArg","a_vars","c_vars","tShape","tStride","ctor","d","arrayDType","ctor_list","distinctUntilChanged","comparator","keySelector","defaultCompare","subscriber","previousKey","first","subscribe","currentKey","points","indexed","KDTree","mallocDouble","pack","pointArray","ndscratch","indexArray","mallocInt32","pointer","pointData","arrayData","sel_cmp","ndselect","toVisit","Queue","pop","nn","median","n_2","inorderTree","pptr","index","mptr","deserialize","p","ids","nd","mallocFloat64","idArray","KDTHeap","proto","serialize","range","visit","retval","visitRange","visitIndex","rangeData","visitCount","visitTop","pick","loidx","hiidx","visitPoint","pc","pk","hk","lk","rnn","point","radius","visitDistance","distanceData","r2","d2","pow","ds","didx","qk","dk","d2h","maxDistance","dataVector","nearest","nearestD","dd","d2l","vcount","vptr","freeFloat64","dispose","knn","maxPoints","closestPoints","cl_index","cl_data","pcount","freeInt32","item","ret","heapParent","dataSize","heapSwap","_i","_j","tmp","aptr","bptr","_k","t2","heapUp","w","heapDown","tw","lw","dup","Buffer","g","__TYPEDARRAY_POOL","UINT8","UINT16","UINT32","BIGUINT64","INT8","INT16","INT32","BIGINT64","FLOAT","DOUBLE","UINT8C","BUFFER","hasUint8C","Uint8ClampedArray","hasBigUint64","BigUint64Array","hasBigInt64","BigInt64Array","POOL","freeArrayBuffer","buffer","byteLength","log_n","mallocArrayBuffer","ArrayBuffer","mallocUint8","Uint8Array","mallocUint16","Uint16Array","mallocUint32","Uint32Array","mallocInt8","Int8Array","mallocInt16","Int16Array","Int32Array","mallocFloat","Float32Array","mallocUint8Clamped","mallocBigUint64","mallocBigInt64","mallocDataView","DataView","mallocBuffer","cache","freeUint8","freeUint16","freeUint32","freeBigUint64","freeInt8","freeInt16","freeBigInt64","freeFloat32","freeFloat","freeDouble","freeUint8Clamped","freeDataView","freeBuffer","mallocFloat32","clearCache","list","sorted","ptr","len","unique_pred","unique_eq","e","callbacks","deregister","o","emit","u","localStorage","globalThis","window","getItem","JSON","parse","setItem","stringify","capture","passive","once","current","addEventListener","removeEventListener","newValue","CircleMarker","center","children","_c","options","ctx","marker","overlayContainer","layer","props","prevProps","setLatLng","setRadius","Popup","context","popup","element","position","setOpen","useEffect","instance","onPopupOpen","event","onPopupClose","on","popupopen","popupclose","openOn","bindPopup","off","unbindPopup","removeLayer"],"sourceRoot":""}