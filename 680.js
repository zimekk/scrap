"use strict";(self.webpackChunk_dev_web=self.webpackChunk_dev_web||[]).push([[680],{9160:(e,t,n)=>{n.d(t,{c:()=>u});var r=n(5668),i=n(900),o=n.n(i),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return o.state={},o.styles={ellipsis:{position:"fixed",visibility:"hidden",top:0,left:0}},o.elements={},o.onResize=o.onResize.bind(o),o.onTruncate=o.onTruncate.bind(o),o.calcTargetWidth=o.calcTargetWidth.bind(o),o.measureWidth=o.measureWidth.bind(o),o.getLines=o.getLines.bind(o),o.renderLine=o.renderLine.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){var e=this.elements.text,t=this.calcTargetWidth,n=this.onResize,r=document.createElement("canvas");this.canvasContext=r.getContext("2d"),t((function(){e&&e.parentNode.removeChild(e)})),window.addEventListener("resize",n)}},{key:"componentDidUpdate",value:function(e){this.props.children!==e.children&&this.forceUpdate(),this.props.width!==e.width&&this.calcTargetWidth()}},{key:"componentWillUnmount",value:function(){var e=this.elements.ellipsis,t=this.onResize,n=this.timeout;e.parentNode.removeChild(e),window.removeEventListener("resize",t),window.cancelAnimationFrame(n)}},{key:"innerText",value:function(e){var t=document.createElement("div"),n="innerText"in window.HTMLElement.prototype?"innerText":"textContent";t.innerHTML=e.innerHTML.replace(/\r\n|\r|\n/g," ");var r=t[n],i=document.createElement("div");return i.innerHTML="foo<br/>bar","foo\nbar"!==i[n].replace(/\r\n|\r/g,"\n")&&(t.innerHTML=t.innerHTML.replace(/<br.*?[\/]?>/gi,"\n"),r=t[n]),r}},{key:"onResize",value:function(){this.calcTargetWidth()}},{key:"onTruncate",value:function(e){var t=this.props.onTruncate;"function"==typeof t&&(this.timeout=window.requestAnimationFrame((function(){t(e)})))}},{key:"calcTargetWidth",value:function(e){var t=this.elements.target,n=this.calcTargetWidth,r=this.canvasContext,i=this.props.width;if(t){var o=i||Math.floor(t.parentNode.getBoundingClientRect().width);if(!o)return window.requestAnimationFrame((function(){return n(e)}));var s=window.getComputedStyle(t),a=[s["font-weight"],s["font-style"],s["font-size"],s["font-family"]].join(" ");r.font=a,this.setState({targetWidth:o},e)}}},{key:"measureWidth",value:function(e){return this.canvasContext.measureText(e).width}},{key:"ellipsisWidth",value:function(e){return e.offsetWidth}},{key:"trimRight",value:function(e){return e.replace(/\s+$/,"")}},{key:"getLines",value:function(){for(var e=this.elements,t=this.props,n=t.lines,i=t.ellipsis,o=t.trimWhitespace,s=this.state.targetWidth,a=this.innerText,c=this.measureWidth,u=this.onTruncate,l=this.trimRight,f=[],h=a(e.text).split("\n").map((function(e){return e.split(" ")})),p=!0,d=this.ellipsisWidth(this.elements.ellipsis),v=1;v<=n;v++){var m=h[0];if(0!==m.length){var b=m.join(" ");if(c(b)<=s&&1===h.length){p=!1,f.push(b);break}if(v===n){for(var y=m.join(" "),w=0,g=y.length-1;w<=g;){var T=Math.floor((w+g)/2);c(y.slice(0,T+1))+d<=s?w=T+1:g=T-1}var k=y.slice(0,w);if(o)for(k=l(k);!k.length&&f.length;)k=l(f.pop());b=r.createElement("span",null,k,i)}else{for(var x=0,W=m.length-1;x<=W;){var E=Math.floor((x+W)/2);c(m.slice(0,E+1).join(" "))<=s?x=E+1:W=E-1}if(0===x){v=n-1;continue}b=m.slice(0,x).join(" "),h[0].splice(0,x)}f.push(b)}else f.push(),h.shift(),v--}return u(p),f}},{key:"renderLine",value:function(e,t,n){if(t===n.length-1)return r.createElement("span",{key:t},e);var i=r.createElement("br",{key:t+"br"});return e?[r.createElement("span",{key:t},e),i]:i}},{key:"render",value:function(){var e=this,t=this.elements.target,n=this.props,i=n.children,o=n.ellipsis,a=n.lines,c=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(n,["children","ellipsis","lines"]),u=this.state.targetWidth,l=this.getLines,f=this.renderLine,h=this.onTruncate,p=void 0;return"undefined"!=typeof window&&!(!t||!u)&&(a>0?p=l().map(f):(p=i,h(!1))),delete c.onTruncate,delete c.trimWhitespace,r.createElement("span",s({},c,{ref:function(t){e.elements.target=t}}),r.createElement("span",null,p),r.createElement("span",{ref:function(t){e.elements.text=t}},i),r.createElement("span",{ref:function(t){e.elements.ellipsis=t},style:this.styles.ellipsis},o))}}]),t}(r.Component);c.propTypes={children:o().node,ellipsis:o().node,lines:o().oneOfType([o().oneOf([!1]),o().number]),trimWhitespace:o().bool,width:o().number,onTruncate:o().func},c.defaultProps={children:"",ellipsis:"â€¦",lines:1,trimWhitespace:!1,width:0};const u=c},7460:(e,t,n)=>{n.d(t,{o:()=>s});var r=n(5109),i=n(7932),o=n(9597);function s(e,t){return void 0===t&&(t=r.M),(0,i.i)((function(n,r){var i=null,s=null,a=null,c=function(){if(i){i.unsubscribe(),i=null;var e=s;s=null,r.next(e)}};function u(){var n=a+e,o=t.now();if(o<n)return i=this.schedule(void 0,n-o),void r.add(i);c()}n.subscribe((0,o.e)(r,(function(n){s=n,a=t.now(),i||(i=t.schedule(u,e),r.add(i))}),(function(){c(),r.complete()}),void 0,(function(){s=i=null})))}))}},8536:(e,t,n)=>{n.d(t,{a:()=>s});var r=n(1124),i=n(7932),o=n(9597);function s(e,t){return void 0===t&&(t=r.Z),e=null!=e?e:a,(0,i.i)((function(n,r){var i,s=!0;n.subscribe((0,o.e)(r,(function(n){var o=t(n);!s&&e(i,o)||(s=!1,i=o,r.next(n))})))}))}function a(e,t){return e===t}},3368:(e,t,n)=>{n.d(t,{k:()=>o});var r=n(7932),i=n(9597);function o(e,t){return(0,r.i)((function(n,r){var o=0;n.subscribe((0,i.e)(r,(function(n){r.next(e.call(t,n,o++))})))}))}},3280:(e,t,n)=>{n.d(t,{Qb:()=>s});var r=n(5668),i=(()=>"undefined"==typeof window?r.useEffect:r.useLayoutEffect)(),o=e=>e[1]?.next?e[1]:{next:e[1],error:e[2],complete:e[3]};function s(e,t,n,s){return function(e,t){const n=(0,r.useRef)(t),s=(0,r.useRef)(),a=(0,r.useRef)();return i((()=>{n.current=t,s.current=o(t)})),e((()=>{const e=n.current[0];s.current||(s.current=o(n.current));const t=e.subscribe({next:t=>{e===n.current[0]&&s.current.next?.(t)},error:t=>{e===n.current[0]&&(s.current.error?s.current.error(t):console.error(t))},complete:()=>{e===n.current[0]&&s.current.complete?.()}});return a.current=t,()=>{t.unsubscribe()}}),[t[0]]),a}(r.useEffect,[e,t,n,s])}}}]);
//# sourceMappingURL=680.js.map