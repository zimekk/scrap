"use strict";(self.webpackChunk_dev_web=self.webpackChunk_dev_web||[]).push([[268],{268:(e,t,n)=>{n.r(t),n.d(t,{default:()=>M});var l=n(2784),a=n(357),r=n(5062),o=n.n(r),s=n(9386),i=n(5449),u=n(1128),c=n(3964),d=n(2048),f=n(5176),m=n(7122),p=n(9530),h=n(5096),v=n(2779),E=n.n(v),b=n(7815);function g({position:e,children:t,setPosition:n}){const a=(0,l.useRef)(null),r=(0,l.useMemo)((()=>({dragend(){const e=a.current;null!=e&&n(e.getLatLng())}})),[]);return l.createElement(s.J,{draggable:!0,eventHandlers:r,position:e,ref:a},l.createElement(i.u,null,t))}function y(){const e=(0,u.Sx)(),t=(0,l.useCallback)((t=>{t.preventDefault(),e.locate({setView:!0})}),[e]);return l.createElement("div",{className:"leaflet-top leaflet-left",style:{top:80,fontSize:16}},l.createElement("div",{className:"leaflet-control-locate leaflet-bar leaflet-control"},l.createElement("a",{className:"leaflet-bar-part leaflet-bar-part-single",title:"Locate",href:"#",onClick:t},l.createElement(p.G,{icon:h.KS0}))))}function S({bounds:e,center:t,setCenter:a,list:r}){(0,l.useEffect)((()=>{delete o().Icon.Default.prototype._getIconUrl,o().Icon.Default.mergeOptions({iconRetinaUrl:n(1963).Z,iconUrl:n(379).Z,shadowUrl:n(6179).Z})}),[]);const[s,i]=(0,l.useState)(null),u=(0,l.useMemo)((()=>l.createElement(c.h,{bounds:e,whenCreated:i,zoom:13,className:E()(b.Z.Map)},l.createElement(d.I,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),l.createElement(g,{position:t,setPosition:a},`${t.lat},${t.lng}`),r.map((({i:e,id:n,position:a,name:r,item:o,html:s})=>l.createElement(f.c,{key:e,center:a,pathOptions:{color:"purple"}},l.createElement(m.G,{minWidth:90},l.createElement("section",null,l.createElement("header",null,`[${n}] ${r} (${t.distanceTo(a).toFixed(0)/1e3} km)`),l.createElement("main",{dangerouslySetInnerHTML:{__html:s}})))))),l.createElement(y,null))),[r,t]);return l.createElement("div",{className:E()(b.Z.Layout)},u)}var k=n(8723);const w=(0,a.k)((async e=>{const t=await fetch(`api/stations/data.json?${e}`);return await t.json()}));function C({version:e="v1"}){const{results:t,stations:n}=w.read(e),a=(0,l.useMemo)((()=>t.map(((e,t)=>{const{station_id:l,x:a,y:r,network_name:o}=e;return{i:t,id:l,position:{lat:a,lng:r},name:o,item:e,html:n[l].html}}))),[t,n]),r=function(e){return(0,l.useMemo)((()=>o().featureGroup(e.map((({position:{lat:e,lng:t}})=>o().marker([e,t])))).getBounds()),[])}(a),[s,i]=(0,l.useState)((()=>r.getCenter()));return l.createElement("div",null,l.createElement(S,{bounds:r,center:s,setCenter:i,list:a}))}function M(){return l.createElement("div",{className:k.Z.Section},l.createElement("h2",null,"Stations"),l.createElement(C,null))}},4312:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var l=n(9601),a=n.n(l),r=n(2609),o=n.n(r),s=n(9138),i=o()(a());i.i(s.Z),i.push([e.id,".uJFUCjFvVuQmp7jBidOM{height:75vh;border:2px solid red}.uJFUCjFvVuQmp7jBidOM header{font-weight:bold}",""]),i.locals={Map:"uJFUCjFvVuQmp7jBidOM"};const u=i},7938:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var l=n(9601),a=n.n(l),r=n(2609),o=n.n(r)()(a());o.push([e.id,".puKXb_bOENJXQaTYvSxD{color:blue}",""]),o.locals={Section:"puKXb_bOENJXQaTYvSxD"};const s=o},7815:(e,t,n)=>{n.d(t,{Z:()=>y});var l=n(6062),a=n.n(l),r=n(4036),o=n.n(r),s=n(6793),i=n.n(s),u=n(7892),c=n.n(u),d=n(1173),f=n.n(d),m=n(2464),p=n.n(m),h=n(4312),v={};v.styleTagTransform=p(),v.setAttributes=c(),v.insert=i().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=f();var E=a()(h.default,v);if(!h.default.locals||e.hot.invalidate){var b=!h.default.locals,g=b?h:h.default.locals;e.hot.accept(4312,(t=>{h=n(4312),function(e,t,n){if(!e&&t||e&&!t)return!1;var l;for(l in e)if((!n||"default"!==l)&&e[l]!==t[l])return!1;for(l in t)if(!(n&&"default"===l||e[l]))return!1;return!0}(g,b?h:h.default.locals,b)?(g=b?h:h.default.locals,E(h.default)):e.hot.invalidate()}))}e.hot.dispose((function(){E()}));const y=h.default&&h.default.locals?h.default.locals:void 0},8723:(e,t,n)=>{n.d(t,{Z:()=>y});var l=n(6062),a=n.n(l),r=n(4036),o=n.n(r),s=n(6793),i=n.n(s),u=n(7892),c=n.n(u),d=n(1173),f=n.n(d),m=n(2464),p=n.n(m),h=n(7938),v={};v.styleTagTransform=p(),v.setAttributes=c(),v.insert=i().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=f();var E=a()(h.default,v);if(!h.default.locals||e.hot.invalidate){var b=!h.default.locals,g=b?h:h.default.locals;e.hot.accept(7938,(t=>{h=n(7938),function(e,t,n){if(!e&&t||e&&!t)return!1;var l;for(l in e)if((!n||"default"!==l)&&e[l]!==t[l])return!1;for(l in t)if(!(n&&"default"===l||e[l]))return!1;return!0}(g,b?h:h.default.locals,b)?(g=b?h:h.default.locals,E(h.default)):e.hot.invalidate()}))}e.hot.dispose((function(){E()}));const y=h.default&&h.default.locals?h.default.locals:void 0}}]);