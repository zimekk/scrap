"use strict";(self.webpackChunk_dev_web=self.webpackChunk_dev_web||[]).push([[481],{779:(e,r,t)=>{t.d(r,{r:()=>y});var n=t(7946),a=t(203),l=t(1283),o=t(2451),i=t(7162),c=t.n(i),u=t(2784),s=t(357),m=function(e){var r=e.height,t=void 0===r?80:r,n=e.width,a=void 0===n?80:n,l=e.color,o=void 0===l?"green":l,i=e.radius,c=void 0===i?1:i,s=e.label,m=void 0===s?"audio-loading":s;return u.createElement("svg",{width:a,height:t,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg","aria-label":m},u.createElement("defs",null,u.createElement("linearGradient",{x1:"8.042%",y1:"0%",x2:"65.682%",y2:"23.865%",id:"a"},u.createElement("stop",{stopColor:o,stopOpacity:"0",offset:"0%"}),u.createElement("stop",{stopColor:o,stopOpacity:".631",offset:"63.146%"}),u.createElement("stop",{stopColor:o,offset:"100%"}))),u.createElement("g",{fill:"none",fillRule:"evenodd"},u.createElement("g",{transform:"translate(1 1)"},u.createElement("path",{d:"M36 18c0-9.94-8.06-18-18-18",id:"Oval-2",stroke:o,strokeWidth:"2"},u.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"0.9s",repeatCount:"indefinite"})),u.createElement("circle",{fill:"#fff",cx:"36",cy:"18",r:c},u.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"0.9s",repeatCount:"indefinite"})))))},f=t(2779),d=t.n(f),p=t(6435),v=["src"],g=(0,s.k)(function(){var e=(0,o.Z)(c().mark((function e(r){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var t=new Image;Object.assign(t,{onload:e,src:r})})));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}());function h(e){var r=e.src,t=(0,l.Z)(e,v);return g.read(r),u.createElement("img",(0,a.Z)({src:r},t,{referrerPolicy:"no-referrer"}))}function b(){return u.createElement("div",{className:p.Z.Loader},u.createElement(m,null))}function E(e){var r=(0,a.Z)({},e);return u.createElement("div",{className:p.Z.ImgWrapper},u.createElement(u.Suspense,{fallback:u.createElement(b,null)},u.createElement(h,r)))}function y(e){var r=e.className,t=e.images,a=(0,u.useState)(!1),l=(0,n.Z)(a,2),o=l[0],i=l[1],c=(0,u.useState)(!1),s=(0,n.Z)(c,2),m=s[0],f=s[1],v=(0,u.useRef)(null);return(0,u.useEffect)((function(){var e=function(e){var r=e.target;r.scrollLeft===r.scrollWidth-r.offsetWidth&&f(!0)};if(v.current instanceof HTMLElement){var r=new IntersectionObserver((function(e){(0,n.Z)(e,1)[0].isIntersecting&&i(!0)}),{root:null,rootMargin:"0px",threshold:1});return r.observe(v.current),v.current.addEventListener("scroll",e),function(){v.current&&(r.unobserve(v.current),v.current.removeEventListener("scroll",e))}}}),[v]),t.length?u.createElement("div",{ref:v,className:d()(r,p.Z.Gallery)},o&&t.slice(0,m?t.length:3).map((function(e,r){return u.createElement(E,{key:r,src:e,alt:"Image #".concat(r+1)})}))):null}},7945:(e,r,t)=>{t.d(r,{r:()=>i});var n=t(203),a=t(1283),l=t(2784),o=["href"];function i(e){var r=e.href,t=void 0===r?"#":r,i=(0,a.Z)(e,o),c="#"===t[0];return l.createElement("a",(0,n.Z)({href:t,target:c?void 0:"_blank",rel:c?void 0:"noopener noreferrer"},i))}},2481:(e,r,t)=>{t.r(r),t.d(r,{default:()=>Y});var n=t(1283),a=t(7946),l=t(965),o=t(2451),i=t(7162),c=t.n(i),u=t(2784),s=t(1148),m=t(7984),f=t(9369),d=t(8871),p=t(3081),v=t(357),g=t(779),h=t(7945),b=t(195);function E(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function y(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?E(Object(t),!0).forEach((function(r){(0,l.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var _=function(e){return b.z.object({address:b.z.record(b.z.string(),b.z.union([b.z.string(),b.z.number()])),id:b.z.string(),information:b.z.array(b.z.object({label:b.z.string(),unit:b.z.string(),values:b.z.array(b.z.string())})).optional(),location:b.z.array(b.z.string()),parameters:b.z.array(b.z.object({label:b.z.string(),value:b.z.string()}))}).transform((function(e){return y(y({},e),{},{_information:e.information?e.information.filter((function(e){return e.values.length>0})).reduce((function(e,r){var t=r.label,n=r.values;return Object.assign(e,(0,l.Z)({},t,n))}),{}):null,_parameters:e.parameters.reduce((function(e,r){var t=r.label,n=r.value;return Object.assign(e,(0,l.Z)({},t,n))}),{})})})).transform((function(e){var r,t,n,a,l,o,i,c,u,s,m,f;return{_area:Number(null!==(r=e._information)&&void 0!==r&&null!==(t=r.area)&&void 0!==t&&t.length?e._information.area[0]:(null===(n=e._parameters["Powierzchnia w m2"])||void 0===n?void 0:n.replace(/^([\d\s]+) m2$/g,"$1").replace(/\s/,""))||0),_terrain_area:Number(null!==(a=e._information)&&void 0!==a&&null!==(l=a.terrain_area)&&void 0!==l&&l.length?e._information.terrain_area[0]:(null===(o=e._parameters["Powierzchnia działki w m2"])||void 0===o?void 0:o.replace(/^([\d\s]+) m2$/g,"$1").replace(/\s/,""))||0),_address:e.address?["lokalizacja_kraj","lokalizacja_region","lokalizacja_powiat","lokalizacja_gmina","lokalizacja_miejscowosc"].map((function(r){return e.address[r]})).filter(Boolean):null,_location:e.location.join(", "),road:null!==(i=e._information)&&void 0!==i&&null!==(c=i.access_types)&&void 0!==c&&c.length?null===(u=e._information.access_types)||void 0===u?void 0:u.map((function(e){return{"access_types::asphalt":"asfaltowa","access_types::hard_surfaced":"utwardzana"}[e]}))[0]:e._parameters["Droga dojazdowa"],building:null!==(s=e._information)&&void 0!==s&&null!==(m=s.building_type)&&void 0!==m&&m.length?null===(f=e._information.building_type)||void 0===f?void 0:f.map((function(e){return{"building_type::detached":"wolnostojący"}[e]}))[0]:e._parameters["Typ budynku"]}})).parse(e)},w=t(8805),k=["search"],O=["areaTo"],T=["areaFrom"],j=["terrainAreaTo"],z=["terrainAreaFrom"],F=["priceTo"],C=["priceFrom"];function N(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function x(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?N(Object(t),!0).forEach((function(r){(0,l.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):N(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var Z={id:1,price:1,title:1,_area:1,_terrain_area:1,_created:-1},P=[0,1e5,2e5,3e5,4e5,5e5,1e6,15e5,2e6],S=[0,100,200,300,400,500,600],A=[0,500,1e3,1500,2e3,2500,5e3],D=(0,v.k)(function(){var e=(0,o.Z)(c().mark((function e(r){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("api/properties/data.json?".concat(r));case 2:return t=e.sent,e.next=5,t.json().then((function(e){return{results:e.results.map((function(e){return x(x({},e),_(e))}))}}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()),K=function(e){return x(x({},e),{},{categories:[],_search:e.title.toLowerCase(),_price:e.price})};function H(e){var r=e.version,t=void 0===r?"v1":r,l=D.read(t).results,o=(0,u.useMemo)((function(){return{category:[""],location:[""].concat(l.map((function(e){return e._location})).filter(Boolean).filter((function(e,r,t){return t.indexOf(e)===r})).sort((function(e,r){return e.localeCompare(r)}))),road:[""].concat(l.map((function(e){return e.road})).filter((function(e,r,t){return void 0!==e&&t.indexOf(e)===r})).sort((function(e,r){return e.localeCompare(r)}))),building:[""].concat(l.map((function(e){return e.building})).filter((function(e,r,t){return void 0!==e&&t.indexOf(e)===r})).sort((function(e,r){return e.localeCompare(r)})))}}),[l]),i=(0,u.useState)((function(){return{category:o.category[0],location:o.location[0],road:o.road[0],building:o.building[0],search:"",priceFrom:P[0],priceTo:P[P.length-2],areaFrom:S[0],areaTo:S[S.length-1],terrainAreaFrom:A[0],terrainAreaTo:A[A.length-1]}})),c=(0,a.Z)(i,2),p=c[0],v=c[1],h=(0,u.useState)((function(){return p})),b=(0,a.Z)(h,2),E=b[0],y=b[1],_=(0,u.useState)((function(){return Object.keys(Z)[0]})),N=(0,a.Z)(_,2),H=N[0],Y=N[1],G=(0,u.useCallback)((function(e){var r=e.target;return Y(r.value)}),[]),U=(0,u.useMemo)((function(){return new s.x}),[]);(0,u.useEffect)((function(){var e=U.pipe((0,m.U)((function(e){var r=e.search,t=(0,n.Z)(e,k);return JSON.stringify(x(x(x({},E),t),{},{search:r.trim()}))})),(0,f.x)(),(0,d.b)(400)).subscribe((function(e){return y((function(r){return x(x({},r),JSON.parse(e))}))}));return function(){return e.unsubscribe()}}),[U]),(0,u.useEffect)((function(){U.next(p)}),[p]),console.log({options:o,filters:p,results:l});var B=(0,u.useMemo)((function(){return l.map(K).filter((function(e){return(!E.category||e.categories.includes(E.category))&&(!E.location||[e._location].includes(E.location))&&(!E.road||[e.road].includes(E.road))&&(!E.building||[e.building].includes(E.building))&&(e._search.match(E.search)||E.search===String(e.id))&&(E.areaTo===S[0]||E.areaFrom<=e._area&&e._area<=E.areaTo)&&(E.terrainAreaTo===A[0]||E.terrainAreaFrom<=e._terrain_area&&e._terrain_area<=E.terrainAreaTo)&&(E.priceTo===P[0]||E.priceFrom<=e._price&&e._price<=E.priceTo)}))}),[l,E]),L=(0,u.useMemo)((function(){return B.sort((function(e,r){return Z[H]*(e[H]>r[H]?1:-1)}))}),[B,H]);return u.createElement("div",null,u.createElement("fieldset",null,u.createElement("label",null,u.createElement("span",null,"Category"),u.createElement("select",{value:p.category,onChange:(0,u.useCallback)((function(e){var r=e.target;return v((function(e){return x(x({},e),{},{category:r.value})}))}),[])},o.category.map((function(e){return u.createElement("option",{key:e,value:e},e)})))),u.createElement("label",null,u.createElement("span",null,"Search"),u.createElement("input",{type:"search",value:p.search,onChange:(0,u.useCallback)((function(e){var r=e.target;return v((function(e){return x(x({},e),{},{search:r.value})}))}),[])})),u.createElement("label",null,u.createElement("span",null,"Sort"),u.createElement("select",{value:H,onChange:G},Object.entries(Z).map((function(e){var r=(0,a.Z)(e,1)[0];return u.createElement("option",{key:r,value:r},r)})))),u.createElement("div",null,u.createElement("label",null,u.createElement("span",null,"Location"),u.createElement("select",{value:p.location,onChange:(0,u.useCallback)((function(e){var r=e.target.value;return v((function(e){return x(x({},e),{},{location:r})}))}),[])},o.location.map((function(e){return u.createElement("option",{key:e,value:e},e)}))))),u.createElement("div",null,u.createElement("label",null,u.createElement("span",null,"Road"),u.createElement("select",{value:p.road,onChange:(0,u.useCallback)((function(e){var r=e.target.value;return v((function(e){return x(x({},e),{},{road:r})}))}),[])},o.road.map((function(e){return u.createElement("option",{key:e,value:e},e)}))))),u.createElement("div",null,u.createElement("label",null,u.createElement("span",null,"Building"),u.createElement("select",{value:p.building,onChange:(0,u.useCallback)((function(e){var r=e.target.value;return v((function(e){return x(x({},e),{},{building:r})}))}),[])},o.building.map((function(e){return u.createElement("option",{key:e,value:e},e)}))))),u.createElement("div",null,u.createElement("label",null,u.createElement("span",null,"Area From"),u.createElement("input",{type:"range",list:"area-list",min:S[0],max:S[S.length-1],value:p.areaFrom,onChange:(0,u.useCallback)((function(e){var r=e.target;return v((function(e){var t=e.areaTo,a=(0,n.Z)(e,O),l=Number(r.value);return x(x({},a),{},{areaFrom:l,areaTo:t<l?l:t})}))}),[])}),u.createElement("datalist",{id:"area-list"},S.map((function(e){return u.createElement("option",{key:e,value:e})})))),u.createElement("label",null,u.createElement("span",null,"Area To"),u.createElement("input",{type:"range",list:"area-list",min:S[0],max:S[S.length-1],value:p.areaTo,onChange:(0,u.useCallback)((function(e){var r=e.target;return v((function(e){var t=e.areaFrom,a=(0,n.Z)(e,T),l=Number(r.value);return x(x({},a),{},{areaFrom:l>t?t:l,areaTo:l})}))}),[])}),u.createElement("span",null,"".concat((new Intl.NumberFormat).format(p.areaFrom)," - ").concat((new Intl.NumberFormat).format(p.areaTo)," m2")))),u.createElement("div",null,u.createElement("label",null,u.createElement("span",null,"Terrain Area From"),u.createElement("input",{type:"range",list:"terrain-area-list",min:A[0],max:A[A.length-1],value:p.terrainAreaFrom,onChange:(0,u.useCallback)((function(e){var r=e.target;return v((function(e){var t=e.terrainAreaTo,a=(0,n.Z)(e,j),l=Number(r.value);return x(x({},a),{},{terrainAreaFrom:l,terrainAreaTo:t<l?l:t})}))}),[])}),u.createElement("datalist",{id:"terrain-area-list"},A.map((function(e){return u.createElement("option",{key:e,value:e})})))),u.createElement("label",null,u.createElement("span",null,"Terrain Area To"),u.createElement("input",{type:"range",list:"terrain-area-list",min:A[0],max:A[A.length-1],value:p.terrainAreaTo,onChange:(0,u.useCallback)((function(e){var r=e.target;return v((function(e){var t=e.terrainAreaFrom,a=(0,n.Z)(e,z),l=Number(r.value);return x(x({},a),{},{terrainAreaFrom:l>t?t:l,terrainAreaTo:l})}))}),[])}),u.createElement("span",null,"".concat((new Intl.NumberFormat).format(p.terrainAreaFrom)," - ").concat((new Intl.NumberFormat).format(p.terrainAreaTo)," m2")))),u.createElement("div",null,u.createElement("label",null,u.createElement("span",null,"Price From"),u.createElement("input",{type:"range",list:"price-list",min:P[0],max:P[P.length-1],value:p.priceFrom,onChange:(0,u.useCallback)((function(e){var r=e.target;return v((function(e){var t=e.priceTo,a=(0,n.Z)(e,F),l=Number(r.value);return x(x({},a),{},{priceFrom:l,priceTo:t<l?l:t})}))}),[])}),u.createElement("datalist",{id:"price-list"},P.map((function(e){return u.createElement("option",{key:e,value:e})})))),u.createElement("label",null,u.createElement("span",null,"Price To"),u.createElement("input",{type:"range",list:"price-list",min:P[0],max:P[P.length-1],value:p.priceTo,onChange:(0,u.useCallback)((function(e){var r=e.target;return v((function(e){var t=e.priceFrom,a=(0,n.Z)(e,C),l=Number(r.value);return x(x({},a),{},{priceFrom:l>t?t:l,priceTo:l})}))}),[])}),u.createElement("span",null,"".concat((new Intl.NumberFormat).format(p.priceFrom)," - ").concat((new Intl.NumberFormat).format(p.priceTo)," PLN"))))),u.createElement("div",null,"Found ".concat(B.length," products out of a total of ").concat(l.length)),u.createElement("ol",null,L.slice(0,100).map((function(e){return u.createElement("li",{key:e.id,className:w.Z.Row},u.createElement(g.r,{className:w.Z.Gallery,images:e.images}),u.createElement(M,e),u.createElement(I,e))}))))}function M(e){var r=e.canonical,t=e.price,n=e.title,a=e._address,l=e._created;return u.createElement("div",{className:w.Z.Summary},u.createElement("div",null,(0,p.Z)(l,"yyyy-MM-dd HH:mm")),u.createElement("h4",null,"".concat((new Intl.NumberFormat).format(t)," PLN")),u.createElement("h3",null,u.createElement(h.r,{href:r},n)),a&&u.createElement("h6",null,a.join(" / ")))}function I(e){var r=e.description,t=e.parameters;return u.createElement("div",{className:w.Z.Details},r.map((function(e,r){return u.createElement("p",{key:r},e)})),u.createElement("ul",null,t.map((function(e,r){var t=e.label,n=e.value;return u.createElement("li",{key:r},t,": ",u.createElement("b",null,n))}))))}function Y(){return u.createElement("div",{className:w.Z.Section},u.createElement("h2",null,"Properties"),u.createElement(H,null))}},4388:(e,r,t)=>{t.r(r),t.d(r,{default:()=>i});var n=t(9601),a=t.n(n),l=t(2609),o=t.n(l)()(a());o.push([e.id,".zDhTSHDK36rhYKliKHPK{position:relative;overflow-x:auto;overflow-y:hidden;display:flex;flex-direction:row;flex-wrap:nowrap;scroll-snap-type:x mandatory}.zDhTSHDK36rhYKliKHPK .UnJMuQpv6llk8RTmAd38{width:100%;height:100%;flex-shrink:0}.zDhTSHDK36rhYKliKHPK .dqe1lChX5OeU5si424uG{width:100%;height:100%}.zDhTSHDK36rhYKliKHPK img{max-height:100%;scroll-snap-align:start}.dqe1lChX5OeU5si424uG{display:flex;align-items:center;justify-content:center}.dqe1lChX5OeU5si424uG svg{flex:none;width:64px;height:64px}",""]),o.locals={Gallery:"zDhTSHDK36rhYKliKHPK",ImgWrapper:"UnJMuQpv6llk8RTmAd38",Loader:"dqe1lChX5OeU5si424uG"};const i=o},6917:(e,r,t)=>{t.r(r),t.d(r,{default:()=>i});var n=t(9601),a=t.n(n),l=t(2609),o=t.n(l)()(a());o.push([e.id,".KYBwyVHwYFPduDcS8tJA{color:purple}.bUNjBJTWIMSq_XWNswT2{clear:both;padding:.5em 0}.e3KhqV06cOMe70OduX67{float:left;width:200px;height:200px}.YzMcljUk8YpF_3sH71Qy h3{margin-block-start:.5em;margin-block-end:.5em}.YzMcljUk8YpF_3sH71Qy h4{float:right;margin-block-start:.5em;margin-block-end:.5em}.YzMcljUk8YpF_3sH71Qy h6{margin-block-start:.5em;margin-block-end:.5em}.GzN8lDh8Bf0lo_aG_yN4{border-bottom:1px solid #d3d3d3;padding-bottom:.5em}.GzN8lDh8Bf0lo_aG_yN4 p{margin:0}",""]),o.locals={Section:"KYBwyVHwYFPduDcS8tJA",Row:"bUNjBJTWIMSq_XWNswT2",Gallery:"e3KhqV06cOMe70OduX67",Summary:"YzMcljUk8YpF_3sH71Qy",Details:"GzN8lDh8Bf0lo_aG_yN4"};const i=o},6435:(e,r,t)=>{t.d(r,{Z:()=>y});var n=t(6062),a=t.n(n),l=t(4036),o=t.n(l),i=t(6793),c=t.n(i),u=t(7892),s=t.n(u),m=t(1173),f=t.n(m),d=t(2464),p=t.n(d),v=t(4388),g={};g.styleTagTransform=p(),g.setAttributes=s(),g.insert=c().bind(null,"head"),g.domAPI=o(),g.insertStyleElement=f();var h=a()(v.default,g);if(!v.default.locals||e.hot.invalidate){var b=!v.default.locals,E=b?v:v.default.locals;e.hot.accept(4388,(r=>{v=t(4388),function(e,r,t){if(!e&&r||e&&!r)return!1;var n;for(n in e)if((!t||"default"!==n)&&e[n]!==r[n])return!1;for(n in r)if(!(t&&"default"===n||e[n]))return!1;return!0}(E,b?v:v.default.locals,b)?(E=b?v:v.default.locals,h(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){h()}));const y=v.default&&v.default.locals?v.default.locals:void 0},8805:(e,r,t)=>{t.d(r,{Z:()=>y});var n=t(6062),a=t.n(n),l=t(4036),o=t.n(l),i=t(6793),c=t.n(i),u=t(7892),s=t.n(u),m=t(1173),f=t.n(m),d=t(2464),p=t.n(d),v=t(6917),g={};g.styleTagTransform=p(),g.setAttributes=s(),g.insert=c().bind(null,"head"),g.domAPI=o(),g.insertStyleElement=f();var h=a()(v.default,g);if(!v.default.locals||e.hot.invalidate){var b=!v.default.locals,E=b?v:v.default.locals;e.hot.accept(6917,(r=>{v=t(6917),function(e,r,t){if(!e&&r||e&&!r)return!1;var n;for(n in e)if((!t||"default"!==n)&&e[n]!==r[n])return!1;for(n in r)if(!(t&&"default"===n||e[n]))return!1;return!0}(E,b?v:v.default.locals,b)?(E=b?v:v.default.locals,h(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){h()}));const y=v.default&&v.default.locals?v.default.locals:void 0}}]);