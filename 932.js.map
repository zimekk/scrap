{"version":3,"file":"932.js","mappings":"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","sources":["webpack://@dev/web/./src/components/Calculator/index.tsx"],"sourcesContent":["import React, { useCallback, useEffect, useState } from \"react\";\nimport Big from \"big.js\";\n\nconst TAR_RV_DEV = require(\"./assets/tarRvDev.json\");\n\nconst METADATA = Object.assign({\n  taxes: 0.23,\n  brand: \"bmw\",\n  brandId: 1,\n  stockType: \"car\",\n  stockCategory: \"used\",\n  calculator: {\n    yucAgeLimit: 25,\n    ageLimit: 85,\n    mileageLimit: 150000,\n    residualValueAdjust: 0.15,\n    residualValueAdjustLimit: 1,\n    tarRvDevVersion: 1618561672,\n  },\n});\n\nexport type Vehicle = {\n  age: number;\n  transactionalPrice: number;\n  comfortLeaseProduct: {\n    label: string;\n    type: string;\n    calculationMode?: string;\n  };\n  leaseProduct: {\n    label: string;\n    type: string;\n    calculationMode?: string;\n  };\n  mileage: number;\n  accessoriesPrice: number;\n  isYUC: boolean;\n  productionYear: number;\n  newPrice: number;\n  optionsPrice: number;\n  registration: string;\n};\n\nclass Product {\n  vehicle;\n\n  constructor(vehicle: Vehicle) {\n    this.vehicle = vehicle;\n  }\n\n  get interactive() {\n    return true;\n  }\n  get taxesFactor() {\n    return Big()(METADATA.taxes).plus(1).toNumber();\n  }\n  get vehicleAge() {\n    return this.vehicle.age;\n  }\n  get transactionalPriceGross() {\n    return this.vehicle.transactionalPrice;\n  }\n  get transactionalPrice() {\n    return this.toNet(this.transactionalPriceGross);\n  }\n  get interestRate() {\n    const t = this.lastIndexLessOrEqual(\n      this.product.interestRates,\n      \"term\",\n      this.term\n    );\n    return this.product.interestRates[t].value;\n  }\n  get interestRatePerMonth() {\n    return Big()(this.interestRate).div(12).toNumber();\n  }\n  get downPaymentMinGross() {\n    return Big()(this.transactionalPriceGross)\n      .times(this.product.downPaymentLimits.min)\n      .div(this.downPaymentStepGross)\n      .round(0, 3)\n      .times(this.downPaymentStepGross)\n      .toNumber();\n  }\n  get downPaymentStepGross() {\n    const t = this.product.downPaymentLimits.step || 1;\n    return t < 1 ? Big()(this.transactionalPriceGross).times(t).toNumber() : t;\n  }\n  get downPaymentDefaultGross() {\n    return Big()(this.transactionalPriceGross)\n      .times(this.product.downPaymentLimits.default)\n      .div(this.downPaymentStepGross)\n      .round(0, 1)\n      .times(this.downPaymentStepGross)\n      .toNumber();\n  }\n  get downPayment() {\n    return this.toNet(this.downPaymentGross);\n  }\n  get termMin() {\n    return Big()(this.product.termLimits.min)\n      .div(this.termStep)\n      .round(0, 3)\n      .times(this.termStep)\n      .toNumber();\n  }\n  get termStep() {\n    return this.product.termLimits.step || 1;\n  }\n  get termDefault() {\n    const t = Big()(this.product.termLimits.default)\n      .div(this.termStep)\n      .round(0, 3)\n      .times(this.termStep);\n    return t.gt(this.termMax) ? this.termMax : t.toNumber();\n  }\n  get financedAmount() {\n    return Big()(this.transactionalPrice).minus(this.downPayment).toNumber();\n  }\n  get installment() {\n    const t = Big()(this.interestRatePerMonth),\n      e = Big()(this.financedAmount);\n    if (t.eq(0)) return e.plus(this.residualValue).div(this.term).toNumber();\n    const n = t.plus(1).pow(this.term);\n    return e\n      .times(n)\n      .minus(this.residualValue)\n      .times(t)\n      .div(n.minus(1))\n      .toNumber();\n  }\n  get installmentGross() {\n    return this.toGross(this.installment);\n  }\n  lastIndexLessOrEqual(t, e, n) {\n    let r = 0;\n    if (t[r][e] > n) return r;\n    let i,\n      o = t.length - 1;\n    if (t[o][e] < n) return o;\n    for (; r < o; ) {\n      const a = r + o,\n        s = t[(i = (a >> 1) + (1 & a))][e];\n      if (s === n) return i;\n      s > n ? (o = i - 1) : s < n && (r = i);\n    }\n    return r;\n  }\n  toNet(t) {\n    return Big()(t).div(this.taxesFactor).toNumber();\n  }\n  toGross(t) {\n    return Big()(t).times(this.taxesFactor).toNumber();\n  }\n  toPercent(t, e, n) {\n    if (void 0 === e) return Big()(t).times(100).toNumber();\n    if (void 0 === n)\n      return 0 === e ? 0 : Big()(t).div(e).times(100).toNumber();\n    if (n === e) return 0;\n    const r = Big()(e).minus(n);\n    return Big()(t).minus(n).div(r).times(100).toNumber();\n  }\n}\n\nclass ComfortLeaseProduct extends Product {\n  downPaymentGross = this.downPaymentDefaultGross;\n  term = this.termDefault;\n  annualMileage = this.annualMileageDefault;\n  tarRvDevRows = null;\n\n  tarRvDevGet() {\n    // this.interactive &&\n    //   storage.get(\n    //     METADATA.calculator.tarRvDevVersion,\n    //     this.product.tarRvMod.carSegmentId,\n    //     this.totalTerm\n    //   ).then((e) => {\n    //     this.tarRvDevRows = e;\n    //   });\n  }\n  getData() {\n    return {\n      type: \"comfort_lease\",\n      downPaymentGross: this.downPaymentGross,\n      term: this.term,\n      annualMileage: this.annualMileage,\n      installmentGross: this.installmentGross,\n    };\n  }\n  get product() {\n    return this.vehicle.comfortLeaseProduct;\n  }\n  get isApplicable() {\n    return (\n      this.vehicleAge <= METADATA.calculator.ageLimit &&\n      this.vehicle.mileage <= METADATA.calculator.mileageLimit &&\n      this.vehicleAge <=\n        this.product.totalAgeLimit - this.product.termLimits.min &&\n      null !== this.accessoriesPrice &&\n      this.accessoryLimit > -1 &&\n      this.rvValue > -1\n    );\n  }\n  get vehicleType() {\n    return \"new\" === METADATA.stockCategory\n      ? \"new\"\n      : this.vehicle.isYUC\n      ? \"young_used\"\n      : \"used\";\n  }\n  get storagePeriod() {\n    return \"new\" === this.vehicleType\n      ? new Date().getFullYear() - this.vehicle.productionYear\n      : new Date(this.vehicle.registration).getFullYear() -\n          this.vehicle.productionYear;\n  }\n  get newPrice() {\n    return this.toNet(this.vehicle.newPrice);\n  }\n  get optionsPrice() {\n    return this.toNet(this.vehicle.optionsPrice);\n  }\n  get basePrice() {\n    return Big()(this.newPrice).minus(this.optionsPrice).toNumber();\n  }\n  get accessoriesPrice() {\n    return \"accessoriesPrice\" in this.vehicle\n      ? this.toNet(this.vehicle.accessoriesPrice)\n      : null;\n  }\n  get accessoryLimit() {\n    return \"tarRvMod\" in this.product\n      ? this.product.tarRvMod.accessoryLimit\n      : -1;\n  }\n  get rvValue() {\n    return \"tarRvMod\" in this.product\n      ? \"rv_based\" === this.product.calculationMode\n        ? \"used\" === this.vehicleType\n          ? this.product.tarRvMod.rvValueUsed\n          : this.product.tarRvMod.rvValue\n        : \"used\" === this.vehicleType\n        ? this.product.tarRvMod.brvValueUsed\n        : this.product.tarRvMod.brvValue\n      : -1;\n  }\n  get downPaymentMaxGross() {\n    const t = Big()(this.transactionalPriceGross).times(\n        this.product.downPaymentLimits.max\n      ),\n      e = Big()(this.transactionalPriceGross).minus(this.residualValueGross);\n    return (e.lt(t) ? e : t)\n      .div(this.downPaymentStepGross)\n      .round(0, 0)\n      .times(this.downPaymentStepGross)\n      .toNumber();\n  }\n  get termMax() {\n    const t =\n        \"young_used\" === this.vehicleType\n          ? this.product.termLimits.max - this.vehicleAge\n          : this.product.termLimits.max,\n      e = this.product.totalAgeLimit - this.vehicleAge;\n    return Big()(Math.min(t, e))\n      .div(this.termStep)\n      .round(0, 0)\n      .times(this.termStep)\n      .toNumber();\n  }\n  get annualMileageMin() {\n    return Big()(this.product.annualMileageLimits.min)\n      .div(this.annualMileageStep)\n      .round(0, 3)\n      .times(this.annualMileageStep)\n      .toNumber();\n  }\n  get annualMileageMax() {\n    if (null === this.tarRvDevRows)\n      return Big()(this.product.annualMileageLimits.max)\n        .div(this.annualMileageStep)\n        .round(0, 3)\n        .times(this.annualMileageStep)\n        .toNumber();\n    for (\n      var t = \"new\" === this.vehicleType ? \"rvDev\" : \"rvDevUsed\",\n        e = this.tarRvDevRows.length - 1;\n      this.tarRvDevRows[e][t] <= -1;\n\n    )\n      e--;\n    let n = this.tarRvDevRows[e].totalMileage;\n    return (\n      \"young_used\" === this.vehicleType &&\n        (n = Big()(n)\n          .times(this.totalTerm)\n          .div(12)\n          .minus(this.vehicle.mileage)\n          .times(12)\n          .div(this.term)),\n      Big()(Math.min(this.product.annualMileageLimits.max, n))\n        .div(this.annualMileageStep)\n        .round(0, 3)\n        .times(this.annualMileageStep)\n        .toNumber()\n    );\n  }\n  get annualMileageStep() {\n    return this.product.annualMileageLimits.step || 1;\n  }\n  get annualMileageDefault() {\n    return Big()(this.product.annualMileageLimits.default)\n      .div(this.annualMileageStep)\n      .round(0, 1)\n      .times(this.annualMileageStep)\n      .toNumber();\n  }\n  get totalMileage() {\n    return \"young_used\" === this.vehicleType\n      ? Big()(this.annualMileage)\n          .times(this.term)\n          .div(12)\n          .plus(this.vehicle.mileage)\n          .times(12)\n          .div(this.totalTerm)\n          .toNumber()\n      : this.annualMileage;\n  }\n  get totalTerm() {\n    return \"young_used\" === this.vehicleType\n      ? Big()(this.term).plus(this.vehicleAge).toNumber()\n      : this.term;\n  }\n  get tarRvDev() {\n    if (!this.interactive) return this.product.tarRvDev;\n    if (null !== this.tarRvDevRows) {\n      const t = this.lastIndexLessOrEqual(\n          this.tarRvDevRows,\n          \"totalMileage\",\n          this.totalMileage\n        ),\n        e = this.tarRvDevRows[t];\n      return this.totalMileage === e.totalMileage ||\n        t === this.tarRvDevRows.length - 1\n        ? e\n        : this.tarRvDevRows[t + 1];\n    }\n    return null;\n  }\n  get rvDev() {\n    return null === this.tarRvDev\n      ? -1\n      : \"new\" === this.vehicleType\n      ? this.tarRvDev.rvDev\n      : this.tarRvDev.rvDevUsed;\n  }\n  get residualValueBase() {\n    if (\"used\" === this.vehicleType)\n      return Big()(this.transactionalPrice)\n        .minus(this.accessoriesPrice)\n        .toNumber();\n    if (this.accessoryLimit <= -1) return this.newPrice;\n    const t = Big()(this.basePrice),\n      e = t.times(this.accessoryLimit);\n    return e.gte(this.optionsPrice) ? this.newPrice : t.plus(e).toNumber();\n  }\n\n  get residualValue() {\n    if (this.rvValue <= -1 || this.rvDev <= -1) return 0;\n\n    const t = Big()(this.rvValue)\n      .plus(this.rvDev)\n      .times(this.residualValueBase);\n\n    return this.storagePeriod > METADATA.calculator.rvAdjustLimit\n      ? Big()(1).minus(METADATA.calculator.rvAdjust).times(t).toNumber()\n      : t.toNumber();\n  }\n  get residualValueGross() {\n    return this.toGross(this.residualValue);\n  }\n}\n\nclass LeaseProduct extends Product {\n  downPaymentGross = this.downPaymentDefaultGross;\n  term = this.termDefault;\n  residualValueGross = this.residualValueDefaultGross;\n\n  getData() {\n    return {\n      type: \"lease\",\n      downPaymentGross: this.downPaymentGross,\n      term: this.term,\n      residualValueGross: this.residualValueGross,\n      installmentGross: this.installmentGross,\n    };\n  }\n  get product() {\n    return this.vehicle.leaseProduct;\n  }\n  get isApplicable() {\n    return (\n      this.vehicleAge <= METADATA.calculator.ageLimit &&\n      this.vehicleAge <=\n        this.product.totalAgeLimit - this.product.termLimits.min\n    );\n  }\n  get downPaymentMaxGross() {\n    return Big()(this.transactionalPriceGross)\n      .times(this.product.downPaymentLimits.max)\n      .div(this.downPaymentStepGross)\n      .round(0, 0)\n      .times(this.downPaymentStepGross)\n      .toNumber();\n  }\n  get termMax() {\n    const t = this.product.totalAgeLimit - this.vehicleAge;\n    return Big()(Math.min(this.product.termLimits.max, t))\n      .div(this.termStep)\n      .round(0, 0)\n      .times(this.termStep)\n      .toNumber();\n  }\n  get residualValueFactorLimits() {\n    const t = this.lastIndexLessOrEqual(\n      this.product.residualValueFactorLimits,\n      \"term\",\n      this.term\n    );\n    return this.product.residualValueFactorLimits[t];\n  }\n  get residualValueMinGross() {\n    return Big()(this.transactionalPriceGross)\n      .times(this.residualValueFactorLimits.min)\n      .div(this.residualValueStepGross)\n      .round(0, 3)\n      .times(this.residualValueStepGross)\n      .toNumber();\n  }\n  get residualValueMaxGross() {\n    return Big()(this.transactionalPriceGross)\n      .times(this.residualValueFactorLimits.max)\n      .div(this.residualValueStepGross)\n      .round(0, 0)\n      .times(this.residualValueStepGross)\n      .toNumber();\n  }\n  get residualValueStepGross() {\n    const t = this.product.residualValueStep || 1;\n    return t < 1 ? Big()(this.transactionalPriceGross).times(t).toNumber() : t;\n  }\n  get residualValueDefaultGross() {\n    return \"max\" === this.product.residualValueDefault\n      ? this.residualValueMaxGross\n      : this.residualValueMinGross;\n  }\n  get residualValue() {\n    return this.toNet(this.residualValueGross);\n  }\n}\n\nexport enum ProductTypes {\n  COMFORT_LEASE = \"COMFORT_LEASE\",\n  LEASE = \"LEASE\",\n}\n\nexport function Calculator({\n  productType,\n  vehicle,\n}: {\n  productType: ProductTypes;\n  vehicle: Vehicle;\n}) {\n  const [calculator] = useState(\n    () =>\n      new {\n        [ProductTypes.COMFORT_LEASE]: ComfortLeaseProduct,\n        [ProductTypes.LEASE]: LeaseProduct,\n      }[productType](vehicle)\n  );\n\n  const [criteria, setCriteria] = useState(() =>\n    Object.assign(\n      {\n        downPaymentGross: calculator.downPaymentGross,\n        term: calculator.term,\n      },\n      productType === ProductTypes.COMFORT_LEASE\n        ? {\n            annualMileage: calculator.annualMileage,\n          }\n        : {\n            residualValueGross: calculator.residualValueGross,\n          }\n    )\n  );\n\n  useEffect(() => {\n    if (productType === ProductTypes.COMFORT_LEASE) {\n      setCriteria((criteria) => ({\n        ...criteria,\n        tarRvDevRows: (({ columns, rows }) =>\n          rows\n            .map((item) =>\n              Object.entries(columns).reduce(\n                (list, [key, index]) =>\n                  Object.assign(list, {\n                    [key]: item[index],\n                  }),\n                {}\n              )\n            )\n            .filter((item) => item.term === criteria.term)\n            .map((item) =>\n              Object.assign(item, {\n                carSegmentId_term: `${calculator.product.tarRvMod.carSegmentId}_${item.term}`,\n              })\n            ))(TAR_RV_DEV),\n      }));\n    }\n  }, [TAR_RV_DEV, criteria.term]);\n\n  Object.assign(calculator, criteria);\n\n  console.log({\n    calculator,\n    criteria,\n  });\n\n  return (\n    <div>\n      <fieldset>\n        <div>\n          <label>\n            <span>Opłata wstępna</span>\n            <input\n              type=\"range\"\n              min={calculator.downPaymentMinGross}\n              max={calculator.downPaymentMaxGross}\n              step={calculator.downPaymentStepGross}\n              value={criteria.downPaymentGross}\n              onChange={useCallback(\n                ({ target }) =>\n                  setCriteria((criteria) => ({\n                    ...criteria,\n                    downPaymentGross: Number(target.value),\n                  })),\n                []\n              )}\n            />\n            <span>{`${calculator.downPaymentGross} zł`}</span>\n          </label>\n        </div>\n        <div>\n          <label>\n            <span>Okres</span>\n            <input\n              type=\"range\"\n              min={calculator.termMin}\n              max={calculator.termMax}\n              step={calculator.termStep}\n              value={criteria.term}\n              onChange={useCallback(\n                ({ target }) =>\n                  setCriteria((criteria) => ({\n                    ...criteria,\n                    term: Number(target.value),\n                  })),\n                []\n              )}\n            />\n            <span>{`${criteria.term} Miesiące`}</span>\n          </label>\n        </div>\n        {productType === ProductTypes.COMFORT_LEASE && (\n          <div>\n            <label>\n              <span>Roczny przebieg</span>\n              <input\n                type=\"range\"\n                min={calculator.annualMileageMin}\n                max={calculator.annualMileageMax}\n                step={calculator.annualMileageStep}\n                value={criteria.annualMileage}\n                onChange={useCallback(\n                  ({ target }) =>\n                    setCriteria((criteria) => ({\n                      ...criteria,\n                      annualMileage: Number(target.value),\n                    })),\n                  []\n                )}\n              />\n              <span>{`${criteria.annualMileage} km`}</span>\n            </label>\n          </div>\n        )}\n        {productType === ProductTypes.LEASE && (\n          <div>\n            <label>\n              <span>Wartość końcowa</span>\n              <input\n                type=\"range\"\n                min={calculator.residualValueMinGross}\n                max={calculator.residualValueMaxGross}\n                step={calculator.residualValueStepGross}\n                value={criteria.residualValueGross}\n                onChange={useCallback(\n                  ({ target }) =>\n                    setCriteria((criteria) => ({\n                      ...criteria,\n                      residualValueGross: Number(target.value),\n                    })),\n                  []\n                )}\n              />\n              <span>{`${criteria.residualValueGross} zł`}</span>\n            </label>\n          </div>\n        )}\n      </fieldset>\n      <div>{`${calculator.product.label} (${[\n        calculator.product.type,\n        calculator.product.calculationMode,\n      ]\n        .filter(Boolean)\n        .join(\" / \")})`}</div>\n      <ul>\n        <li>{`Cena: ${\n          calculator.transactionalPriceGross\n        } zł (netto ${Math.round(calculator.transactionalPrice)} zł)`}</li>\n        <li>{`Opłata wstępna: ${calculator.downPaymentGross} zł (${\n          Math.round(\n            (calculator.downPaymentGross / calculator.transactionalPriceGross) *\n              100 *\n              100\n          ) / 100\n        }%)`}</li>\n        <li>{`Okres: ${calculator.term} Miesiące`}</li>\n        {calculator.annualMileage !== undefined && (\n          <li>{`Roczny przebieg: ${criteria.annualMileage}km`}</li>\n        )}\n        <li>{`Wartość końcowa: ${\n          Math.round(calculator.residualValueGross * 100) / 100\n        } zł (${\n          Math.round(\n            (calculator.residualValueGross /\n              calculator.transactionalPriceGross) *\n              100 *\n              100\n          ) / 100\n        }%)`}</li>\n        <li>{`Miesięczna rata: ${Math.round(\n          calculator.installmentGross\n        )} zł (netto ${Math.round(calculator.installment)} zł)`}</li>\n        <li>{`Suma opłat: ${Math.round(\n          calculator.downPaymentGross +\n            calculator.installmentGross * calculator.term\n        )} zł (łącznie z wykupem ${Math.round(\n          calculator.downPaymentGross +\n            calculator.installmentGross * calculator.term +\n            calculator.residualValueGross\n        )} zł)`}</li>\n        <li>{`Nadpłata: ${Math.round(\n          calculator.downPaymentGross +\n            calculator.installmentGross * calculator.term +\n            calculator.residualValueGross -\n            calculator.transactionalPriceGross\n        )} zł (${\n          Math.round(\n            ((calculator.downPaymentGross +\n              calculator.installmentGross * calculator.term +\n              calculator.residualValueGross -\n              calculator.transactionalPriceGross) /\n              calculator.transactionalPriceGross) *\n              100 *\n              100\n          ) / 100\n        } %)`}</li>\n      </ul>\n    </div>\n  );\n}\n"],"names":["TAR_RV_DEV","require","METADATA","Object","assign","taxes","brand","brandId","stockType","stockCategory","calculator","yucAgeLimit","ageLimit","mileageLimit","residualValueAdjust","residualValueAdjustLimit","tarRvDevVersion","Product","_createClass","vehicle","_classCallCheck","this","key","get","Big","plus","toNumber","age","transactionalPrice","toNet","transactionalPriceGross","t","lastIndexLessOrEqual","product","interestRates","term","value","interestRate","div","times","downPaymentLimits","min","downPaymentStepGross","round","step","downPaymentGross","termLimits","termStep","gt","termMax","minus","downPayment","interestRatePerMonth","e","financedAmount","eq","residualValue","n","pow","toGross","installment","r","i","o","length","a","s","taxesFactor","ComfortLeaseProduct","_Product","_this","_len","arguments","args","Array","_key","_defineProperty","_callSuper","concat","downPaymentDefaultGross","termDefault","annualMileageDefault","_inherits","type","annualMileage","installmentGross","comfortLeaseProduct","vehicleAge","mileage","totalAgeLimit","accessoriesPrice","accessoryLimit","rvValue","isYUC","vehicleType","Date","getFullYear","productionYear","registration","newPrice","optionsPrice","tarRvMod","calculationMode","rvValueUsed","brvValueUsed","brvValue","max","residualValueGross","lt","Math","annualMileageLimits","annualMileageStep","tarRvDevRows","totalMileage","totalTerm","interactive","tarRvDev","rvDev","rvDevUsed","basePrice","gte","residualValueBase","storagePeriod","rvAdjustLimit","rvAdjust","LeaseProduct","_Product2","_this2","_len2","_key2","residualValueDefaultGross","leaseProduct","residualValueFactorLimits","residualValueStepGross","residualValueStep","residualValueDefault","residualValueMaxGross","residualValueMinGross","ProductTypes","Calculator","_ref","productType","_slicedToArray","useState","COMFORT_LEASE","LEASE","_useState4","criteria","setCriteria","useEffect","_objectSpread","_ref2","columns","rows","map","item","entries","reduce","list","_ref3","_ref4","index","filter","carSegmentId_term","carSegmentId","console","log","React","downPaymentMinGross","downPaymentMaxGross","onChange","useCallback","_ref5","target","Number","termMin","_ref6","annualMileageMin","annualMileageMax","_ref7","_ref8","label","Boolean","join","undefined"],"sourceRoot":""}