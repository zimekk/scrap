{"version":3,"file":"783.js","mappings":"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","sources":["webpack://@dev/web/./src/components/Gallery/styles.module.scss?7711","webpack://@dev/web/./src/components/Gallery/index.tsx","webpack://@dev/web/./src/components/Link/index.tsx","webpack://@dev/web/./src/components/Spinner/index.tsx","webpack://@dev/web/./src/components/Gallery/styles.module.scss"],"sourcesContent":["\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./styles.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./styles.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, {\n  MouseEventHandler,\n  Suspense,\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from \"react\";\nimport { Subject } from \"rxjs\";\nimport { debounceTime } from \"rxjs/operators\";\nimport { createAsset } from \"use-asset\";\nimport { faImage } from \"@fortawesome/free-solid-svg-icons\";\nimport { Spinner } from \"../Spinner\";\nimport cx from \"classnames\";\nimport styles from \"./styles.module.scss\";\n\nconst imgSrcFallback = () =>\n  (({ icon: [w, h, , , d] }) =>\n    `data:image/svg+xml;utf8,<svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"crosshairs\" class=\"svg-inline--fa fa-crosshairs fa-w-16 \" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 ${w} ${h}\"><path fill=\"currentColor\" d=\"${d}\"></path></svg>`)(\n    faImage\n  );\n\nconst image = createAsset(\n  async (src): Promise<string> =>\n    new Promise((resolve) => {\n      const img = new Image();\n      Object.assign(img, {\n        onload: () => resolve(src),\n        onerror: () => resolve(imgSrcFallback()),\n        src,\n      });\n    })\n);\n\nexport function Img({ src, ...props }: { src: string; srcSet?: string }) {\n  const img = image.read(src);\n  return <img src={img} {...props} referrerPolicy=\"no-referrer\" />;\n}\n\nfunction Loader() {\n  return (\n    <div className={styles.Loader}>\n      <Spinner />\n    </div>\n  );\n}\n\nfunction ImgWrapper({\n  ...props\n}: {\n  src: string;\n  srcSet?: string;\n  alt?: string;\n}) {\n  return (\n    <div className={styles.ImgWrapper}>\n      <Suspense fallback={<Loader />}>\n        <Img {...props} />\n      </Suspense>\n    </div>\n  );\n}\n\nexport function Gallery({\n  className,\n  images,\n  srcSet = [],\n}: {\n  className: string;\n  images: string[];\n  srcSet?: string[];\n}) {\n  const [inView, setInView] = useState(false);\n  const [isMore, setIsMore] = useState(false);\n  const ref = useRef<HTMLDivElement>(null);\n  const [state, setState] = useState<{\n    scale: number;\n    translateX?: number;\n    translateY?: number;\n  }>({\n    scale: 0,\n  });\n\n  const scroll$ = useMemo(() => new Subject<any>(), []);\n\n  useEffect(() => {\n    const subscription = scroll$\n      .pipe(debounceTime(400))\n      .subscribe(({ scrollLeft, scrollWidth, offsetWidth }) => {\n        if (scrollLeft >= scrollWidth - offsetWidth) {\n          setIsMore(true);\n        }\n      });\n    return () => subscription.unsubscribe();\n  }, [scroll$]);\n\n  const toggleZoom = useCallback<MouseEventHandler>(\n    (e) => (\n      e.stopPropagation(),\n      setState((state) => {\n        if (ref.current) {\n          const { x, y, width, height } = ref.current.getBoundingClientRect();\n          const { innerWidth, innerHeight } = window;\n          const scale = (innerWidth / width) * 1.0;\n\n          return state.scale\n            ? {\n                scale: 0,\n              }\n            : {\n                scale,\n                translateX: ((innerWidth - width) / 2 - x) / scale,\n                translateY: ((innerHeight - height) / 2 - y) / scale,\n              };\n        }\n        return state;\n      })\n    ),\n    [ref]\n  );\n\n  useEffect(() => {\n    const handleObserve: IntersectionObserverCallback = ([\n      { isIntersecting },\n    ]) => {\n      if (isIntersecting) {\n        setInView(true);\n      }\n    };\n    const handleScroll: EventListener = ({ target }) => scroll$.next(target);\n\n    if (ref.current instanceof HTMLElement) {\n      const observer = new IntersectionObserver(handleObserve, {\n        root: null,\n        rootMargin: \"0px\",\n        threshold: 1.0,\n      });\n      observer.observe(ref.current);\n      ref.current.addEventListener(\"scroll\", handleScroll);\n      return () => {\n        if (ref.current) {\n          observer.unobserve(ref.current);\n          ref.current.removeEventListener(\"scroll\", handleScroll);\n        }\n      };\n    }\n  }, [ref]);\n\n  return images.length ? (\n    <div\n      ref={ref}\n      className={cx(className, styles.Gallery)}\n      style={\n        state.scale\n          ? {\n              cursor: \"zoom-out\",\n              transform: `scale(${state.scale}) translate(${state.translateX}px, ${state.translateY}px)`,\n              zIndex: 1,\n            }\n          : {\n              cursor: \"zoom-in\",\n            }\n      }\n      onClick={toggleZoom}\n    >\n      {inView &&\n        images\n          .slice(0, isMore ? images.length : 3)\n          .map((image, index) => (\n            <ImgWrapper\n              key={index}\n              src={image}\n              srcSet={state.scale ? srcSet[index] : undefined}\n              alt={`Image #${index + 1}`}\n            />\n          ))}\n    </div>\n  ) : null;\n}\n","import React, { CSSProperties, MouseEventHandler, ReactNode } from \"react\";\n\nexport function Link({\n  href = \"#\",\n  ...props\n}: {\n  children: ReactNode;\n  href?: string;\n  onClick?: MouseEventHandler;\n  rel?: string;\n  style?: CSSProperties;\n  target?: string;\n}) {\n  const hash = href[0] === \"#\";\n\n  return (\n    <a\n      href={href}\n      target={hash ? undefined : \"_blank\"}\n      rel={hash ? undefined : \"noopener noreferrer\"}\n      {...props}\n    />\n  );\n}\n","import React from \"react\";\n\n// https://raw.githubusercontent.com/mhnpd/react-loader-spinner/master/src/loader/TailSpin.js\nexport const Spinner = ({\n  height = 80,\n  width = 80,\n  color = \"green\",\n  radius = 1,\n  label = \"audio-loading\",\n}) => (\n  <svg\n    width={width}\n    height={height}\n    viewBox=\"0 0 38 38\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    aria-label={label}\n  >\n    <defs>\n      <linearGradient x1=\"8.042%\" y1=\"0%\" x2=\"65.682%\" y2=\"23.865%\" id=\"a\">\n        <stop stopColor={color} stopOpacity=\"0\" offset=\"0%\" />\n        <stop stopColor={color} stopOpacity=\".631\" offset=\"63.146%\" />\n        <stop stopColor={color} offset=\"100%\" />\n      </linearGradient>\n    </defs>\n    <g fill=\"none\" fillRule=\"evenodd\">\n      <g transform=\"translate(1 1)\">\n        <path\n          d=\"M36 18c0-9.94-8.06-18-18-18\"\n          id=\"Oval-2\"\n          stroke={color}\n          strokeWidth=\"2\"\n        >\n          <animateTransform\n            attributeName=\"transform\"\n            type=\"rotate\"\n            from=\"0 18 18\"\n            to=\"360 18 18\"\n            dur=\"0.9s\"\n            repeatCount=\"indefinite\"\n          />\n        </path>\n        <circle fill=\"#fff\" cx=\"36\" cy=\"18\" r={radius}>\n          <animateTransform\n            attributeName=\"transform\"\n            type=\"rotate\"\n            from=\"0 18 18\"\n            to=\"360 18 18\"\n            dur=\"0.9s\"\n            repeatCount=\"indefinite\"\n          />\n        </circle>\n      </g>\n    </g>\n  </svg>\n);\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".zDhTSHDK36rhYKliKHPK{position:relative;width:100%;height:100%;overflow-x:auto;overflow-y:hidden;display:flex;flex-direction:row;flex-wrap:nowrap;scroll-snap-type:x mandatory;transition:transform 300ms cubic-bezier(0.2, 0, 0.2, 1)}.zDhTSHDK36rhYKliKHPK img{width:100%;height:100%;object-fit:cover;scroll-snap-align:start}.zDhTSHDK36rhYKliKHPK .UnJMuQpv6llk8RTmAd38{min-width:100%;height:100%;flex-shrink:0}.zDhTSHDK36rhYKliKHPK .dqe1lChX5OeU5si424uG{width:100%;height:100%}.dqe1lChX5OeU5si424uG{display:flex;align-items:center;justify-content:center}.dqe1lChX5OeU5si424uG svg{flex:none;width:64px;height:64px}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/Gallery/styles.module.scss\"],\"names\":[],\"mappings\":\"AAAA,sBACE,iBAAA,CACA,UAAA,CACA,WAAA,CACA,eAAA,CACA,iBAAA,CACA,YAAA,CACA,kBAAA,CACA,gBAAA,CACA,4BAAA,CACA,uDAAA,CAMA,0BACE,UAAA,CACA,WAAA,CACA,gBAAA,CACA,uBAAA,CAGF,4CACE,cAAA,CACA,WAAA,CACA,aAAA,CAGF,4CACE,UAAA,CACA,WAAA,CAGJ,sBACE,YAAA,CACA,kBAAA,CACA,sBAAA,CAEA,0BACE,SAAA,CACA,UAAA,CACA,WAAA\",\"sourcesContent\":[\".Gallery {\\n  position: relative;\\n  width: 100%;\\n  height: 100%;\\n  overflow-x: auto;\\n  overflow-y: hidden;\\n  display: flex;\\n  flex-direction: row;\\n  flex-wrap: nowrap;\\n  scroll-snap-type: x mandatory;\\n  transition: transform 300ms cubic-bezier(0.2, 0, 0.2, 1);\\n\\n  &:hover {\\n    // transform: scale(1.05);\\n  }\\n\\n  img {\\n    width: 100%;\\n    height: 100%;\\n    object-fit: cover;\\n    scroll-snap-align: start;\\n  }\\n\\n  .ImgWrapper {\\n    min-width: 100%;\\n    height: 100%;\\n    flex-shrink: 0;\\n  }\\n\\n  .Loader {\\n    width: 100%;\\n    height: 100%;\\n  }\\n}\\n.Loader {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n\\n  svg {\\n    flex: none;\\n    width: 64px;\\n    height: 64px;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"Gallery\": \"zDhTSHDK36rhYKliKHPK\",\n\t\"ImgWrapper\": \"UnJMuQpv6llk8RTmAd38\",\n\t\"Loader\": \"dqe1lChX5OeU5si424uG\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n"],"names":["options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","undefined","image","createAsset","src","Promise","resolve","img","Image","Object","assign","onload","onerror","w","faImage","icon","h","d","Img","props","read","referrerPolicy","Loader","className","styles","Spinner","ImgWrapper","Suspense","fallback","Gallery","images","srcSet","useState","inView","setInView","isMore","setIsMore","ref","useRef","scale","state","setState","scroll$","useMemo","Subject","useEffect","subscription","pipe","debounceTime","subscribe","scrollLeft","scrollWidth","offsetWidth","unsubscribe","toggleZoom","useCallback","e","stopPropagation","current","getBoundingClientRect","x","y","width","height","window","innerWidth","innerHeight","translateX","translateY","handleScroll","target","next","HTMLElement","observer","IntersectionObserver","isIntersecting","root","rootMargin","threshold","observe","addEventListener","unobserve","removeEventListener","length","cx","style","cursor","transform","zIndex","onClick","slice","map","index","key","alt","Link","href","hash","rel","color","radius","label","viewBox","xmlns","x1","y1","x2","y2","id","stopColor","stopOpacity","offset","fill","fillRule","stroke","strokeWidth","attributeName","type","from","to","dur","repeatCount","cy","r","___CSS_LOADER_EXPORT___","push","module","locals"],"sourceRoot":""}