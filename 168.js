/*! For license information please see 168.js.LICENSE.txt */
(self.webpackChunk_dev_web=self.webpackChunk_dev_web||[]).push([[168],{6025:(r,t)=>{"use strict";function n(r){var t=32;return(r&=-r)&&t--,65535&r&&(t-=16),16711935&r&&(t-=8),252645135&r&&(t-=4),858993459&r&&(t-=2),1431655765&r&&(t-=1),t}t.INT_BITS=32,t.INT_MAX=2147483647,t.INT_MIN=-1<<31,t.sign=function(r){return(r>0)-(r<0)},t.abs=function(r){var t=r>>31;return(r^t)-t},t.min=function(r,t){return t^(r^t)&-(r<t)},t.max=function(r,t){return r^(r^t)&-(r<t)},t.isPow2=function(r){return!(r&r-1||!r)},t.log2=function(r){var t,n;return t=(r>65535)<<4,t|=n=((r>>>=t)>255)<<3,t|=n=((r>>>=n)>15)<<2,(t|=n=((r>>>=n)>3)<<1)|(r>>>=n)>>1},t.log10=function(r){return r>=1e9?9:r>=1e8?8:r>=1e7?7:r>=1e6?6:r>=1e5?5:r>=1e4?4:r>=1e3?3:r>=100?2:r>=10?1:0},t.popCount=function(r){return 16843009*((r=(858993459&(r-=r>>>1&1431655765))+(r>>>2&858993459))+(r>>>4)&252645135)>>>24},t.countTrailingZeros=n,t.nextPow2=function(r){return r+=0===r,--r,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,1+(r|=r>>>16)},t.prevPow2=function(r){return r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,(r|=r>>>16)-(r>>>1)},t.parity=function(r){return r^=r>>>16,r^=r>>>8,r^=r>>>4,27030>>>(r&=15)&1};var e=new Array(256);!function(r){for(var t=0;t<256;++t){var n=t,e=t,a=7;for(n>>>=1;n;n>>>=1)e<<=1,e|=1&n,--a;r[t]=e<<a&255}}(e),t.reverse=function(r){return e[255&r]<<24|e[r>>>8&255]<<16|e[r>>>16&255]<<8|e[r>>>24&255]},t.interleave2=function(r,t){return(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r&=65535)|r<<8))|r<<4))|r<<2))|r<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))<<1},t.deinterleave2=function(r,t){return(r=65535&((r=16711935&((r=252645135&((r=858993459&((r=r>>>t&1431655765)|r>>>1))|r>>>2))|r>>>4))|r>>>16))<<16>>16},t.interleave3=function(r,t,n){return r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2),(r|=(t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2))<<1)|(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<2},t.deinterleave3=function(r,t){return(r=1023&((r=4278190335&((r=251719695&((r=3272356035&((r=r>>>t&1227133513)|r>>>2))|r>>>4))|r>>>8))|r>>>16))<<22>>22},t.nextCombination=function(r){var t=r|r-1;return t+1|(~t&-~t)-1>>>n(r)+1}},8243:(r,t,n)=>{"use strict";var e=n(8390);function a(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}r.exports=function(r){var t=new a;t.pre=r.pre,t.body=r.body,t.post=r.post;var n=r.args.slice(0);t.argTypes=n;for(var i=0;i<n.length;++i){var o=n[i];if("array"===o||"object"==typeof o&&o.blockIndices){if(t.argTypes[i]="array",t.arrayArgs.push(i),t.arrayBlockIndices.push(o.blockIndices?o.blockIndices:0),t.shimArgs.push("array"+i),i<t.pre.args.length&&t.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array args");if(i<t.post.args.length&&t.post.args[i].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===o)t.scalarArgs.push(i),t.shimArgs.push("scalar"+i);else if("index"===o){if(t.indexArgs.push(i),i<t.pre.args.length&&t.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array index");if(i<t.body.args.length&&t.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array index");if(i<t.post.args.length&&t.post.args[i].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===o){if(t.shapeArgs.push(i),i<t.pre.args.length&&t.pre.args[i].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(i<t.body.args.length&&t.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array shape");if(i<t.post.args.length&&t.post.args[i].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof o||!o.offset)throw new Error("cwise: Unknown argument type "+n[i]);t.argTypes[i]="offset",t.offsetArgs.push({array:o.array,offset:o.offset}),t.offsetArgIndex.push(i)}}if(t.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(t.pre.args.length>n.length)throw new Error("cwise: Too many arguments in pre() block");if(t.body.args.length>n.length)throw new Error("cwise: Too many arguments in body() block");if(t.post.args.length>n.length)throw new Error("cwise: Too many arguments in post() block");return t.debug=!!r.printCode||!!r.debug,t.funcName=r.funcName||"cwise",t.blockSize=r.blockSize||64,e(t)}},8351:(r,t,n)=>{"use strict";var e=n(231);function a(r,t,n){var e,a,i=r.length,o=t.arrayArgs.length,s=t.indexArgs.length>0,u=[],f=[],c=0,h=0;for(e=0;e<i;++e)f.push(["i",e,"=0"].join(""));for(a=0;a<o;++a)for(e=0;e<i;++e)h=c,c=r[e],0===e?f.push(["d",a,"s",e,"=t",a,"p",c].join("")):f.push(["d",a,"s",e,"=(t",a,"p",c,"-s",h,"*t",a,"p",h,")"].join(""));for(f.length>0&&u.push("var "+f.join(",")),e=i-1;e>=0;--e)c=r[e],u.push(["for(i",e,"=0;i",e,"<s",c,";++i",e,"){"].join(""));for(u.push(n),e=0;e<i;++e){for(h=c,c=r[e],a=0;a<o;++a)u.push(["p",a,"+=d",a,"s",e].join(""));s&&(e>0&&u.push(["index[",h,"]-=s",h].join("")),u.push(["++index[",c,"]"].join(""))),u.push("}")}return u.join("\n")}function i(r,t,n){for(var e=r.body,a=[],i=[],o=0;o<r.args.length;++o){var s=r.args[o];if(!(s.count<=0)){var u=new RegExp(s.name,"g"),f="",c=t.arrayArgs.indexOf(o);switch(t.argTypes[o]){case"offset":var h=t.offsetArgIndex.indexOf(o);c=t.offsetArgs[h].array,f="+q"+h;case"array":f="p"+c+f;var l="l"+o,p="a"+c;if(0===t.arrayBlockIndices[c])1===s.count?"generic"===n[c]?s.lvalue?(a.push(["var ",l,"=",p,".get(",f,")"].join("")),e=e.replace(u,l),i.push([p,".set(",f,",",l,")"].join(""))):e=e.replace(u,[p,".get(",f,")"].join("")):e=e.replace(u,[p,"[",f,"]"].join("")):"generic"===n[c]?(a.push(["var ",l,"=",p,".get(",f,")"].join("")),e=e.replace(u,l),s.lvalue&&i.push([p,".set(",f,",",l,")"].join(""))):(a.push(["var ",l,"=",p,"[",f,"]"].join("")),e=e.replace(u,l),s.lvalue&&i.push([p,"[",f,"]=",l].join("")));else{for(var d=[s.name],g=[f],y=0;y<Math.abs(t.arrayBlockIndices[c]);y++)d.push("\\s*\\[([^\\]]+)\\]"),g.push("$"+(y+1)+"*t"+c+"b"+y);if(u=new RegExp(d.join(""),"g"),f=g.join("+"),"generic"===n[c])throw new Error("cwise: Generic arrays not supported in combination with blocks!");e=e.replace(u,[p,"[",f,"]"].join(""))}break;case"scalar":e=e.replace(u,"Y"+t.scalarArgs.indexOf(o));break;case"index":e=e.replace(u,"index");break;case"shape":e=e.replace(u,"shape")}}}return[a.join("\n"),e,i.join("\n")].join("\n").trim()}function o(r){for(var t=new Array(r.length),n=!0,e=0;e<r.length;++e){var a=r[e],i=a.match(/\d+/);i=i?i[0]:"",0===a.charAt(0)?t[e]="u"+a.charAt(1)+i:t[e]=a.charAt(0)+i,e>0&&(n=n&&t[e]===t[e-1])}return n?t[0]:t.join("")}r.exports=function(r,t){for(var n=t[1].length-Math.abs(r.arrayBlockIndices[0])|0,s=new Array(r.arrayArgs.length),u=new Array(r.arrayArgs.length),f=0;f<r.arrayArgs.length;++f)u[f]=t[2*f],s[f]=t[2*f+1];var c=[],h=[],l=[],p=[],d=[];for(f=0;f<r.arrayArgs.length;++f){r.arrayBlockIndices[f]<0?(l.push(0),p.push(n),c.push(n),h.push(n+r.arrayBlockIndices[f])):(l.push(r.arrayBlockIndices[f]),p.push(r.arrayBlockIndices[f]+n),c.push(0),h.push(r.arrayBlockIndices[f]));for(var g=[],y=0;y<s[f].length;y++)l[f]<=s[f][y]&&s[f][y]<p[f]&&g.push(s[f][y]-l[f]);d.push(g)}var v=["SS"],_=["'use strict'"],b=[];for(y=0;y<n;++y)b.push(["s",y,"=SS[",y,"]"].join(""));for(f=0;f<r.arrayArgs.length;++f){for(v.push("a"+f),v.push("t"+f),v.push("p"+f),y=0;y<n;++y)b.push(["t",f,"p",y,"=t",f,"[",l[f]+y,"]"].join(""));for(y=0;y<Math.abs(r.arrayBlockIndices[f]);++y)b.push(["t",f,"b",y,"=t",f,"[",c[f]+y,"]"].join(""))}for(f=0;f<r.scalarArgs.length;++f)v.push("Y"+f);if(r.shapeArgs.length>0&&b.push("shape=SS.slice(0)"),r.indexArgs.length>0){var m=new Array(n);for(f=0;f<n;++f)m[f]="0";b.push(["index=[",m.join(","),"]"].join(""))}for(f=0;f<r.offsetArgs.length;++f){var w=r.offsetArgs[f],j=[];for(y=0;y<w.offset.length;++y)0!==w.offset[y]&&(1===w.offset[y]?j.push(["t",w.array,"p",y].join("")):j.push([w.offset[y],"*t",w.array,"p",y].join("")));0===j.length?b.push("q"+f+"=0"):b.push(["q",f,"=",j.join("+")].join(""))}var A=e([].concat(r.pre.thisVars).concat(r.body.thisVars).concat(r.post.thisVars));for((b=b.concat(A)).length>0&&_.push("var "+b.join(",")),f=0;f<r.arrayArgs.length;++f)_.push("p"+f+"|=0");r.pre.body.length>3&&_.push(i(r.pre,r,u));var x=i(r.body,r,u),V=function(r){for(var t=0,n=r[0].length;t<n;){for(var e=1;e<r.length;++e)if(r[e][t]!==r[0][t])return t;++t}return t}(d);V<n?_.push(function(r,t,n,e){for(var i=t.length,o=n.arrayArgs.length,s=n.blockSize,u=n.indexArgs.length>0,f=[],c=0;c<o;++c)f.push(["var offset",c,"=p",c].join(""));for(c=r;c<i;++c)f.push(["for(var j"+c+"=SS[",t[c],"]|0;j",c,">0;){"].join("")),f.push(["if(j",c,"<",s,"){"].join("")),f.push(["s",t[c],"=j",c].join("")),f.push(["j",c,"=0"].join("")),f.push(["}else{s",t[c],"=",s].join("")),f.push(["j",c,"-=",s,"}"].join("")),u&&f.push(["index[",t[c],"]=j",c].join(""));for(c=0;c<o;++c){for(var h=["offset"+c],l=r;l<i;++l)h.push(["j",l,"*t",c,"p",t[l]].join(""));f.push(["p",c,"=(",h.join("+"),")"].join(""))}for(f.push(a(t,n,e)),c=r;c<i;++c)f.push("}");return f.join("\n")}(V,d[0],r,x)):_.push(a(d[0],r,x)),r.post.body.length>3&&_.push(i(r.post,r,u)),r.debug&&console.log("-----Generated cwise routine for ",t,":\n"+_.join("\n")+"\n----------");var I=[r.funcName||"unnamed","_cwise_loop_",s[0].join("s"),"m",V,o(u)].join("");return new Function(["function ",I,"(",v.join(","),"){",_.join("\n"),"} return ",I].join(""))()}},8390:(r,t,n)=>{"use strict";var e=n(8351);r.exports=function(r){var t=["'use strict'","var CACHED={}"],n=[],a=r.funcName+"_cwise_thunk";t.push(["return function ",a,"(",r.shimArgs.join(","),"){"].join(""));for(var i=[],o=[],s=[["array",r.arrayArgs[0],".shape.slice(",Math.max(0,r.arrayBlockIndices[0]),r.arrayBlockIndices[0]<0?","+r.arrayBlockIndices[0]+")":")"].join("")],u=[],f=[],c=0;c<r.arrayArgs.length;++c){var h=r.arrayArgs[c];n.push(["t",h,"=array",h,".dtype,","r",h,"=array",h,".order"].join("")),i.push("t"+h),i.push("r"+h),o.push("t"+h),o.push("r"+h+".join()"),s.push("array"+h+".data"),s.push("array"+h+".stride"),s.push("array"+h+".offset|0"),c>0&&(u.push("array"+r.arrayArgs[0]+".shape.length===array"+h+".shape.length+"+(Math.abs(r.arrayBlockIndices[0])-Math.abs(r.arrayBlockIndices[c]))),f.push("array"+r.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,r.arrayBlockIndices[0])+"]===array"+h+".shape[shapeIndex+"+Math.max(0,r.arrayBlockIndices[c])+"]"))}for(r.arrayArgs.length>1&&(t.push("if (!("+u.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),t.push("for(var shapeIndex=array"+r.arrayArgs[0]+".shape.length-"+Math.abs(r.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),t.push("if (!("+f.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),t.push("}")),c=0;c<r.scalarArgs.length;++c)s.push("scalar"+r.scalarArgs[c]);return n.push(["type=[",o.join(","),"].join()"].join("")),n.push("proc=CACHED[type]"),t.push("var "+n.join(",")),t.push(["if(!proc){","CACHED[type]=proc=compile([",i.join(","),"])}","return proc(",s.join(","),")}"].join("")),r.debug&&console.log("-----Generated thunk:\n"+t.join("\n")+"\n----------"),new Function("compile",t.join("\n"))(e.bind(void 0,r))}},8010:r=>{"use strict";function t(r,n,e){var a=0|r[e];if(a<=0)return[];var i,o=new Array(a);if(e===r.length-1)for(i=0;i<a;++i)o[i]=n;else for(i=0;i<a;++i)o[i]=t(r,n,e+1);return o}r.exports=function(r,n){switch(void 0===n&&(n=0),typeof r){case"number":if(r>0)return function(r,t){var n,e;for(n=new Array(r),e=0;e<r;++e)n[e]=t;return n}(0|r,n);break;case"object":if("number"==typeof r.length)return t(r,n,0)}return[]}},4819:(r,t)=>{"use strict";function n(r){return"object"!=typeof r||"toString"in r?r:Object.prototype.toString.call(r).slice(8,-1)}Object.defineProperty(t,"__esModule",{value:!0});var e="object"==typeof process&&!0;function a(r,t){if(!r){if(e)throw new Error("Invariant failed");throw new Error(t())}}t.invariant=a;var i=Object.prototype.hasOwnProperty,o=Array.prototype.splice,s=Object.prototype.toString;function u(r){return s.call(r).slice(8,-1)}var f=Object.assign||function(r,t){return c(t).forEach((function(n){i.call(t,n)&&(r[n]=t[n])})),r},c="function"==typeof Object.getOwnPropertySymbols?function(r){return Object.keys(r).concat(Object.getOwnPropertySymbols(r))}:function(r){return Object.keys(r)};function h(r){return Array.isArray(r)?f(r.constructor(r.length),r):"Map"===u(r)?new Map(r):"Set"===u(r)?new Set(r):r&&"object"==typeof r?f(Object.create(Object.getPrototypeOf(r)),r):r}var l=function(){function r(){this.commands=f({},p),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(r,t){return r===t},this.update.newContext=function(){return(new r).update}}return Object.defineProperty(r.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(r){this.update.isEquals=r},enumerable:!0,configurable:!0}),r.prototype.extend=function(r,t){this.commands[r]=t},r.prototype.update=function(r,t){var n=this,e="function"==typeof t?{$apply:t}:t;Array.isArray(r)&&Array.isArray(e)||a(!Array.isArray(e),(function(){return"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."})),a("object"==typeof e&&null!==e,(function(){return"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: "+Object.keys(n.commands).join(", ")+"."}));var o=r;return c(e).forEach((function(t){if(i.call(n.commands,t)){var a=r===o;o=n.commands[t](e[t],o,e,r),a&&n.isEquals(o,r)&&(o=r)}else{var s="Map"===u(r)?n.update(r.get(t),e[t]):n.update(r[t],e[t]),f="Map"===u(o)?o.get(t):o[t];n.isEquals(s,f)&&(void 0!==s||i.call(r,t))||(o===r&&(o=h(r)),"Map"===u(o)?o.set(t,s):o[t]=s)}})),o},r}();t.Context=l;var p={$push:function(r,t,n){return g(t,n,"$push"),r.length?t.concat(r):t},$unshift:function(r,t,n){return g(t,n,"$unshift"),r.length?r.concat(t):t},$splice:function(r,t,e,i){return function(r,t){a(Array.isArray(r),(function(){return"Expected $splice target to be an array; got "+n(r)})),v(t.$splice)}(t,e),r.forEach((function(r){v(r),t===i&&r.length&&(t=h(i)),o.apply(t,r)})),t},$set:function(r,t,n){return function(r){a(1===Object.keys(r).length,(function(){return"Cannot have more than one key in an object with $set"}))}(n),r},$toggle:function(r,t){y(r,"$toggle");var n=r.length?h(t):t;return r.forEach((function(r){n[r]=!t[r]})),n},$unset:function(r,t,n,e){return y(r,"$unset"),r.forEach((function(r){Object.hasOwnProperty.call(t,r)&&(t===e&&(t=h(e)),delete t[r])})),t},$add:function(r,t,n,e){return _(t,"$add"),y(r,"$add"),"Map"===u(t)?r.forEach((function(r){var n=r[0],a=r[1];t===e&&t.get(n)!==a&&(t=h(e)),t.set(n,a)})):r.forEach((function(r){t!==e||t.has(r)||(t=h(e)),t.add(r)})),t},$remove:function(r,t,n,e){return _(t,"$remove"),y(r,"$remove"),r.forEach((function(r){t===e&&t.has(r)&&(t=h(e)),t.delete(r)})),t},$merge:function(r,t,e,i){var o,s;return o=t,a((s=r)&&"object"==typeof s,(function(){return"update(): $merge expects a spec of type 'object'; got "+n(s)})),a(o&&"object"==typeof o,(function(){return"update(): $merge expects a target of type 'object'; got "+n(o)})),c(r).forEach((function(n){r[n]!==t[n]&&(t===i&&(t=h(i)),t[n]=r[n])})),t},$apply:function(r,t){var e;return a("function"==typeof(e=r),(function(){return"update(): expected spec of $apply to be a function; got "+n(e)+"."})),r(t)}},d=new l;function g(r,t,e){a(Array.isArray(r),(function(){return"update(): expected target of "+n(e)+" to be an array; got "+n(r)+"."})),y(t[e],e)}function y(r,t){a(Array.isArray(r),(function(){return"update(): expected spec of "+n(t)+" to be an array; got "+n(r)+". Did you forget to wrap your parameter in an array?"}))}function v(r){a(Array.isArray(r),(function(){return"update(): expected spec of $splice to be an array of arrays; got "+n(r)+". Did you forget to wrap your parameters in an array?"}))}function _(r,t){var e=u(r);a("Map"===e||"Set"===e,(function(){return"update(): "+n(t)+" expects a target of type Set or Map; got "+n(e)}))}t.isEquals=d.update.isEquals,t.extend=d.extend,t.default=d.update,t.default.default=r.exports=f(t.default,t)},7319:(r,t,n)=>{"use strict";var e=n(5885);function a(r){var t=(e.nextPow2(r+1)>>>1)-1,n=r-t;return e.nextPow2(n)-1>=t?t:(t>>>1)+n}function i(r,t){if(r<=0)return 0;var n=a(r);return t>n?i(r-n-1,t-n-1):t===n?e.log2(r):i(n,t)}t.root=a,t.begin=function(r){return 0},t.end=function(r){return r-1},t.height=i,t.prev=function(r,t){return Math.max(t-1,0)},t.next=function(r,t){return Math.min(t+1,r-1)},t.parent=function r(t,n){if(t<=0)return-1;var e,i=a(t);return n>i?(e=r(t-i-1,n-i-1))<0?i:e+i+1:n===i?-1:(e=r(i,n))<0?i:e},t.left=function r(t,n){if(t<=0)return 0;var e=a(t);return n>e?r(t-e-1,n-e-1)+e+1:n===e?a(n):r(e,n)},t.right=function r(t,n){if(t<=0)return 0;var e=a(t);return n>e?r(t-e-1,n-e-1)+e+1:n===e?a(t-e-1)+e+1:r(e,n)},t.leaf=function(r,t){return 0===i(r,t)},t.lo=function(r,t){r|=0,t|=0;for(var n=0;r>1;){var e=a(r);if(t>e)n+=e+1,r-=e+1,t-=e+1;else{if(t===e)break;r=e}}return n},t.hi=function(r,t){r|=0,t|=0;for(var n=0;r>1;){var e=a(r);if(t>e)n+=e+1,r-=e+1,t-=e+1;else{if(t===e){n+=r-1;break}r=e}}return n}},5885:(r,t)=>{"use strict";function n(r){var t=32;return(r&=-r)&&t--,65535&r&&(t-=16),16711935&r&&(t-=8),252645135&r&&(t-=4),858993459&r&&(t-=2),1431655765&r&&(t-=1),t}t.INT_BITS=32,t.INT_MAX=2147483647,t.INT_MIN=-1<<31,t.sign=function(r){return(r>0)-(r<0)},t.abs=function(r){var t=r>>31;return(r^t)-t},t.min=function(r,t){return t^(r^t)&-(r<t)},t.max=function(r,t){return r^(r^t)&-(r<t)},t.isPow2=function(r){return!(r&r-1||!r)},t.log2=function(r){var t,n;return t=(r>65535)<<4,t|=n=((r>>>=t)>255)<<3,t|=n=((r>>>=n)>15)<<2,(t|=n=((r>>>=n)>3)<<1)|(r>>>=n)>>1},t.log10=function(r){return r>=1e9?9:r>=1e8?8:r>=1e7?7:r>=1e6?6:r>=1e5?5:r>=1e4?4:r>=1e3?3:r>=100?2:r>=10?1:0},t.popCount=function(r){return 16843009*((r=(858993459&(r-=r>>>1&1431655765))+(r>>>2&858993459))+(r>>>4)&252645135)>>>24},t.countTrailingZeros=n,t.nextPow2=function(r){return r+=0===r,--r,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,1+(r|=r>>>16)},t.prevPow2=function(r){return r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,(r|=r>>>16)-(r>>>1)},t.parity=function(r){return r^=r>>>16,r^=r>>>8,r^=r>>>4,27030>>>(r&=15)&1};var e=new Array(256);!function(r){for(var t=0;t<256;++t){var n=t,e=t,a=7;for(n>>>=1;n;n>>>=1)e<<=1,e|=1&n,--a;r[t]=e<<a&255}}(e),t.reverse=function(r){return e[255&r]<<24|e[r>>>8&255]<<16|e[r>>>16&255]<<8|e[r>>>24&255]},t.interleave2=function(r,t){return(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r&=65535)|r<<8))|r<<4))|r<<2))|r<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))<<1},t.deinterleave2=function(r,t){return(r=65535&((r=16711935&((r=252645135&((r=858993459&((r=r>>>t&1431655765)|r>>>1))|r>>>2))|r>>>4))|r>>>16))<<16>>16},t.interleave3=function(r,t,n){return r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2),(r|=(t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2))<<1)|(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<2},t.deinterleave3=function(r,t){return(r=1023&((r=4278190335&((r=251719695&((r=3272356035&((r=r>>>t&1227133513)|r>>>2))|r>>>4))|r>>>8))|r>>>16))<<22>>22},t.nextCombination=function(r){var t=r|r-1;return t+1|(~t&-~t)-1>>>n(r)+1}},4885:r=>{"use strict";r.exports=function(r){for(var t=new Array(r),n=0;n<r;++n)t[n]=n;return t}},3335:r=>{function t(r){return!!r.constructor&&"function"==typeof r.constructor.isBuffer&&r.constructor.isBuffer(r)}r.exports=function(r){return null!=r&&(t(r)||function(r){return"function"==typeof r.readFloatLE&&"function"==typeof r.slice&&t(r.slice(0,0))}(r)||!!r._isBuffer)}},1614:(r,t,n)=>{"use strict";var e=n(8243),a={body:"",args:[],thisVars:[],localVars:[]};function i(r){if(!r)return a;for(var t=0;t<r.args.length;++t){var n=r.args[t];r.args[t]=0===t?{name:n,lvalue:!0,rvalue:!!r.rvalue,count:r.count||1}:{name:n,lvalue:!1,rvalue:!0,count:1}}return r.thisVars||(r.thisVars=[]),r.localVars||(r.localVars=[]),r}function o(r){for(var t=[],n=0;n<r.args.length;++n)t.push("a"+n);return new Function("P",["return function ",r.funcName,"_ndarrayops(",t.join(","),") {P(",t.join(","),");return a0}"].join(""))(function(r){return e({args:r.args,pre:i(r.pre),body:i(r.body),post:i(r.proc),funcName:r.funcName})}(r))}var s={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var r in s){var n=s[r];t[r]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+n+"c"},funcName:r}),t[r+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a"+n+"=b"},rvalue:!0,funcName:r+"eq"}),t[r+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+n+"s"},funcName:r+"s"}),t[r+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a"+n+"=s"},rvalue:!0,funcName:r+"seq"})}}();var u={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var r in u){var n=u[r];t[r]=o({args:["array","array"],body:{args:["a","b"],body:"a="+n+"b"},funcName:r}),t[r+"eq"]=o({args:["array"],body:{args:["a"],body:"a="+n+"a"},rvalue:!0,count:2,funcName:r+"eq"})}}();var f={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var r in f){var n=f[r];t[r]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+n+"c"},funcName:r}),t[r+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+n+"s"},funcName:r+"s"}),t[r+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a=a"+n+"b"},rvalue:!0,count:2,funcName:r+"eq"}),t[r+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+n+"s"},rvalue:!0,count:2,funcName:r+"seq"})}}();var c=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var r=0;r<c.length;++r){var n=c[r];t[n]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:n}),t[n+"eq"]=o({args:["array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"eq"})}}();var h=["max","min","atan2","pow"];!function(){for(var r=0;r<h.length;++r){var n=h[r];t[n]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:n}),t[n+"s"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:n+"s"}),t[n+"eq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"eq"}),t[n+"seq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"seq"})}}();var l=["atan2","pow"];!function(){for(var r=0;r<l.length;++r){var n=l[r];t[n+"op"]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:n+"op"}),t[n+"ops"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:n+"ops"}),t[n+"opeq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"opeq"}),t[n+"opseq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"opseq"})}}(),t.any=e({args:["array"],pre:a,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),t.all=e({args:["array"],pre:a,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),t.sum=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),t.prod=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),t.norm2squared=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),t.norm2=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),t.norminf=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),t.norm1=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),t.sup=e({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),t.inf=e({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),t.argmin=e({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),t.argmax=e({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),t.random=o({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),t.assign=o({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),t.assigns=o({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),t.equals=e({args:["array","array"],pre:a,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},3290:(r,t,n)=>{"use strict";var e=n(7887),a=n(3708);r.exports=function(r,t){for(var n=[],i=r,o=1;Array.isArray(i);)n.push(i.length),o*=i.length,i=i[0];return 0===n.length?e():(t||(t=e(new Float64Array(o),n)),a(t,r),t)}},3708:(r,t,n)=>{r.exports=n(8243)({args:["array","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{\nvar _inline_1_v=_inline_1_arg1_,_inline_1_i\nfor(_inline_1_i=0;_inline_1_i<_inline_1_arg2_.length-1;++_inline_1_i) {\n_inline_1_v=_inline_1_v[_inline_1_arg2_[_inline_1_i]]\n}\n_inline_1_arg0_=_inline_1_v[_inline_1_arg2_[_inline_1_arg2_.length-1]]\n}",args:[{name:"_inline_1_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:4}],thisVars:[],localVars:["_inline_1_i","_inline_1_v"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},funcName:"convert",blockSize:64})},1785:(r,t,n)=>{"use strict";var e=n(7887),a=n(1614),i=n(6718);t.clone=function(r){var t=r.dtype;"generic"!==t&&"array"!==t||(t="double");var n=i.malloc(r.size,t),o=e(n,r.shape);return a.assign(o,r),o},t.malloc=function(r,t){t||(t="double");for(var n=1,a=new Array(r.length),o=r.length-1;o>=0;--o)a[o]=n,n*=r[o];return e(i.malloc(n,t),r,a,0)},t.free=function(r){"generic"!==r.dtype&&"array"!==r.dtype&&i.free(r.data)},t.zeros=function(r,t){t||(t="double");for(var n=1,a=new Array(r.length),o=r.length-1;o>=0;--o)a[o]=n,n*=r[o];var s=i.malloc(n,t);for(o=0;o<n;++o)s[o]=0;return e(s,r,a,0)},t.ones=function(r,t){t||(t="double");for(var n=1,a=new Array(r.length),o=r.length-1;o>=0;--o)a[o]=n,n*=r[o];var s=i.malloc(n,t);for(o=0;o<n;++o)s[o]=1;return e(s,r,a,0)},t.eye=function(r,t){var n,a;t||(t="double");var o=1,s=new Array(r.length);for(n=r.length-1;n>=0;--n)s[n]=o,o*=r[n];var u=i.malloc(o,t);for(n=0;n<o;++n)u[n]=0;var f=1/0,c=0;for(n=r.length-1;n>=0;n--)c+=s[n],f=Math.min(f,r[n]);for(n=0,a=0;n<f;n++,a+=c)u[a]=1;return e(u,r,s,0)}},3822:r=>{"use strict";r.exports=function(r,t,n){if(t|=0,0===r.dimension||r.shape[0]<=t||t<0)return null;var e=!!n,a=g(r.order,e,r.dtype);return e?a(r,t,n):a(r,t)},r.exports.compile=g;var t="d",n="o",e="T",a="L",i="H",o="X";function s(r){return"s"+r}function u(r){return"t"+r}function f(r){return"u"+r}function c(r){return"v"+r}function h(r){return"i"+r}function l(r){return"p"+r}function p(r){return"x"+r}var d={};function g(r,g,y){var v=r.join()+g+y;return d[v]||(d[v]=function(r,d,g){var y=(r=function(r){var t=r.slice();return t.splice(r.indexOf(0),1),t.unshift(0),t}(r)).length,v="generic"===g,_="ndSelect"+g+r.join("_")+"_"+(d?"cmp":"lex"),b=[],m=["a","K"];d&&m.push("C");for(var w=["d=a.data","o=a.offset|0","R=Math.random",e],j=0;j<2;++j)w.push(p(j)+"=0");for(j=0;j<y;++j)w.push(s(j)+"=a.shape["+j+"]|0",u(j)+"=a.stride["+j+"]|0",h(j)+"=0");for(j=1;j<y;++j)j>1?w.push(c(j)+"=("+u(j)+"-"+s(j-1)+"*"+u(j-1)+")|0",f(r[j])+"=("+u(r[j])+"-"+s(r[j-1])+"*"+u(r[j-1])+")|0"):w.push(c(j)+"="+u(j),f(r[j])+"="+u(r[j]));if(d)for(j=0;j<2;++j)w.push(l(j)+"=a.pick(0)");function A(a,i){b.push(p(0),"=",n,"+",u(r[0]),"*(",a,");",p(1),"=",n,"+",u(r[0]),"*(",i,");");for(var o=y-1;o>0;--o)b.push("for(",h(r[o]),"=0;",h(r[o]),"<",s(r[o]),";",h(r[o]),"++){");for(v?b.push(e,"=",t,".get(",p(0),");",t,".set(",p(0),",",t,".get(",p(1),"));",t,".set(",p(1),",",e,");"):b.push(e,"=",t,"[",p(0),"];",t,"[",p(0),"]=",t,"[",p(1),"];",t,"[",p(1),"]=",e,";"),o=1;o<y;++o)b.push(p(0),"+=",f(r[o]),";",p(1),"+=",f(r[o]),"}")}w.push("X=0","L=0","H="+s(r[0])+"-1"),b.push("while(",a,"<",i,"){",o,"=(","R","()*(",i,"-",a,"+1)+",a,")|0;"),A(o,i),b.push(o,"=",a,";","for(",h(0),"=",a,";",h(0),"<",i,";",h(0),"++){"),function(e,a,i){if(d)b.push(l(0),".offset=",n,"+",u(r[0]),"*(",a,");",l(1),".offset=",n,"+",u(r[0]),"*(","H",");",e,"=","C","(",l(0),",",l(1),");");else{b.push(p(0),"=",n,"+",u(0),"*(",a,");",p(1),"=",n,"+",u(0),"*(","H",");"),y>1&&b.push("_cmp:");for(var o=y-1;o>0;--o)b.push("for(",h(o),"=0;",h(o),"<",s(o),";",h(o),"++){");for(v?b.push(e,"=",t,".get(",p(0),")-",t,".get(",p(1),");"):b.push(e,"=",t,"[",p(0),"]-",t,"[",p(1),"];"),y>1&&b.push("if(",e,")break _cmp;"),o=1;o<y;++o)b.push(p(0),"+=",c(o),";",p(1),"+=",c(o),"}")}}(e,h(0)),b.push("if(",e,"<0){"),A(o,h(0)),b.push(o,"++;"),b.push("}}"),A(o,i),b.push("if(",o,"===","K","){",a,"=",o,";","break;","}else if(","K","<",o,"){",i,"=",o,"-1;","}else{",a,"=",o,"+1;","}","}"),d?b.push(l(0),".offset=",n,"+",a,"*",u(0),";","return ",l(0),";"):b.push("return ","a",".pick(",a,");");var x=["'use strict';function ",_,"(",m,"){","var ",w.join(),";",b.join(""),"};return ",_].join("");return new Function(x)()}(r,g,y))}},7887:(r,t,n)=>{var e=n(4885),a=n(3335),i="undefined"!=typeof Float64Array;function o(r,t){return r[0]-t[0]}function s(){var r,t=this.stride,n=new Array(t.length);for(r=0;r<n.length;++r)n[r]=[Math.abs(t[r]),r];n.sort(o);var e=new Array(n.length);for(r=0;r<e.length;++r)e[r]=n[r][1];return e}function u(r,t){var n=["View",t,"d",r].join("");t<0&&(n="View_Nil"+r);var a="generic"===r;if(-1===t){var i="function "+n+"(a){this.data=a;};var proto="+n+".prototype;proto.dtype='"+r+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+n+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+n+"(a){return new "+n+"(a);}";return new Function(i)()}if(0===t)return i="function "+n+"(a,d) {this.data = a;this.offset = d};var proto="+n+".prototype;proto.dtype='"+r+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+n+"_copy() {return new "+n+"(this.data,this.offset)};proto.pick=function "+n+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+n+"_get(){return "+(a?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+n+"_set(v){return "+(a?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+n+"(a,b,c,d){return new "+n+"(a,d)}",new Function("TrivialArray",i)(f[r][0]);i=["'use strict'"];var o=e(t),u=o.map((function(r){return"i"+r})),c="this.offset+"+o.map((function(r){return"this.stride["+r+"]*i"+r})).join("+"),h=o.map((function(r){return"b"+r})).join(","),l=o.map((function(r){return"c"+r})).join(",");i.push("function "+n+"(a,"+h+","+l+",d){this.data=a","this.shape=["+h+"]","this.stride=["+l+"]","this.offset=d|0}","var proto="+n+".prototype","proto.dtype='"+r+"'","proto.dimension="+t),i.push("Object.defineProperty(proto,'size',{get:function "+n+"_size(){return "+o.map((function(r){return"this.shape["+r+"]"})).join("*"),"}})"),1===t?i.push("proto.order=[0]"):(i.push("Object.defineProperty(proto,'order',{get:"),t<4?(i.push("function "+n+"_order(){"),2===t?i.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===t&&i.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):i.push("ORDER})")),i.push("proto.set=function "+n+"_set("+u.join(",")+",v){"),a?i.push("return this.data.set("+c+",v)}"):i.push("return this.data["+c+"]=v}"),i.push("proto.get=function "+n+"_get("+u.join(",")+"){"),a?i.push("return this.data.get("+c+")}"):i.push("return this.data["+c+"]}"),i.push("proto.index=function "+n+"_index(",u.join(),"){return "+c+"}"),i.push("proto.hi=function "+n+"_hi("+u.join(",")+"){return new "+n+"(this.data,"+o.map((function(r){return["(typeof i",r,"!=='number'||i",r,"<0)?this.shape[",r,"]:i",r,"|0"].join("")})).join(",")+","+o.map((function(r){return"this.stride["+r+"]"})).join(",")+",this.offset)}");var p=o.map((function(r){return"a"+r+"=this.shape["+r+"]"})),d=o.map((function(r){return"c"+r+"=this.stride["+r+"]"}));i.push("proto.lo=function "+n+"_lo("+u.join(",")+"){var b=this.offset,d=0,"+p.join(",")+","+d.join(","));for(var g=0;g<t;++g)i.push("if(typeof i"+g+"==='number'&&i"+g+">=0){d=i"+g+"|0;b+=c"+g+"*d;a"+g+"-=d}");for(i.push("return new "+n+"(this.data,"+o.map((function(r){return"a"+r})).join(",")+","+o.map((function(r){return"c"+r})).join(",")+",b)}"),i.push("proto.step=function "+n+"_step("+u.join(",")+"){var "+o.map((function(r){return"a"+r+"=this.shape["+r+"]"})).join(",")+","+o.map((function(r){return"b"+r+"=this.stride["+r+"]"})).join(",")+",c=this.offset,d=0,ceil=Math.ceil"),g=0;g<t;++g)i.push("if(typeof i"+g+"==='number'){d=i"+g+"|0;if(d<0){c+=b"+g+"*(a"+g+"-1);a"+g+"=ceil(-a"+g+"/d)}else{a"+g+"=ceil(a"+g+"/d)}b"+g+"*=d}");i.push("return new "+n+"(this.data,"+o.map((function(r){return"a"+r})).join(",")+","+o.map((function(r){return"b"+r})).join(",")+",c)}");var y=new Array(t),v=new Array(t);for(g=0;g<t;++g)y[g]="a[i"+g+"]",v[g]="b[i"+g+"]";for(i.push("proto.transpose=function "+n+"_transpose("+u+"){"+u.map((function(r,t){return r+"=("+r+"===undefined?"+t+":"+r+"|0)"})).join(";"),"var a=this.shape,b=this.stride;return new "+n+"(this.data,"+y.join(",")+","+v.join(",")+",this.offset)}"),i.push("proto.pick=function "+n+"_pick("+u+"){var a=[],b=[],c=this.offset"),g=0;g<t;++g)i.push("if(typeof i"+g+"==='number'&&i"+g+">=0){c=(c+this.stride["+g+"]*i"+g+")|0}else{a.push(this.shape["+g+"]);b.push(this.stride["+g+"])}");return i.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),i.push("return function construct_"+n+"(data,shape,stride,offset){return new "+n+"(data,"+o.map((function(r){return"shape["+r+"]"})).join(",")+","+o.map((function(r){return"stride["+r+"]"})).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",i.join("\n"))(f[r],s)}var f={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};r.exports=function(r,t,n,e){if(void 0===r)return(0,f.array[0])([]);"number"==typeof r&&(r=[r]),void 0===t&&(t=[r.length]);var o=t.length;if(void 0===n){n=new Array(o);for(var s=o-1,c=1;s>=0;--s)n[s]=c,c*=t[s]}if(void 0===e)for(e=0,s=0;s<o;++s)n[s]<0&&(e-=(t[s]-1)*n[s]);for(var h=function(r){if(a(r))return"buffer";if(i)switch(Object.prototype.toString.call(r)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(r)?"array":"generic"}(r),l=f[h];l.length<=o+1;)l.push(u(h,l.length-1));return(0,l[o+1])(r,t,n,e)}},9369:(r,t,n)=>{"use strict";n.d(t,{x:()=>o});var e=n(9676),a=n(1118),i=n(7394);function o(r,t){return void 0===t&&(t=e.y),r=null!=r?r:s,(0,a.e)((function(n,e){var a,o=!0;n.subscribe((0,i.x)(e,(function(n){var i=t(n);!o&&r(a,i)||(o=!1,a=i,e.next(n))})))}))}function s(r,t){return r===t}},1927:(r,t,n)=>{"use strict";r.exports=function(r){var t,n,h;if(Array.isArray(r)){if(0===(t=r.length))return new l(null,null,0,0);n=r[0].length,h=e(u.mallocDouble(t*(n+1)),[t,n+1]),i(r,h.hi(t,n))}else{t=r.shape[0],n=r.shape[1];var p=r.dtype;p="int8"===p||"int16"===p||"int32"===p?"int32":"uint8"===p||"uint8_clamped"===p||"buffer"===p||"uint16"===p||"uint32"===p?"uint32":"float32"===p?"float32":"float64",h=e(u.malloc(t*(n+1),p),[t,n+1]),o.assign(h.hi(t,n),r)}for(var g=0;g<t;++g)h.set(g,n,g);var y=s.malloc([t,n],r.dtype),v=u.mallocInt32(t),_=0,b=y.data,m=h.data,w=(c.log2(c.nextPow2(t)),a.compile(h.order,!0,h.dtype)),j=new d;for(j.push(h);_<t;){var A=j.pop(),x=0|A.shape[0];if(x>1){var V,I=c.log2(_+1)%n,k=f.root(x);V=w(A,k,(function(r,t){return r.get(I)-t.get(I)}));var N=y.index(_,0),M=V.offset;for(g=0;g<n;++g)b[N++]=m[M++];v[_]=m[M],_+=1,j.push(A.hi(k)),x>2&&j.push(A.lo(k+1))}else{for(M=A.offset,N=y.index(_,0),g=0;g<n;++g)b[N+g]=m[M++];v[_]=m[M],_+=1}}return u.free(h.data),new l(y,v,t,n)},r.exports.deserialize=function(r){var t=r.p,n=r.i;if(t){for(var a=t.length,i=u.mallocFloat64(a),o=0;o<a;++o)i[o]=t[o];var s=n.length,f=u.mallocInt32(s);for(o=0;o<s;++o)f[o]=n[o];var c=a/s|0;return new l(e(i,[s,c]),f,s,c)}return new l(null,null,0,r.d)};var e=n(7887),a=n(3822),i=n(3290),o=n(1614),s=n(1785),u=n(6718),f=n(7319),c=n(6025),h=n(4508);function l(r,t,n,e){this.points=r,this.ids=t,this.dimension=e,this.length=n}var p=l.prototype;function d(){this.data=[],this.offset=0}p.serialize=function(){return this.length>0?{p:Array.prototype.slice.call(this.points.data,0,this.length*this.dimension),i:Array.prototype.slice.call(this.ids,0,this.length)}:{d:this.dimension}},p.range=function(r,t,n){var e=this.length;if(!(e<1)){for(var a=this.dimension,o=0;o<a;++o)if(t[o]<r[o])return;var f,h=this.points,l=this.ids,p=s.malloc([e,2,a]),d=u.mallocInt32(e),g=p.data,y=h.data,v=1,_=0;for(d[0]=0,i(r,p.pick(0,0)),i(t,p.pick(0,1));_<v;){var b=d[_],m=c.log2(b+1)%a,w=p.index(_,0,0),j=p.index(_,1,0),A=h.index(b,0),x=!0;for(o=0;o<a;++o){var V=y[A+o];if(V<g[w+o]||g[j+o]<V){x=!1;break}}if(x&&void 0!==(f=n(l[b])))break;var I=y[A+m],k=g[j+m],N=g[w+m];if(N<=I){var M=2*b+1;if(M<e){d[v]=M;var T=p.index(v,0,0);for(o=0;o<a;++o)g[T+o]=g[w+o];var E=p.index(v,1,0);for(o=0;o<a;++o)g[E+o]=g[j+o];g[E+m]=Math.min(k,I),v+=1}}if(I<=k){var B=2*(b+1);if(B<e){for(d[v]=B,T=p.index(v,0,0),o=0;o<a;++o)g[T+o]=g[w+o];for(E=p.index(v,1,0),o=0;o<a;++o)g[E+o]=g[j+o];g[T+m]=Math.max(N,I),v+=1}}_+=1}return s.free(p),u.free(d),f}},p.rnn=function(r,t,n){if(!(t<0)){var e=this.length;if(!(e<1)){var a,i=this.dimension,o=this.points,f=this.ids,h=s.malloc([e,i]),l=u.mallocInt32(e),p=h.data,d=o.data,g=1,y=0,v=t*t;l[0]=0;for(var _=0;_<i;++_)h.set(0,_,0);for(;y<g;){var b=l[y],m=o.index(b,0),w=0;for(_=0;_<i;++_)w+=Math.pow(r[_]-d[m+_],2);if(w<=v&&void 0!==(a=n(f[b])))break;var j=c.log2(b+1)%i,A=0,x=h.index(y,0);for(_=0;_<i;++_)_!==j&&(A+=p[x+_]);var V=r[j],I=d[m+j],k=p[x+j],N=k,M=k;V<I?M=Math.max(k,Math.pow(I-V,2)):N=Math.max(k,Math.pow(I-V,2));var T=M+A;if(N+A<=v){var E=2*b+1;if(E<e){l[g]=E;var B=h.index(g,0);for(_=0;_<i;++_)p[B+_]=p[x+_];p[B+j]=N,g+=1}}if(T<=v){var S=2*(b+1);if(S<e){for(l[g]=S,B=h.index(g,0),_=0;_<i;++_)p[B+_]=p[x+_];p[B+j]=M,g+=1}}y+=1}return s.free(h),u.free(l),a}}},p.nn=function(r,t){var n=this.length;if(n<1)return-1;if("number"==typeof t){if(t<0)return-1}else t=1/0;var e=this.dimension,a=this.points,i=a.data,o=u.mallocFloat64(e),s=new h(n,e+1),f=s.index,l=s.data;f[0]=0;for(var p=0;p<=e;++p)l[p]=0;s.count+=1;for(var d=-1,g=t;s.count>0&&!(l[0]>=g);){var y=f[0],v=a.index(y,0),_=0;for(p=0;p<e;++p)_+=Math.pow(r[p]-i[v+p],2);_<g&&(g=_,d=y);var b=c.log2(y+1)%e,m=0;for(p=0;p<e;++p){var w=l[p+1];p!==b&&(m+=w),o[p]=w}var j=r[b],A=i[v+b],x=o[b],V=x,I=x;j<A?I=Math.max(x,Math.pow(A-j,2)):V=Math.max(x,Math.pow(A-j,2));var k=V+m,N=I+m;if(s.pop(),k<g){var M=2*y+1;if(M<n){for(f[E=s.count]=M,l[B=E*(e+1)]=k,p=1;p<=e;++p)l[B+p]=o[p-1];l[B+b+1]=V,s.push()}}if(N<g){var T=2*(y+1);if(T<n){var E,B;for(f[E=s.count]=T,l[B=E*(e+1)]=N,p=1;p<=e;++p)l[B+p]=o[p-1];l[B+b+1]=I,s.push()}}}return u.freeFloat64(o),s.dispose(),d<0?-1:this.ids[d]},p.knn=function(r,t,n){if("number"==typeof n){if(n<0)return[]}else n=1/0;var e=this.length;if(e<1)return[];if("number"==typeof t){if(t<=0)return[];t=0|Math.min(t,e)}else t=e;var a=this.ids,i=this.dimension,o=this.points,s=o.data,f=u.mallocFloat64(i),l=new h(t,1),p=l.index,d=l.data,g=new h(e,i+1),y=g.index,v=g.data;y[0]=0;for(var _=0;_<=i;++_)v[_]=0;g.count+=1;for(var b=n;g.count>0&&!(v[0]>=b);){var m=y[0],w=o.index(m,0),j=0;for(_=0;_<i;++_)j+=Math.pow(r[_]-s[w+_],2);if(j<b){l.count>=t&&l.pop();var A=l.count;p[A]=m,d[A]=-j,l.push(),l.count>=t&&(b=-d[0])}var x=c.log2(m+1)%i,V=0;for(_=0;_<i;++_){var I=v[_+1];_!==x&&(V+=I),f[_]=I}var k=r[x],N=s[w+x],M=f[x],T=M,E=M;k<N?E=Math.max(M,Math.pow(N-k,2)):T=Math.max(M,Math.pow(N-k,2));var B=T+V,S=E+V;if(g.pop(),B<b){var O=2*m+1;if(O<e){for(y[q=g.count]=O,v[F=q*(i+1)]=B,_=1;_<=i;++_)v[F+_]=f[_-1];v[F+x+1]=T,g.push()}}if(S<b){var U=2*(m+1);if(U<e){var q,F;for(y[q=g.count]=U,v[F=q*(i+1)]=S,_=1;_<=i;++_)v[F+_]=f[_-1];v[F+x+1]=E,g.push()}}}u.freeFloat64(f),g.dispose();var C=new Array(l.count);for(a=this.ids,_=l.count-1;_>=0;--_)C[_]=a[p[0]],l.pop();return l.dispose(),C},p.dispose=function(){u.free(this.points.data),u.freeInt32(this.ids),this.points=null,this.ids=null,this.length=0},d.prototype.size=function(){return this.data.length-this.offset},d.prototype.push=function(r){return this.data.push(r)},d.prototype.pop=function(){if(0!==this.size()){var r=this.data[this.offset];return this.offset++,this.data.length>1024&&2*this.offset>this.data.length&&(this.data=this.data.slice(this.offset),this.offset=0),r}}},4508:(r,t,n)=>{"use strict";r.exports=i;var e=n(6718);function a(r){return 1&r?r-1>>1:(r>>1)-1}function i(r,t){this.count=0,this.dataSize=t,this.index=e.mallocInt32(r),this.data=e.mallocFloat64(r*t)}var o=i.prototype;o.heapSwap=function(r,t){var n=this.data,e=this.index,a=this.dataSize,i=e[r];e[r]=e[t],e[t]=i;for(var o=a*r,s=a*t,u=0;u<a;++u){var f=n[o];n[o]=n[s],n[s]=f,o+=1,s+=1}},o.heapUp=function(r){for(var t=this.dataSize,n=(this.index,this.data),e=n[t*r];r>0;){var i=a(r);if(!(i>=0&&e<n[t*i]))break;this.heapSwap(r,i),r=i}},o.heapDown=function(r){for(var t=this.dataSize,n=(this.index,this.data),e=this.count,a=n[t*r];;){var i=a,o=2*r+1,s=2*(r+1),u=r;if(o<e){var f=n[t*o];f<i&&(u=o,i=f)}if(s<e&&n[t*s]<i&&(u=s),u===r)break;this.heapSwap(r,u),r=u}},o.pop=function(){this.count-=1,this.heapSwap(0,this.count),this.heapDown(0)},o.push=function(){this.heapUp(this.count),this.count+=1},o.dispose=function(){e.freeInt32(this.index),e.freeFloat64(this.data)}},6718:(r,t,n)=>{"use strict";var e=n(6025),a=n(8010),i=n(8834).Buffer;n.g.__TYPEDARRAY_POOL||(n.g.__TYPEDARRAY_POOL={UINT8:a([32,0]),UINT16:a([32,0]),UINT32:a([32,0]),BIGUINT64:a([32,0]),INT8:a([32,0]),INT16:a([32,0]),INT32:a([32,0]),BIGINT64:a([32,0]),FLOAT:a([32,0]),DOUBLE:a([32,0]),DATA:a([32,0]),UINT8C:a([32,0]),BUFFER:a([32,0])});var o="undefined"!=typeof Uint8ClampedArray,s="undefined"!=typeof BigUint64Array,u="undefined"!=typeof BigInt64Array,f=n.g.__TYPEDARRAY_POOL;f.UINT8C||(f.UINT8C=a([32,0])),f.BIGUINT64||(f.BIGUINT64=a([32,0])),f.BIGINT64||(f.BIGINT64=a([32,0])),f.BUFFER||(f.BUFFER=a([32,0]));var c=f.DATA,h=f.BUFFER;function l(r){if(r){var t=r.length||r.byteLength,n=e.log2(t);c[n].push(r)}}function p(r){r=e.nextPow2(r);var t=e.log2(r),n=c[t];return n.length>0?n.pop():new ArrayBuffer(r)}function d(r){return new Uint8Array(p(r),0,r)}function g(r){return new Uint16Array(p(2*r),0,r)}function y(r){return new Uint32Array(p(4*r),0,r)}function v(r){return new Int8Array(p(r),0,r)}function _(r){return new Int16Array(p(2*r),0,r)}function b(r){return new Int32Array(p(4*r),0,r)}function m(r){return new Float32Array(p(4*r),0,r)}function w(r){return new Float64Array(p(8*r),0,r)}function j(r){return o?new Uint8ClampedArray(p(r),0,r):d(r)}function A(r){return s?new BigUint64Array(p(8*r),0,r):null}function x(r){return u?new BigInt64Array(p(8*r),0,r):null}function V(r){return new DataView(p(r),0,r)}function I(r){r=e.nextPow2(r);var t=e.log2(r),n=h[t];return n.length>0?n.pop():new i(r)}t.free=function(r){if(i.isBuffer(r))h[e.log2(r.length)].push(r);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(r)&&(r=r.buffer),!r)return;var t=r.length||r.byteLength,n=0|e.log2(t);c[n].push(r)}},t.freeUint8=t.freeUint16=t.freeUint32=t.freeBigUint64=t.freeInt8=t.freeInt16=t.freeInt32=t.freeBigInt64=t.freeFloat32=t.freeFloat=t.freeFloat64=t.freeDouble=t.freeUint8Clamped=t.freeDataView=function(r){l(r.buffer)},t.freeArrayBuffer=l,t.freeBuffer=function(r){h[e.log2(r.length)].push(r)},t.malloc=function(r,t){if(void 0===t||"arraybuffer"===t)return p(r);switch(t){case"uint8":return d(r);case"uint16":return g(r);case"uint32":return y(r);case"int8":return v(r);case"int16":return _(r);case"int32":return b(r);case"float":case"float32":return m(r);case"double":case"float64":return w(r);case"uint8_clamped":return j(r);case"bigint64":return x(r);case"biguint64":return A(r);case"buffer":return I(r);case"data":case"dataview":return V(r);default:return null}return null},t.mallocArrayBuffer=p,t.mallocUint8=d,t.mallocUint16=g,t.mallocUint32=y,t.mallocInt8=v,t.mallocInt16=_,t.mallocInt32=b,t.mallocFloat32=t.mallocFloat=m,t.mallocFloat64=t.mallocDouble=w,t.mallocUint8Clamped=j,t.mallocBigUint64=A,t.mallocBigInt64=x,t.mallocDataView=V,t.mallocBuffer=I,t.clearCache=function(){for(var r=0;r<32;++r)f.UINT8[r].length=0,f.UINT16[r].length=0,f.UINT32[r].length=0,f.INT8[r].length=0,f.INT16[r].length=0,f.INT32[r].length=0,f.FLOAT[r].length=0,f.DOUBLE[r].length=0,f.BIGUINT64[r].length=0,f.BIGINT64[r].length=0,f.UINT8C[r].length=0,c[r].length=0,h[r].length=0}},231:r=>{"use strict";r.exports=function(r,t,n){return 0===r.length?r:t?(n||r.sort(t),function(r,t){for(var n=1,e=r.length,a=r[0],i=r[0],o=1;o<e;++o)if(i=a,t(a=r[o],i)){if(o===n){n++;continue}r[n++]=a}return r.length=n,r}(r,t)):(n||r.sort(),function(r){for(var t=1,n=r.length,e=r[0],a=r[0],i=1;i<n;++i,a=e)if(a=e,(e=r[i])!==a){if(i===t){t++;continue}r[t++]=e}return r.length=t,r}(r))}},9561:(r,t,n)=>{"use strict";n.d(t,{Z:()=>o});var e=n(2784),a={},i=function(r,t,n){return a[r]||(a[r]={callbacks:[],value:n}),a[r].callbacks.push(t),{deregister:function(){var n=a[r].callbacks,e=n.indexOf(t);e>-1&&n.splice(e,1)},emit:function(n){a[r].value!==n&&(a[r].value=n,a[r].callbacks.forEach((function(r){t!==r&&r(n)})))}}};function o(r,t){if(void 0===t&&(t=void 0!==n.g&&n.g.localStorage?n.g.localStorage:"undefined"!=typeof globalThis&&globalThis.localStorage?globalThis.localStorage:"undefined"!=typeof window&&window.localStorage?window.localStorage:"undefined"!=typeof localStorage?localStorage:null),t){var a=(o=t,{get:function(r,t){var n=o.getItem(r);return null==n?"function"==typeof t?t():t:JSON.parse(n)},set:function(r,t){o.setItem(r,JSON.stringify(t))}});return function(t){return function(r,t,a){var o=a.get,s=a.set,u=(0,e.useRef)(null),f=(0,e.useState)((function(){return o(t,r)})),c=f[0],h=f[1];(function(r,t,a,i){void 0===a&&(a=n.g),void 0===i&&(i={});var o=(0,e.useRef)(),s=i.capture,u=i.passive,f=i.once;(0,e.useEffect)((function(){o.current=t}),[t]),(0,e.useEffect)((function(){if(a&&a.addEventListener){var t=function(r){return o.current(r)},n={capture:s,passive:u,once:f};return a.addEventListener(r,t,n),function(){a.removeEventListener(r,t,n)}}}),[r,a,s,u,f])})("storage",(function(r){if(r.key===t){var n=JSON.parse(r.newValue);c!==n&&h(n)}})),(0,e.useEffect)((function(){return u.current=i(t,h,r),function(){u.current.deregister()}}),[r,t]);var l=(0,e.useCallback)((function(r){var n="function"==typeof r?r(c):r;s(t,n),h(n),u.current.emit(r)}),[c,s,t]);return[c,l]}(t,r,a)}}var o;return e.useState}}}]);
//# sourceMappingURL=168.js.map