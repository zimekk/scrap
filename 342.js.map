{"version":3,"file":"342.js","mappings":"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","sources":["webpack://@dev/web/../../node_modules/@darthmaim/barcode/lib/ean13.js","webpack://@dev/web/../../node_modules/@darthmaim/barcode/lib/ean8.js","webpack://@dev/web/../../node_modules/@darthmaim/barcode/lib/helper.js","webpack://@dev/web/../../node_modules/@darthmaim/barcode/lib/index.js","webpack://@dev/web/../../node_modules/@darthmaim/react-barcode/lib/index.js","webpack://@dev/web/./src/containers/Products/Barcode/index.tsx","webpack://@dev/web/./src/containers/Products/utils.ts","webpack://@dev/web/./src/containers/Products/styles.module.scss?9960","webpack://@dev/web/./src/containers/Products/index.tsx","webpack://@dev/web/./src/containers/useDebounce.ts","webpack://@dev/web/./src/containers/Products/styles.module.scss","webpack://@dev/web/../../node_modules/react/cjs/react-jsx-runtime.production.min.js","webpack://@dev/web/../../node_modules/react/jsx-runtime.js","webpack://@dev/web/../../node_modules/rxjs/dist/esm5/internal/operators/debounceTime.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.encode = exports.isValid = exports.checkdigit = void 0;\nconst helper_1 = require(\"./helper\");\nfunction checkdigit(value) {\n    const sum = value.substring(0, 12)\n        .split('')\n        .map((n) => Number(n))\n        .reduce((sum, digit, index) => {\n        return sum + (digit * (index % 2 ? 3 : 1));\n    });\n    return ((10 - (sum % 10)) % 10).toString();\n}\nexports.checkdigit = checkdigit;\nconst REGEX = /^[0-9]{13}$/;\nfunction isValid(value) {\n    return REGEX.test(value) && checkdigit(value) === value[12];\n}\nexports.isValid = isValid;\nfunction encode(value) {\n    if (!isValid(value)) {\n        throw new Error('Invalid EAN13 code');\n    }\n    const [left, right] = Structure[value[0]];\n    const leftValue = value.substring(1, 7);\n    const rightValue = value.substring(7, 13);\n    const groups = [\n        { type: 'quietZone', text: value[0], width: 11 },\n        Object.assign({ type: 'marker' }, (0, helper_1.dataWithWidth)('101')),\n        Object.assign(Object.assign({ type: 'data' }, (0, helper_1.dataWithWidth)(leftValue.split('').map((digit, index) => helper_1.Encoding[digit][left[index]]).join(''))), { text: leftValue }),\n        Object.assign({ type: 'marker' }, (0, helper_1.dataWithWidth)('01010')),\n        Object.assign(Object.assign({ type: 'data' }, (0, helper_1.dataWithWidth)(rightValue.split('').map((digit, index) => helper_1.Encoding[digit][right[index]]).join(''))), { text: rightValue }),\n        Object.assign({ type: 'marker' }, (0, helper_1.dataWithWidth)('101')),\n        { type: 'quietZone', width: 7 }\n    ];\n    return {\n        width: groups.reduce((width, group) => width + group.width, 0),\n        groups,\n    };\n}\nexports.encode = encode;\nconst Structure = {\n    '0': ['LLLLLL', 'RRRRRR'],\n    '1': ['LLGLGG', 'RRRRRR'],\n    '2': ['LLGGLG', 'RRRRRR'],\n    '3': ['LLGGGL', 'RRRRRR'],\n    '4': ['LGLLGG', 'RRRRRR'],\n    '5': ['LGGLLG', 'RRRRRR'],\n    '6': ['LGGGLL', 'RRRRRR'],\n    '7': ['LGLGLG', 'RRRRRR'],\n    '8': ['LGLGGL', 'RRRRRR'],\n    '9': ['LGGLGL', 'RRRRRR'],\n};\n//# sourceMappingURL=ean13.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.encode = exports.isValid = exports.checkdigit = void 0;\nconst helper_1 = require(\"./helper\");\nfunction checkdigit(value) {\n    const sum = value.substring(0, 7)\n        .split('')\n        .map((n) => Number(n))\n        .reduce((sum, digit, index) => {\n        return sum + (digit * (index % 2 ? 1 : 3));\n    });\n    return ((10 - (sum % 10)) % 10).toString();\n}\nexports.checkdigit = checkdigit;\nconst REGEX = /^[0-9]{8}$/;\nfunction isValid(value) {\n    return REGEX.test(value) && checkdigit(value) === value[7];\n}\nexports.isValid = isValid;\nfunction encode(value) {\n    if (!isValid(value)) {\n        throw new Error('Invalid EAN8 code');\n    }\n    const [left, right] = ['LLLL', 'RRRR'];\n    const leftValue = value.substring(0, 4);\n    const rightValue = value.substring(4, 8);\n    const groups = [\n        { type: 'quietZone', width: 7 },\n        Object.assign({ type: 'marker' }, (0, helper_1.dataWithWidth)('101')),\n        Object.assign(Object.assign({ type: 'data' }, (0, helper_1.dataWithWidth)(leftValue.split('').map((digit, index) => helper_1.Encoding[digit][left[index]]).join(''))), { text: leftValue }),\n        Object.assign({ type: 'marker' }, (0, helper_1.dataWithWidth)('01010')),\n        Object.assign(Object.assign({ type: 'data' }, (0, helper_1.dataWithWidth)(rightValue.split('').map((digit, index) => helper_1.Encoding[digit][right[index]]).join(''))), { text: rightValue }),\n        Object.assign({ type: 'marker' }, (0, helper_1.dataWithWidth)('101')),\n        { type: 'quietZone', width: 7 }\n    ];\n    return {\n        width: groups.reduce((width, group) => width + group.width, 0),\n        groups,\n    };\n}\nexports.encode = encode;\n//# sourceMappingURL=ean8.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Encoding = exports.dataWithWidth = void 0;\nfunction dataWithWidth(data) {\n    return { data, width: data.length };\n}\nexports.dataWithWidth = dataWithWidth;\nexports.Encoding = {\n    '0': { L: '0001101', G: '0100111', R: '1110010' },\n    '1': { L: '0011001', G: '0110011', R: '1100110' },\n    '2': { L: '0010011', G: '0011011', R: '1101100' },\n    '3': { L: '0111101', G: '0100001', R: '1000010' },\n    '4': { L: '0100011', G: '0011101', R: '1011100' },\n    '5': { L: '0110001', G: '0111001', R: '1001110' },\n    '6': { L: '0101111', G: '0000101', R: '1010000' },\n    '7': { L: '0111011', G: '0010001', R: '1000100' },\n    '8': { L: '0110111', G: '0001001', R: '1001000' },\n    '9': { L: '0001011', G: '0010111', R: '1110100' },\n};\n//# sourceMappingURL=helper.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.encode = exports.isValid = void 0;\nconst ean13_1 = require(\"./ean13\");\nconst ean8_1 = require(\"./ean8\");\nfunction getFormat(format, data) {\n    if (format !== 'auto') {\n        return format;\n    }\n    return data.length === 13 ? 'ean13' : data.length === 8 ? 'ean8' : undefined;\n}\nfunction isValid(data, { format = 'auto' } = {}) {\n    const encodeFormat = getFormat(format, data);\n    if (!encodeFormat) {\n        throw new Error(`Unable to determine format of EAN value`);\n    }\n    if (encodeFormat === 'ean13') {\n        return (0, ean13_1.isValid)(data);\n    }\n    else if (encodeFormat === 'ean8') {\n        return (0, ean8_1.isValid)(data);\n    }\n    else {\n        throw Error(`Format ${encodeFormat} not supported`);\n    }\n}\nexports.isValid = isValid;\nfunction encode(data, { format = 'auto' } = {}) {\n    const encodeFormat = getFormat(format, data);\n    if (!encodeFormat) {\n        throw new Error(`Unable to determine format of EAN value`);\n    }\n    if (encodeFormat === 'ean13') {\n        return (0, ean13_1.encode)(data);\n    }\n    else if (encodeFormat === 'ean8') {\n        return (0, ean8_1.encode)(data);\n    }\n    else {\n        throw Error(`Format ${encodeFormat} not supported`);\n    }\n}\nexports.encode = encode;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Barcode = void 0;\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst barcode_1 = require(\"@darthmaim/barcode\");\nconst Barcode = ({ value, height = 70, width, flat = false }) => {\n    const encoded = (0, barcode_1.encode)(value);\n    let left = 0;\n    return ((0, jsx_runtime_1.jsx)(\"svg\", Object.assign({ viewBox: `0 0 ${encoded.width} 70`, height: height, width: width, textAnchor: \"middle\", dominantBaseline: \"bottom\", fontSize: 11, fontFamily: \"monospace\", shapeRendering: \"crispedges\" }, { children: encoded.groups.map((group, index) => {\n            const groupElement = (group.type !== 'quietZone' || group.text) && ((0, jsx_runtime_1.jsxs)(\"g\", { children: [group.type !== 'quietZone' && group.data.split('').map((bar, index) => bar === '1' ? ((0, jsx_runtime_1.jsx)(\"rect\", { x: left + index, y: 0, width: 1, height: group.type === 'marker' && !flat ? 66 : 60 }, index)) : null), group.text && ((0, jsx_runtime_1.jsx)(\"text\", Object.assign({ x: left + group.width / 2, y: 69 }, { children: group.text })))] }, index));\n            left += group.width;\n            return groupElement;\n        }) })));\n};\nexports.Barcode = Barcode;\n//# sourceMappingURL=index.js.map","import React, { useMemo } from \"react\";\nimport { encode } from \"@darthmaim/barcode\";\nimport { Barcode } from \"@darthmaim/react-barcode\";\n\nexport default function ProductBarcode({\n  barcode,\n  className,\n}: {\n  barcode: string;\n  className?: string;\n}) {\n  const isValid = useMemo(() => {\n    try {\n      encode(barcode);\n    } catch (e) {\n      return false;\n    }\n    return true;\n  }, [barcode]);\n\n  return isValid ? (\n    <div className={className}>\n      <Barcode value={barcode} />\n    </div>\n  ) : null;\n}\n","const EAN_RE = /^EAN: (\\d{13}$)/;\n\nexport const getBarcode = (label: string[] = []) =>\n  label.find((label) => label.match(EAN_RE))?.replace(EAN_RE, \"$1\");\n\nexport const getPrice = (price: string[]) =>\n  Number(\n    (price.filter((price) => !price.match(/Oszczędź/)).pop() || \"0\")\n      .replace(/[^0-9,\\.]/g, \"\")\n      .replace(\",\", \".\")\n  );\n\nexport const getMinMaxPrices = ({ price, _history = {} }: any) =>\n  Object.entries<any>({\n    [Date.now()]: { price },\n    ..._history,\n  }).reduce(\n    (result, [_date, { price }]) =>\n      ((price) =>\n        Object.assign(\n          result,\n          0 < price && price < result.priceMin ? { priceMin: price } : {},\n          price > result.priceMax ? { priceMax: price } : {}\n        ))(getPrice(price)),\n    ((price) => ({\n      priceNow: price,\n      priceMin: price,\n      priceMax: price,\n    }))(getPrice(price))\n  );\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./styles.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./styles.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, {\n  ChangeEventHandler,\n  useCallback,\n  useMemo,\n  useState,\n} from \"react\";\nimport { format } from \"date-fns\";\nimport { createAsset } from \"use-asset\";\nimport { Gallery } from \"../../components/Gallery\";\nimport { Link } from \"../../components/Link\";\nimport Barcode from \"./Barcode\";\nimport useDebounce from \"../useDebounce\";\nimport { getBarcode, getMinMaxPrices, getPrice } from \"./utils\";\nimport cx from \"classnames\";\nimport styles from \"./styles.module.scss\";\n\nimport type {\n  ProductItem,\n  ReviewItem,\n} from \"@dev/cli/src/services/ProductService/types\";\n\nconst SORT_BY = {\n  title: 1,\n  brand: 1,\n  _price: 1,\n  _priceChangeMax: 1,\n  _priceChangeMin: 1,\n  _stars: -1,\n  _created: -1,\n  _updated: -1,\n};\n\nconst PRICE_LIST = [\n  0, 100, 200, 500, 1000, 1500, 2000, 3000, 4000, 5000, 10000, 15000, 20000,\n  25000,\n];\n\nconst PRICE_CHANGE_LIST = [\n  -100, -50, -30, -20, -10, -5, 0, 5, 10, 20, 30, 50, 100,\n];\n\n// https://github.com/pmndrs/use-asset#dealing-with-async-assets\nconst asset = createAsset(async (version) => {\n  // copy({results:temp1.results.filter(item=>[460088,682156,681208].includes(Number(item.id))).map(({_id,_history,...item }) => item)})\n  const res = await fetch(`api/products/data.json?${version}`);\n  return await res.json();\n});\n\nconst formatPrice = (price: number) =>\n  `${new Intl.NumberFormat(\"pl-PL\", {\n    minimumFractionDigits: 2,\n  }).format(price)} zł`;\n\nconst priceChange = (price: number, after: number) =>\n  `${new Intl.NumberFormat(\"pl-PL\", {\n    maximumFractionDigits: 2,\n  }).format(100 * (price / after - 1))}%`;\n\nconst filterPriceChange = (\n  item: ReturnType<typeof getMinMaxPrices>,\n  change: number\n) =>\n  change === 0 ||\n  (item.priceNow > 0 &&\n    (change > 0\n      ? 100 * (item.priceNow / item.priceMin - 1) >= change\n      : 100 * (item.priceNow / item.priceMax - 1) <= change));\n\nfunction Compare({ item }: { item: ReturnType<typeof getMinMaxPrices> }) {\n  return (\n    <div>\n      <span>\n        <b>{` cena: ${formatPrice(item.priceNow)} `}</b>\n      </span>\n      {item.priceMin < item.priceNow && (\n        <span>\n          {` / min: ${formatPrice(item.priceMin)} (${priceChange(\n            item.priceNow,\n            item.priceMin\n          )}) `}\n        </span>\n      )}\n      {item.priceNow < item.priceMax && (\n        <span>\n          {` / max: ${formatPrice(item.priceMax)} (${priceChange(\n            item.priceNow,\n            item.priceMax\n          )}) `}\n        </span>\n      )}\n      {/* <pre>\n        {JSON.stringify(\n          {\n            priceNow: item.priceNow,\n            priceMin: item.priceMin,\n            priceMax: item.priceMax,\n          },\n          null,\n          2\n        )}\n      </pre> */}\n    </div>\n  );\n}\n\nfunction Data({ version = \"v1\" }) {\n  const { results } = asset.read(version) as { results: ProductItem[] };\n\n  const options = useMemo(\n    () => ({\n      brand: [\"\"].concat(\n        results\n          .map(({ brand }: any) => brand)\n          .filter(Boolean)\n          .filter(\n            (value: any, index: number, array: any[]) =>\n              array.indexOf(value) === index\n          )\n          .sort((a: string, b: string) => a.localeCompare(b))\n      ),\n    }),\n    [results]\n  );\n\n  const [filters, setFilters] = useState(() => ({\n    brand: options.brand[0],\n    category: \"\",\n    search: \"\",\n    onlyPromoted: false,\n    onlyReduced: false,\n    priceFrom: PRICE_LIST[0],\n    priceTo: PRICE_LIST[PRICE_LIST.length - 1],\n    priceChange: 0,\n  }));\n\n  const [filter] = useDebounce(filters.search);\n\n  const [sortBy, setSortBy] = useState(\n    () => Object.keys(SORT_BY).pop() as keyof typeof SORT_BY\n  );\n\n  const onChangePriceFrom = useCallback<ChangeEventHandler<HTMLInputElement>>(\n    ({ target }) =>\n      setFilters(({ priceTo, ...criteria }) => {\n        const priceFrom = Number(target.value);\n        return {\n          ...criteria,\n          priceFrom,\n          priceTo: priceTo < priceFrom ? priceFrom : priceTo,\n        };\n      }),\n    []\n  );\n\n  const onChangePriceTo = useCallback<ChangeEventHandler<HTMLInputElement>>(\n    ({ target }) =>\n      setFilters(({ priceFrom, ...criteria }) => {\n        const priceTo = Number(target.value);\n        return {\n          ...criteria,\n          priceFrom: priceTo > priceFrom ? priceFrom : priceTo,\n          priceTo,\n        };\n      }),\n    []\n  );\n\n  const onChangePriceChange = useCallback<ChangeEventHandler<HTMLInputElement>>(\n    ({ target }) =>\n      setFilters((criteria) => ({\n        ...criteria,\n        priceChange: Number(target.value),\n      })),\n    []\n  );\n\n  console.log({ filters, results });\n\n  const list = useMemo(\n    () =>\n      results\n        .map(({ _created, _updated = _created, ...item }) => ({\n          _title: item.title.toLowerCase(),\n          _price: getPrice(item.price),\n          _stars: Number(item.stars.replace(/[^0-9]/g, \"\")),\n          _created,\n          _updated,\n          _history: {},\n          ...item,\n          ...((item) => ({\n            ...item,\n            _priceChangeMin: 100 * (item.priceNow / item.priceMin - 1),\n            _priceChangeMax: 100 * (item.priceNow / item.priceMax - 1),\n          }))(getMinMaxPrices(item)),\n          barcode: getBarcode(item.label),\n        }))\n        // .filter((item: any) => (item.price.length > 1))\n        .filter(\n          (item: any) =>\n            (item._title.match(filter) || filter.trim() === String(item.id)) &&\n            filters.priceFrom <= item.priceNow &&\n            item.priceNow <= filters.priceTo &&\n            filterPriceChange(item, filters.priceChange) &&\n            (!filters.brand || [item.brand].includes(filters.brand)) &&\n            (!filters.onlyPromoted || item.proms.length > 0) &&\n            (!filters.onlyReduced || item.price.length > 1)\n        ),\n    [\n      results,\n      filter,\n      filters.brand,\n      filters.priceFrom,\n      filters.priceTo,\n      filters.priceChange,\n      filters.onlyPromoted,\n      filters.onlyReduced,\n    ]\n  );\n\n  const sorted = useMemo(\n    () =>\n      list.sort((a, b) =>\n        a[sortBy] === b[sortBy]\n          ? a._created > b._created\n            ? 1\n            : -1\n          : SORT_BY[sortBy] * (a[sortBy] > b[sortBy] ? 1 : -1)\n      ),\n    [list, sortBy]\n  );\n\n  return (\n    <div>\n      <fieldset>\n        <label>\n          <span>Search</span>\n          <input\n            type=\"search\"\n            value={filters.search}\n            onChange={useCallback<ChangeEventHandler<HTMLInputElement>>(\n              ({ target }) =>\n                setFilters((filters) => ({\n                  ...filters,\n                  search: target.value,\n                })),\n              []\n            )}\n          />\n        </label>\n        <label>\n          <span>Brand</span>\n          <select\n            value={filters.brand}\n            onChange={useCallback<ChangeEventHandler<HTMLSelectElement>>(\n              ({ target }) =>\n                setFilters((filters) => ({\n                  ...filters,\n                  brand: target.value,\n                })),\n              []\n            )}\n          >\n            {options.brand.map((value) => (\n              <option key={value} value={value}>\n                {value}\n              </option>\n            ))}\n          </select>\n        </label>\n        <label>\n          <span>Sort</span>\n          <select\n            value={sortBy}\n            onChange={useCallback<ChangeEventHandler<HTMLSelectElement>>(\n              ({ target }) => setSortBy(target.value as keyof typeof SORT_BY),\n              []\n            )}\n          >\n            {Object.entries(SORT_BY).map(([value, label]) => (\n              <option key={value} value={value}>\n                {value}\n              </option>\n            ))}\n          </select>\n        </label>\n        <label>\n          <input\n            type=\"checkbox\"\n            checked={filters.onlyPromoted}\n            onChange={useCallback<ChangeEventHandler<HTMLInputElement>>(\n              ({ target }) =>\n                setFilters((filters) => ({\n                  ...filters,\n                  onlyPromoted: target.checked,\n                })),\n              []\n            )}\n          />\n          <span>Only Promoted</span>\n        </label>\n        <label>\n          <input\n            type=\"checkbox\"\n            checked={filters.onlyReduced}\n            onChange={useCallback<ChangeEventHandler<HTMLInputElement>>(\n              ({ target }) =>\n                setFilters((filters) => ({\n                  ...filters,\n                  onlyReduced: target.checked,\n                })),\n              []\n            )}\n          />\n          <span>Only Reduced</span>\n        </label>\n        <div>\n          <label>\n            <span>Price From</span>\n            <input\n              type=\"range\"\n              list=\"price-list\"\n              min={PRICE_LIST[0]}\n              max={PRICE_LIST[PRICE_LIST.length - 1]}\n              value={filters.priceFrom}\n              onChange={onChangePriceFrom}\n            />\n            <datalist id=\"price-list\">\n              {PRICE_LIST.map((value) => (\n                <option\n                  key={value}\n                  value={value}\n                  label={\n                    [0, 100000, 200000, 300000, 400000, 500000].includes(value)\n                      ? `${value} zł`\n                      : undefined\n                  }\n                ></option>\n              ))}\n            </datalist>\n          </label>\n          <label>\n            <span>Price To</span>\n            <input\n              type=\"range\"\n              list=\"price-list\"\n              min={PRICE_LIST[0]}\n              max={PRICE_LIST[PRICE_LIST.length - 1]}\n              value={filters.priceTo}\n              onChange={onChangePriceTo}\n            />\n            <span>{`${filters.priceFrom}-${filters.priceTo} zł`}</span>\n          </label>{\" \"}\n          <label>\n            <span>Price Change</span>\n            <input\n              type=\"range\"\n              list=\"price-change-list\"\n              min={PRICE_CHANGE_LIST[0]}\n              max={PRICE_CHANGE_LIST[PRICE_CHANGE_LIST.length - 1]}\n              value={filters.priceChange}\n              onChange={onChangePriceChange}\n            />\n            <datalist id=\"price-change-list\">\n              {PRICE_CHANGE_LIST.map((value) => (\n                <option key={value} value={value}></option>\n              ))}\n            </datalist>\n            <span>{`${filters.priceChange}%`}</span>\n          </label>\n        </div>\n      </fieldset>\n      <div>{`Found ${list.length} products out of a total of ${results.length}`}</div>\n      <ol>\n        {sorted.slice(0, 100).map(({ images, srcSet, ...item }) => (\n          <li key={item.id} className={styles.Row}>\n            {/* <pre>{JSON.stringify(item.price, null, 2)}</pre> */}\n            <Gallery\n              className={styles.Gallery}\n              images={images}\n              srcSet={srcSet}\n            />\n            {item.barcode && (\n              <Barcode className={styles.Barcode} barcode={item.barcode} />\n            )}\n            <h3>\n              <Link href={item.url}>{item.title}</Link>\n            </h3>\n            <h4>{item.brand}</h4>\n            {item.label && <div>{item.label.join(\" | \")}</div>}\n            <Compare item={item} />\n            <Details item={item} />\n            <History\n              history={Object.entries(item._history).reverse()}\n              item={item}\n            />\n            {item.reviews && <Reviews reviews={item.reviews} />}\n          </li>\n        ))}\n      </ol>\n    </div>\n  );\n}\n\nconst HISTORY_LIMIT = 1;\n\nfunction History({ history, item }: { history: any[]; item: unknown }) {\n  const [more, setMore] = useState(() =>\n    history.length > HISTORY_LIMIT ? false : true\n  );\n\n  return (\n    <div className={styles.History}>\n      {(more ? history : history.slice(0, HISTORY_LIMIT)).map(\n        ([time, prev], key, list) => (\n          <Details\n            key={key}\n            item={prev}\n            prev={key > 0 ? list[key - 1][1] : item}\n            time={Number(time)}\n          />\n        )\n      )}\n      {more === false && (\n        <Link onClick={(e) => (e.preventDefault(), setMore(true))}>\n          Show more...\n        </Link>\n      )}\n    </div>\n  );\n}\n\nfunction Details({\n  item,\n  prev,\n  time = item._updated || item._created,\n}: {\n  item: Omit<ProductItem, \"images\">;\n  prev?: any;\n  time?: number;\n}) {\n  return (\n    <div className={cx(styles.Details, prev && styles.separator)}>\n      <div className={styles.Sidebar}>\n        {time && (\n          <div className={styles.Date}>{format(time, \"yyyy-MM-dd HH:mm\")}</div>\n        )}\n        <h5>{item.price.join(\" \")}</h5>\n        <div\n          className={cx(\n            styles.Feature,\n            prev && prev.stars !== item.stars && styles.changed\n          )}\n        >\n          {item.stars}\n        </div>\n      </div>\n      {item.proms && (\n        <div\n          className={cx(\n            styles.Feature,\n            prev && prev.proms !== item.proms && styles.changed\n          )}\n        >\n          {item.proms.join(\" | \")}\n        </div>\n      )}\n      <ul\n        className={cx(\n          styles.Feature,\n          prev &&\n            prev.links.join(\":\") !== item.links.join(\":\") &&\n            styles.changed\n        )}\n      >\n        {item.links.map((link, key) => (\n          <li key={key}>{link}</li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nfunction Reviews({ reviews }: { reviews: ReviewItem[] }) {\n  const [expand, setExpand] = useState(false);\n\n  return (\n    <div>\n      <div>\n        {/* {`Found ${list.length} vehicles out of a total of ${results.length}`}{\" \"} */}\n        <Link\n          onClick={(e) => (e.preventDefault(), setExpand((expand) => !expand))}\n        >\n          {expand ? \"Hide reviews\" : \"Show reviews\"}\n        </Link>\n      </div>\n      {/* {expand && <pre>{JSON.stringify(reviews, null, 2)}</pre>} */}\n      {expand && (\n        <ul>\n          {reviews.map(({ author, body, date, rating = \"-\" }, key) => (\n            <li key={key}>\n              <div>\n                <b>\n                  {date}, {author} ({rating})\n                </b>\n              </div>\n              <div>{body}</div>\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n}\n\nexport default function Section() {\n  return (\n    <div className={styles.Section}>\n      <h2>Products</h2>\n      <Data />\n    </div>\n  );\n}\n","import { useEffect, useRef, useState } from \"react\";\n\nexport default function useDebounce(search) {\n  const [filter, setFilter] = useState(search);\n\n  const r = useRef();\n\n  useEffect(() => {\n    clearTimeout(r.current);\n    r.current = setTimeout(() => setFilter(search.toLowerCase()), 400);\n    return () => {\n      clearTimeout(r.current);\n    };\n  }, [search]);\n\n  return [filter];\n}\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".KUxoC6psSrrMeYM5oAlM{color:purple}.KUxoC6psSrrMeYM5oAlM h4{margin:.5em 0}.KUxoC6psSrrMeYM5oAlM h5{margin:.25em 0}.mfYsAqyyqNlAHcqIZRYo{clear:both}.IUsVGkhlVQfyeVKDBe0W{float:left;width:200px;height:150px}.bjKwkJ10mgVeKE66YVYI{float:right}.oYFC57M7QUXHd0bHx90u{clear:both}.oYFC57M7QUXHd0bHx90u .d4EGmd7WGzC6jR642U4i{float:right;text-align:right;margin:0 2em}.oYFC57M7QUXHd0bHx90u .hCevawnmB_dy9ljh4Xeg.WHvJJI0E40Qb_2xC6kaz{color:#8a2be2}.oYFC57M7QUXHd0bHx90u.eCohJhUTkuxKnSmXSCp6{border-top:1px solid #d3d3d3;margin-top:.5em;padding-top:.5em}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/containers/Products/styles.module.scss\"],\"names\":[],\"mappings\":\"AAAA,sBACE,YAAA,CACA,yBACE,aAAA,CAEF,yBACE,cAAA,CAGJ,sBACE,UAAA,CAEF,sBACE,UAAA,CACA,WAAA,CACA,YAAA,CAEF,sBACE,WAAA,CAEF,sBACE,UAAA,CACA,4CACE,WAAA,CACA,gBAAA,CACA,YAAA,CAGA,iEACE,aAAA,CAGJ,2CACE,4BAAA,CACA,eAAA,CACA,gBAAA\",\"sourcesContent\":[\".Section {\\n  color: purple;\\n  h4 {\\n    margin: 0.5em 0;\\n  }\\n  h5 {\\n    margin: 0.25em 0;\\n  }\\n}\\n.Row {\\n  clear: both;\\n}\\n.Gallery {\\n  float: left;\\n  width: 200px;\\n  height: 150px;\\n}\\n.Barcode {\\n  float: right;\\n}\\n.Details {\\n  clear: both;\\n  .Sidebar {\\n    float: right;\\n    text-align: right;\\n    margin: 0 2em;\\n  }\\n  .Feature {\\n    &.changed {\\n      color: blueviolet;\\n    }\\n  }\\n  &.separator {\\n    border-top: 1px solid lightgray;\\n    margin-top: 0.5em;\\n    padding-top: 0.5em;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"Section\": \"KUxoC6psSrrMeYM5oAlM\",\n\t\"Row\": \"mfYsAqyyqNlAHcqIZRYo\",\n\t\"Gallery\": \"IUsVGkhlVQfyeVKDBe0W\",\n\t\"Barcode\": \"bjKwkJ10mgVeKE66YVYI\",\n\t\"Details\": \"oYFC57M7QUXHd0bHx90u\",\n\t\"Sidebar\": \"d4EGmd7WGzC6jR642U4i\",\n\t\"Feature\": \"hCevawnmB_dy9ljh4Xeg\",\n\t\"changed\": \"WHvJJI0E40Qb_2xC6kaz\",\n\t\"separator\": \"eCohJhUTkuxKnSmXSCp6\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","import { asyncScheduler } from '../scheduler/async';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function debounceTime(dueTime, scheduler) {\n    if (scheduler === void 0) { scheduler = asyncScheduler; }\n    return operate(function (source, subscriber) {\n        var activeTask = null;\n        var lastValue = null;\n        var lastTime = null;\n        var emit = function () {\n            if (activeTask) {\n                activeTask.unsubscribe();\n                activeTask = null;\n                var value = lastValue;\n                lastValue = null;\n                subscriber.next(value);\n            }\n        };\n        function emitWhenIdle() {\n            var targetTime = lastTime + dueTime;\n            var now = scheduler.now();\n            if (now < targetTime) {\n                activeTask = this.schedule(undefined, targetTime - now);\n                subscriber.add(activeTask);\n                return;\n            }\n            emit();\n        }\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n            lastValue = value;\n            lastTime = scheduler.now();\n            if (!activeTask) {\n                activeTask = scheduler.schedule(emitWhenIdle, dueTime);\n                subscriber.add(activeTask);\n            }\n        }, function () {\n            emit();\n            subscriber.complete();\n        }, undefined, function () {\n            lastValue = activeTask = null;\n        }));\n    });\n}\n//# sourceMappingURL=debounceTime.js.map"],"names":["Object","defineProperty","exports","value","encode","isValid","checkdigit","helper_1","substring","split","map","n","Number","reduce","sum","digit","index","toString","REGEX","test","Error","left","right","Structure","leftValue","rightValue","groups","type","text","width","assign","dataWithWidth","Encoding","join","group","data","length","L","G","R","ean13_1","ean8_1","getFormat","format","undefined","encodeFormat","jsx_runtime_1","barcode_1","height","flat","encoded","jsx","viewBox","textAnchor","dominantBaseline","fontSize","fontFamily","shapeRendering","children","groupElement","jsxs","bar","x","y","ProductBarcode","barcode","className","useMemo","e","EAN_RE","getBarcode","label","find","match","replace","getPrice","price","filter","pop","getMinMaxPrices","_history","entries","Date","now","result","priceMin","priceMax","priceNow","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","SORT_BY","title","brand","_price","_priceChangeMax","_priceChangeMin","_stars","_created","_updated","PRICE_LIST","PRICE_CHANGE_LIST","asset","createAsset","version","fetch","res","json","formatPrice","Intl","NumberFormat","minimumFractionDigits","priceChange","after","maximumFractionDigits","Compare","item","Data","results","read","concat","Boolean","array","indexOf","sort","a","b","localeCompare","useState","category","search","onlyPromoted","onlyReduced","priceFrom","priceTo","filters","setFilters","useDebounce","keys","sortBy","setSortBy","onChangePriceFrom","useCallback","target","criteria","onChangePriceTo","onChangePriceChange","console","log","list","_title","toLowerCase","stars","trim","String","id","change","filterPriceChange","includes","proms","sorted","onChange","key","checked","min","max","slice","images","srcSet","styles","Gallery","Link","href","url","Details","History","history","reverse","reviews","Reviews","more","setMore","time","prev","onClick","preventDefault","cx","links","link","expand","setExpand","author","body","date","rating","Section","setFilter","r","useRef","useEffect","clearTimeout","current","setTimeout","___CSS_LOADER_EXPORT___","push","module","locals","f","k","Symbol","for","l","m","prototype","hasOwnProperty","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentOwner","p","ref","__self","__source","q","c","g","d","h","call","defaultProps","$$typeof","props","_owner","Fragment","debounceTime","dueTime","scheduler","source","subscriber","activeTask","lastValue","lastTime","emit","unsubscribe","next","emitWhenIdle","targetTime","this","schedule","add","subscribe","complete"],"sourceRoot":""}