"use strict";(self.webpackChunk_dev_web=self.webpackChunk_dev_web||[]).push([[691],{8691:(e,t,l)=>{l.r(t),l.d(t,{default:()=>M});var a=l(2784),n=l(357),r=l(5062),o=l.n(r),u=l(9386),i=l(5449),c=l(1128),s=l(3964),m=l(2048),d=l(5176),p=l(7122),f=l(9530),E=l(5096),g=l(2779),v=l.n(g),h=l(7243);function b({position:e,children:t,setPosition:l}){const n=(0,a.useRef)(null),r=(0,a.useMemo)((()=>({dragend(){const e=n.current;null!=e&&l(e.getLatLng())}})),[]);return a.createElement(u.J,{draggable:!0,eventHandlers:r,position:e,ref:n},a.createElement(i.u,null,t))}function C(){const e=(0,c.Sx)(),t=(0,a.useCallback)((t=>{t.preventDefault(),e.locate({setView:!0})}),[e]);return a.createElement("div",{className:"leaflet-top leaflet-left",style:{top:80,fontSize:16}},a.createElement("div",{className:"leaflet-control-locate leaflet-bar leaflet-control"},a.createElement("a",{className:"leaflet-bar-part leaflet-bar-part-single",title:"Locate",href:"#",onClick:t},a.createElement(f.G,{icon:E.KS0}))))}function k({map:e}){const[t]=(0,a.useState)((()=>({position:e.getCenter(),zoom:e.getZoom()}))),[l,n]=(0,a.useState)(e.getCenter()),r=(0,a.useCallback)((()=>{e.setView(t.position,t.zoom)}),[e]),o=(0,a.useCallback)((()=>{n(e.getCenter())}),[e]),u=(0,a.useCallback)((e=>{const{latlng:t,radius:l}=e;console.log({latlng:t,radius:l})}),[]);return(0,a.useEffect)((()=>(e.on("locationfound",u).on("move",o),()=>{e.off("locationfound",u).off("move",o)})),[e,o]),a.createElement("div",{className:v()(h.Z.DisplayPosition)},"latitude: ",l.lat.toFixed(4),", longitude: ",l.lng.toFixed(4)," ",a.createElement("button",{onClick:r},"Reset"),a.createElement("button",{onClick:()=>e.locate({setView:!0})},"Locate"))}function y({bounds:e,center:t,setCenter:n,list:r}){(0,a.useEffect)((()=>{delete o().Icon.Default.prototype._getIconUrl,o().Icon.Default.mergeOptions({iconRetinaUrl:l(1963).Z,iconUrl:l(379).Z,shadowUrl:l(6179).Z})}),[]);const[u,i]=(0,a.useState)(null),c=(0,a.useMemo)((()=>a.createElement(s.h,{bounds:e,whenCreated:i,zoom:13,className:v()(h.Z.Map)},a.createElement(m.I,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),a.createElement(b,{position:t,setPosition:n},`${t.lat},${t.lng}`),r.map((({i:e,position:l,name:n})=>a.createElement(d.c,{key:e,center:l,pathOptions:{color:"purple"}},a.createElement(p.G,{minWidth:90},n," (",t.distanceTo(l).toFixed(0)/1e3+" km",")")))),a.createElement(C,null))),[r,t]);return a.createElement("div",{className:v()(h.Z.Layout)},u?a.createElement(k,{map:u}):null,c)}var S=l(3654);var _=l(3400);const $=[1,3,5,10,15,20,25,30,40,50,75,100],w=[0,400,600,800,1e3,1200,1400,1600,1800,2e3,5e3,1e4,5e4,8e4],x=[0,100,200,400,800,1e3,1200,1400,1600,1800,2e3,5e3,1e4],N=[1e5,5e5,1e6,15e5,2e6,5e6,1e7,5e7],Z=(0,n.k)((async e=>{const t=await fetch(`api/data.json?${e}`);return await t.json()}));function T({version:e="v1"}){const{total_found:t,results:l}=Z.read(e),n=function(e){const t=(0,a.useMemo)((()=>e.join("\n")),[e]);return(0,a.useMemo)((()=>`https://zimekk.github.io/place/#${(e=>window.btoa(String.fromCharCode.apply(null,S.ZP.deflate(e))))(unescape(encodeURIComponent(t)))}`),[t])}(l.map((({latitude:e,longitude:t,our_url:l})=>`${e},${t}|${l}`))),[r,u]=(0,a.useState)(""),[i]=function(e){const[t,l]=(0,a.useState)(e),n=(0,a.useRef)();return(0,a.useEffect)((()=>(clearTimeout(n.current),n.current=setTimeout((()=>l(e.toLowerCase())),400),()=>{clearTimeout(n.current)})),[e]),[t]}(r),c=(0,a.useCallback)((({target:e})=>u(e.value)),[]),[s,m]=(0,a.useState)(15),d=(0,a.useCallback)((({target:e})=>m(Number(e.value))),[]),[p,f]=(0,a.useState)(400),[E,g]=(0,a.useState)(2e3),v=(0,a.useCallback)((({target:e})=>g((t=>{const l=Number(e.value);return f(l),t<l?l:t}))),[]),h=(0,a.useCallback)((({target:e})=>f((t=>{const l=Number(e.value);return g(l),l>t?t:l}))),[]),[b,C]=(0,a.useState)(100),[k,_]=(0,a.useState)(2e3),T=(0,a.useCallback)((({target:e})=>_((t=>{const l=Number(e.value);return C(l),t<l?l:t}))),[]),M=(0,a.useCallback)((({target:e})=>C((t=>{const l=Number(e.value);return _(l),l>t?t:l}))),[]),[R,I]=(0,a.useState)(1e7),P=(0,a.useCallback)((({target:e})=>I(Number(e.value))),[]),z=(0,a.useMemo)((()=>l.filter((({description_short:e,area_m2:t,price:l,price_per_m2_pln:a})=>e.toLowerCase().match(i)&&p<=t&&t<=E&&b<=a&&a<=k&&l<=R)).map(((e,t)=>{const{latitude:l,longitude:a,our_url:n}=e;return{i:t,position:{lat:l,lng:a},name:n,item:e}}))),[l,i,p,E,b,k,R]),H=function(e){return(0,a.useMemo)((()=>o().featureGroup(e.map((({position:{lat:e,lng:t}})=>o().marker([e,t])))).getBounds()),[])}(z),[L,A]=(0,a.useState)((()=>H.getCenter())),F=(0,a.useMemo)((()=>z.filter((({position:e})=>L.distanceTo(e)<1e3*s))),[z,L,s]);return a.createElement("div",null,a.createElement(y,{bounds:H,center:L,setCenter:A,list:F}),"[",t,"]",a.createElement("fieldset",null,a.createElement("div",null,a.createElement("label",null,a.createElement("span",null,"Search"),a.createElement("input",{type:"search",value:r,onChange:c})),a.createElement("label",null,a.createElement("span",null,"Radius"),a.createElement("input",{type:"range",list:"range-list",min:$[0],max:$[$.length-1],value:s,onChange:d}),a.createElement("datalist",{id:"range-list"},$.map((e=>a.createElement("option",{key:e,value:e,label:[1,25,100].includes(e)?`${e} km`:void 0})))),a.createElement("span",null,`max ${s} km`))),a.createElement("div",null,a.createElement("label",null,a.createElement("span",null,"Area From"),a.createElement("input",{type:"range",list:"area-list",min:w[0],max:w[w.length-1],value:p,onChange:v}),a.createElement("datalist",{id:"area-list"},w.map((e=>a.createElement("option",{key:e,value:e,label:[0,1e3,2e3,5e3].includes(e)?`${e} m2`:void 0}))))),a.createElement("label",null,a.createElement("span",null,"Area To"),a.createElement("input",{type:"range",list:"area-list",min:w[0],max:w[w.length-1],value:E,onChange:h}),a.createElement("span",null,`${p}-${E} m2`))),a.createElement("div",null,a.createElement("label",null,a.createElement("span",null,"Price From"),a.createElement("input",{type:"range",list:"price-list",min:x[0],max:x[x.length-1],value:b,onChange:T}),a.createElement("datalist",{id:"price-list"},x.map((e=>a.createElement("option",{key:e,value:e,label:[0,1e3,2e3,5e3].includes(e)?`${e} pln/m2`:void 0}))))),a.createElement("label",null,a.createElement("span",null,"Price To"),a.createElement("input",{type:"range",list:"price-list",min:x[0],max:x[x.length-1],value:k,onChange:M}),a.createElement("span",null,`${b}-${k} pln/m2`))),a.createElement("div",null,a.createElement("label",null,a.createElement("span",null,"Price"),a.createElement("input",{type:"range",list:"total-list",min:N[0],max:N[N.length-1],value:R,onChange:P}),a.createElement("datalist",{id:"total-list"},N.map((e=>a.createElement("option",{key:e,value:e,label:[1e5,1e6,5e6].includes(e)?`${e} pln`:void 0})))),a.createElement("span",null,`max ${R} pln`)))),a.createElement("ol",null,z.map((({item:e})=>e)).map((({latitude:e,longitude:t,kind:l,type:r,format:o,area_m2:u,price:i,price_per_m2_pln:c,description_short:s,our_url:m,created:d,changed:p},f)=>a.createElement("li",{key:f},a.createElement("ul",null,a.createElement("li",null,a.createElement("a",{href:n},`${e},${t}|${m}`)),a.createElement("li",null,l),a.createElement("li",null,r),a.createElement("li",null,o),a.createElement("li",null,u),a.createElement("li",null,i),a.createElement("li",null,c),a.createElement("li",null,s),a.createElement("li",null,d),a.createElement("li",null,p)))))))}function M(){return a.createElement("div",{className:_.Z.Scrap},a.createElement("h2",null,"Scrap"),a.createElement(T,null))}},1064:(e,t,l)=>{l.r(t),l.d(t,{default:()=>c});var a=l(9601),n=l.n(a),r=l(2609),o=l.n(r),u=l(9138),i=o()(n());i.i(u.Z),i.push([e.id,".RVfG0Rv_8vapHyo_a_Wz{height:50vh;border:2px solid red}",""]),i.locals={Map:"RVfG0Rv_8vapHyo_a_Wz"};const c=i},6458:(e,t,l)=>{l.r(t),l.d(t,{default:()=>u});var a=l(9601),n=l.n(a),r=l(2609),o=l.n(r)()(n());o.push([e.id,".HxwS5mg98o3C3ovYIOqH{color:orange}",""]),o.locals={Scrap:"HxwS5mg98o3C3ovYIOqH"};const u=o},7243:(e,t,l)=>{l.d(t,{Z:()=>C});var a=l(6062),n=l.n(a),r=l(4036),o=l.n(r),u=l(6793),i=l.n(u),c=l(7892),s=l.n(c),m=l(1173),d=l.n(m),p=l(2464),f=l.n(p),E=l(1064),g={};g.styleTagTransform=f(),g.setAttributes=s(),g.insert=i().bind(null,"head"),g.domAPI=o(),g.insertStyleElement=d();var v=n()(E.default,g);if(!E.default.locals||e.hot.invalidate){var h=!E.default.locals,b=h?E:E.default.locals;e.hot.accept(1064,(t=>{E=l(1064),function(e,t,l){if(!e&&t||e&&!t)return!1;var a;for(a in e)if((!l||"default"!==a)&&e[a]!==t[a])return!1;for(a in t)if(!(l&&"default"===a||e[a]))return!1;return!0}(b,h?E:E.default.locals,h)?(b=h?E:E.default.locals,v(E.default)):e.hot.invalidate()}))}e.hot.dispose((function(){v()}));const C=E.default&&E.default.locals?E.default.locals:void 0},3400:(e,t,l)=>{l.d(t,{Z:()=>C});var a=l(6062),n=l.n(a),r=l(4036),o=l.n(r),u=l(6793),i=l.n(u),c=l(7892),s=l.n(c),m=l(1173),d=l.n(m),p=l(2464),f=l.n(p),E=l(6458),g={};g.styleTagTransform=f(),g.setAttributes=s(),g.insert=i().bind(null,"head"),g.domAPI=o(),g.insertStyleElement=d();var v=n()(E.default,g);if(!E.default.locals||e.hot.invalidate){var h=!E.default.locals,b=h?E:E.default.locals;e.hot.accept(6458,(t=>{E=l(6458),function(e,t,l){if(!e&&t||e&&!t)return!1;var a;for(a in e)if((!l||"default"!==a)&&e[a]!==t[a])return!1;for(a in t)if(!(l&&"default"===a||e[a]))return!1;return!0}(b,h?E:E.default.locals,h)?(b=h?E:E.default.locals,v(E.default)):e.hot.invalidate()}))}e.hot.dispose((function(){v()}));const C=E.default&&E.default.locals?E.default.locals:void 0}}]);