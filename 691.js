"use strict";(self.webpackChunk_dev_web=self.webpackChunk_dev_web||[]).push([[691],{8691:(e,t,l)=>{l.r(t),l.d(t,{default:()=>P});var n=l(2784),a=l(357),r=l(5062),o=l.n(r),u=l(9386),i=l(5449),c=l(1128),s=l(3964),m=l(2048),d=l(5176),p=l(7122),f=l(9530),E=l(5096),v=l(2779),g=l.n(v),h=l(7243);function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n])}return e}).apply(this,arguments)}function C({position:e,children:t,setPosition:l}){const a=(0,n.useRef)(null),r=(0,n.useMemo)((()=>({dragend(){const e=a.current;null!=e&&l(e.getLatLng())}})),[]);return n.createElement(u.J,{draggable:!0,eventHandlers:r,position:e,ref:a},n.createElement(i.u,null,t))}function k(){const e=(0,c.Sx)(),t=(0,n.useCallback)((t=>{t.preventDefault(),e.locate({setView:!0})}),[e]);return n.createElement("div",{className:"leaflet-top leaflet-left",style:{top:80,fontSize:16}},n.createElement("div",{className:"leaflet-control-locate leaflet-bar leaflet-control"},n.createElement("a",{className:"leaflet-bar-part leaflet-bar-part-single",title:"Locate",href:"#",onClick:t},n.createElement(f.G,{icon:E.KS0}))))}function y({map:e}){const[t]=(0,n.useState)((()=>({position:e.getCenter(),zoom:e.getZoom()}))),[l,a]=(0,n.useState)(e.getCenter()),r=(0,n.useCallback)((()=>{e.setView(t.position,t.zoom)}),[e]),o=(0,n.useCallback)((()=>{a(e.getCenter())}),[e]),u=(0,n.useCallback)((e=>{const{latlng:t,radius:l}=e;console.log({latlng:t,radius:l})}),[]);return(0,n.useEffect)((()=>(e.on("locationfound",u).on("move",o),()=>{e.off("locationfound",u).off("move",o)})),[e,o]),n.createElement("div",{className:g()(h.Z.DisplayPosition)},"latitude: ",l.lat.toFixed(4),", longitude: ",l.lng.toFixed(4)," ",n.createElement("button",{onClick:r},"Reset"),n.createElement("button",{onClick:()=>e.locate({setView:!0})},"Locate"))}function _({href:e,...t}){const l="#"===e[0];return n.createElement("a",b({href:e,target:l?void 0:"_blank",rel:l?void 0:"noopener noreferrer"},t))}function S({bounds:e,center:t,setCenter:a,list:r}){(0,n.useEffect)((()=>{delete o().Icon.Default.prototype._getIconUrl,o().Icon.Default.mergeOptions({iconRetinaUrl:l(1963).Z,iconUrl:l(379).Z,shadowUrl:l(6179).Z})}),[]);const[u,i]=(0,n.useState)(null),c=(0,n.useMemo)((()=>n.createElement(s.h,{bounds:e,whenCreated:i,zoom:13,className:g()(h.Z.Map)},n.createElement(m.I,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),n.createElement(C,{position:t,setPosition:a},`${t.lat},${t.lng}`),r.map((({i:e,id:l,position:a,name:r})=>{return n.createElement(d.c,{key:e,center:a,pathOptions:{color:"purple"}},n.createElement(p.G,{minWidth:90},"[",n.createElement(_,{href:("#scrap/${id}",o={id:l,name:r},Function(...Object.keys(o),"return `#scrap/${id}`")(...Object.values(o)))},l),"] ",r," (",t.distanceTo(a).toFixed(0)/1e3+" km",")"));var o})),n.createElement(k,null))),[r,t]);return n.createElement("div",{className:g()(h.Z.Layout)},u?n.createElement(y,{map:u}):null,c)}var $=l(3654);var w=l(3400);const x=[1,3,5,10,15,20,25,30,40,50,75,100],N=[0,400,600,800,1e3,1200,1400,1600,1800,2e3,5e3,1e4,5e4,8e4],Z=[0,100,200,400,800,1e3,1200,1400,1600,1800,2e3,5e3,1e4],T=[1e5,2e5,3e5,4e5,5e5,6e5,7e5,8e5,1e6,12e5,15e5,2e6,5e6],M=(0,a.k)((async e=>{const t=await fetch(`api/data.json?${e}`);return await t.json()}));function O({version:e="v1"}){const{total_found:t,results:l}=M.read(e),a=function(e){const t=(0,n.useMemo)((()=>e.join("\n")),[e]);return(0,n.useMemo)((()=>`https://zimekk.github.io/place/#${(e=>window.btoa(String.fromCharCode.apply(null,$.ZP.deflate(e))))(unescape(encodeURIComponent(t)))}`),[t])}(l.map((({latitude:e,longitude:t,our_url:l})=>`${e},${t}|${l}`))),[r,u]=(0,n.useState)(""),[i]=function(e){const[t,l]=(0,n.useState)(e),a=(0,n.useRef)();return(0,n.useEffect)((()=>(clearTimeout(a.current),a.current=setTimeout((()=>l(e.toLowerCase())),400),()=>{clearTimeout(a.current)})),[e]),[t]}(r),c=(0,n.useCallback)((({target:e})=>u(e.value)),[]),[s,m]=(0,n.useState)(15),d=(0,n.useCallback)((({target:e})=>m(Number(e.value))),[]),[p,f]=(0,n.useState)(400),[E,v]=(0,n.useState)(2e3),g=(0,n.useCallback)((({target:e})=>v((t=>{const l=Number(e.value);return f(l),t<l?l:t}))),[]),h=(0,n.useCallback)((({target:e})=>f((t=>{const l=Number(e.value);return v(l),l>t?t:l}))),[]),[b,C]=(0,n.useState)(100),[k,y]=(0,n.useState)(2e3),_=(0,n.useCallback)((({target:e})=>y((t=>{const l=Number(e.value);return C(l),t<l?l:t}))),[]),w=(0,n.useCallback)((({target:e})=>C((t=>{const l=Number(e.value);return y(l),l>t?t:l}))),[]),[O,P]=(0,n.useState)(1e6),R=(0,n.useCallback)((({target:e})=>P(Number(e.value))),[]),I=(0,n.useMemo)((()=>l.filter((({description_short:e,area_m2:t,price:l,price_per_m2_pln:n})=>e.toLowerCase().match(i)&&p<=t&&t<=E&&b<=n&&n<=k&&l<=O)).map(((e,t)=>{const{id:l,latitude:n,longitude:a,our_url:r}=e;return{i:t,id:l,position:{lat:n,lng:a},name:r,item:e}}))),[l,i,p,E,b,k,O]),z=function(e){return(0,n.useMemo)((()=>o().featureGroup(e.map((({position:{lat:e,lng:t}})=>o().marker([e,t])))).getBounds()),[])}(I),[j,H]=(0,n.useState)((()=>z.getCenter())),L=(0,n.useMemo)((()=>I.filter((({position:e})=>j.distanceTo(e)<1e3*s))),[I,j,s]);return n.createElement("div",null,n.createElement(S,{bounds:z,center:j,setCenter:H,list:L}),"[",t,"]",n.createElement("fieldset",null,n.createElement("div",null,n.createElement("label",null,n.createElement("span",null,"Search"),n.createElement("input",{type:"search",value:r,onChange:c})),n.createElement("label",null,n.createElement("span",null,"Radius"),n.createElement("input",{type:"range",list:"range-list",min:x[0],max:x[x.length-1],value:s,onChange:d}),n.createElement("datalist",{id:"range-list"},x.map((e=>n.createElement("option",{key:e,value:e,label:[1,25,100].includes(e)?`${e} km`:void 0})))),n.createElement("span",null,`max ${s} km`))),n.createElement("div",null,n.createElement("label",null,n.createElement("span",null,"Area From"),n.createElement("input",{type:"range",list:"area-list",min:N[0],max:N[N.length-1],value:p,onChange:g}),n.createElement("datalist",{id:"area-list"},N.map((e=>n.createElement("option",{key:e,value:e,label:[0,1e3,2e3,5e3].includes(e)?`${e} m2`:void 0}))))),n.createElement("label",null,n.createElement("span",null,"Area To"),n.createElement("input",{type:"range",list:"area-list",min:N[0],max:N[N.length-1],value:E,onChange:h}),n.createElement("span",null,`${p}-${E} m2`))),n.createElement("div",null,n.createElement("label",null,n.createElement("span",null,"Price From"),n.createElement("input",{type:"range",list:"price-list",min:Z[0],max:Z[Z.length-1],value:b,onChange:_}),n.createElement("datalist",{id:"price-list"},Z.map((e=>n.createElement("option",{key:e,value:e,label:[0,1e3,2e3,5e3].includes(e)?`${e} pln/m2`:void 0}))))),n.createElement("label",null,n.createElement("span",null,"Price To"),n.createElement("input",{type:"range",list:"price-list",min:Z[0],max:Z[Z.length-1],value:k,onChange:w}),n.createElement("span",null,`${b}-${k} pln/m2`))),n.createElement("div",null,n.createElement("label",null,n.createElement("span",null,"Price"),n.createElement("input",{type:"range",list:"total-list",min:T[0],max:T[T.length-1],value:O,onChange:R,style:{width:350}}),n.createElement("datalist",{id:"total-list"},T.map((e=>n.createElement("option",{key:e,value:e,label:[1e5,1e6,5e6].includes(e)?`${e} pln`:void 0})))),n.createElement("span",null,`max ${O} pln`)))),n.createElement("ol",null,I.map((({item:e})=>e)).map((({latitude:e,longitude:t,kind:l,type:r,format:o,area_m2:u,price:i,price_per_m2_pln:c,description_short:s,our_url:m,created:d,changed:p},f)=>n.createElement("li",{key:f},n.createElement("ul",null,n.createElement("li",null,n.createElement("a",{href:a},`${e},${t}|${m}`)),n.createElement("li",null,l),n.createElement("li",null,r),n.createElement("li",null,o),n.createElement("li",null,u),n.createElement("li",null,i),n.createElement("li",null,c),n.createElement("li",null,s),n.createElement("li",null,d),n.createElement("li",null,p)))))))}function P(){return n.createElement("div",{className:w.Z.Scrap},n.createElement("h2",null,"Scrap"),n.createElement(O,null))}},1064:(e,t,l)=>{l.r(t),l.d(t,{default:()=>c});var n=l(9601),a=l.n(n),r=l(2609),o=l.n(r),u=l(9138),i=o()(a());i.i(u.Z),i.push([e.id,".RVfG0Rv_8vapHyo_a_Wz{height:75vh;border:2px solid red}",""]),i.locals={Map:"RVfG0Rv_8vapHyo_a_Wz"};const c=i},6458:(e,t,l)=>{l.r(t),l.d(t,{default:()=>u});var n=l(9601),a=l.n(n),r=l(2609),o=l.n(r)()(a());o.push([e.id,".HxwS5mg98o3C3ovYIOqH{color:orange}",""]),o.locals={Scrap:"HxwS5mg98o3C3ovYIOqH"};const u=o},7243:(e,t,l)=>{l.d(t,{Z:()=>C});var n=l(6062),a=l.n(n),r=l(4036),o=l.n(r),u=l(6793),i=l.n(u),c=l(7892),s=l.n(c),m=l(1173),d=l.n(m),p=l(2464),f=l.n(p),E=l(1064),v={};v.styleTagTransform=f(),v.setAttributes=s(),v.insert=i().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=d();var g=a()(E.default,v);if(!E.default.locals||e.hot.invalidate){var h=!E.default.locals,b=h?E:E.default.locals;e.hot.accept(1064,(t=>{E=l(1064),function(e,t,l){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!l||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(l&&"default"===n||e[n]))return!1;return!0}(b,h?E:E.default.locals,h)?(b=h?E:E.default.locals,g(E.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));const C=E.default&&E.default.locals?E.default.locals:void 0},3400:(e,t,l)=>{l.d(t,{Z:()=>C});var n=l(6062),a=l.n(n),r=l(4036),o=l.n(r),u=l(6793),i=l.n(u),c=l(7892),s=l.n(c),m=l(1173),d=l.n(m),p=l(2464),f=l.n(p),E=l(6458),v={};v.styleTagTransform=f(),v.setAttributes=s(),v.insert=i().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=d();var g=a()(E.default,v);if(!E.default.locals||e.hot.invalidate){var h=!E.default.locals,b=h?E:E.default.locals;e.hot.accept(6458,(t=>{E=l(6458),function(e,t,l){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!l||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(l&&"default"===n||e[n]))return!1;return!0}(b,h?E:E.default.locals,h)?(b=h?E:E.default.locals,g(E.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));const C=E.default&&E.default.locals?E.default.locals:void 0}}]);