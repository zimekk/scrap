"use strict";(self.webpackChunk_dev_web=self.webpackChunk_dev_web||[]).push([[691],{8691:(e,t,l)=>{l.r(t),l.d(t,{default:()=>$});var n=l(2784),a=l(357),o=l(5062),r=l.n(o),u=l(9386),i=l(5449),c=l(1128),s=l(3964),d=l(2048),m=l(5176),f=l(7122),p=l(9530),E=l(5096),v=l(2779),g=l.n(v),h=l(7243);function b({position:e,children:t,setPosition:l}){const a=(0,n.useRef)(null),o=(0,n.useMemo)((()=>({dragend(){const e=a.current;null!=e&&l(e.getLatLng())}})),[]);return n.createElement(u.J,{draggable:!0,eventHandlers:o,position:e,ref:a},n.createElement(i.u,null,t))}function C(){const e=(0,c.Sx)(),t=(0,n.useCallback)((t=>{t.preventDefault(),e.locate({setView:!0})}),[e]);return n.createElement("div",{className:"leaflet-top leaflet-left",style:{top:80,fontSize:16}},n.createElement("div",{className:"leaflet-control-locate leaflet-bar leaflet-control"},n.createElement("a",{className:"leaflet-bar-part leaflet-bar-part-single",title:"Locate",href:"#",onClick:t},n.createElement(p.G,{icon:E.KS0}))))}function k({map:e}){const[t]=(0,n.useState)((()=>({position:e.getCenter(),zoom:e.getZoom()}))),[l,a]=(0,n.useState)(e.getCenter()),o=(0,n.useCallback)((()=>{e.setView(t.position,t.zoom)}),[e]),r=(0,n.useCallback)((()=>{a(e.getCenter())}),[e]),u=(0,n.useCallback)((e=>{const{latlng:t,radius:l}=e;console.log({latlng:t,radius:l})}),[]);return(0,n.useEffect)((()=>(e.on("locationfound",u).on("move",r),()=>{e.off("locationfound",u).off("move",r)})),[e,r]),n.createElement("div",{className:g()(h.Z.DisplayPosition)},"latitude: ",l.lat.toFixed(4),", longitude: ",l.lng.toFixed(4)," ",n.createElement("button",{onClick:o},"Reset"),n.createElement("button",{onClick:()=>e.locate({setView:!0})},"Locate"))}function _({bounds:e,center:t,setCenter:a,list:o}){(0,n.useEffect)((()=>{delete r().Icon.Default.prototype._getIconUrl,r().Icon.Default.mergeOptions({iconRetinaUrl:l(1963).Z,iconUrl:l(379).Z,shadowUrl:l(6179).Z})}),[]);const[u,i]=(0,n.useState)(null),c=(0,n.useMemo)((()=>n.createElement(s.h,{bounds:e,whenCreated:i,zoom:13,className:g()(h.Z.Map)},n.createElement(d.I,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),n.createElement(b,{position:t,setPosition:a},`${t.lat},${t.lng}`),o.map((({i:e,position:l,name:a})=>n.createElement(m.c,{key:e,center:l,pathOptions:{color:"purple"}},n.createElement(f.G,{minWidth:90},a," (",t.distanceTo(l).toFixed(0)/1e3+" km",")")))),n.createElement(C,null))),[o,t]);return n.createElement("div",{className:g()(h.Z.Layout)},u?n.createElement(k,{map:u}):null,c)}var y=l(3654);var S=l(3400);const w=(0,a.k)((async e=>{const t=await fetch(`api/data.json?${e}`);return await t.json()}));function Z({version:e="v1"}){const{total_found:t,results:l}=w.read(e),a=function(e){const t=(0,n.useMemo)((()=>e.join("\n")),[e]);return(0,n.useMemo)((()=>`https://zimekk.github.io/place/#${(e=>window.btoa(String.fromCharCode.apply(null,y.ZP.deflate(e))))(unescape(encodeURIComponent(t)))}`),[t])}(l.map((({latitude:e,longitude:t,our_url:l})=>`${e},${t}|${l}`))),[o,u]=(0,n.useState)(""),[i]=function(e){const[t,l]=(0,n.useState)(e),a=(0,n.useRef)();return(0,n.useEffect)((()=>(clearTimeout(a.current),a.current=setTimeout((()=>l(e.toLowerCase())),400),()=>{clearTimeout(a.current)})),[e]),[t]}(o),c=(0,n.useCallback)((({target:e})=>u(e.value)),[]),[s,d]=(0,n.useState)(15),m=(0,n.useCallback)((({target:e})=>d(Number(e.value))),[]),f=(0,n.useMemo)((()=>l.filter((({description_short:e})=>e.toLowerCase().match(i))).map(((e,t)=>{const{latitude:l,longitude:n,our_url:a}=e;return{i:t,position:{lat:l,lng:n},name:a,item:e}}))),[l,i]),p=function(e){return(0,n.useMemo)((()=>r().featureGroup(e.map((({position:{lat:e,lng:t}})=>r().marker([e,t])))).getBounds()),[])}(f),[E,v]=(0,n.useState)((()=>p.getCenter())),g=(0,n.useMemo)((()=>f.filter((({position:e})=>E.distanceTo(e)<1e3*s))),[f,E,s]);return n.createElement("div",null,n.createElement(_,{bounds:p,center:E,setCenter:v,list:g}),"[",t,"]",n.createElement("fieldset",null,n.createElement("input",{type:"search",value:o,onChange:c}),n.createElement("input",{type:"range",min:0,max:100,value:s,onChange:m}),n.createElement("span",null,`${s} km`)),n.createElement("ol",null,f.map((({item:e})=>e)).map((({latitude:e,longitude:t,kind:l,type:o,format:r,area_m2:u,price:i,price_per_m2_pln:c,description_short:s,our_url:d,created:m,changed:f},p)=>n.createElement("li",{key:p},n.createElement("ul",null,n.createElement("li",null,n.createElement("a",{href:a},`${e},${t}|${d}`)),n.createElement("li",null,l),n.createElement("li",null,o),n.createElement("li",null,r),n.createElement("li",null,u),n.createElement("li",null,i),n.createElement("li",null,c),n.createElement("li",null,s),n.createElement("li",null,m),n.createElement("li",null,f)))))))}function $(){return n.createElement("div",{className:S.Z.Scrap},n.createElement("h2",null,"Scrap"),n.createElement(Z,null))}},1064:(e,t,l)=>{l.r(t),l.d(t,{default:()=>c});var n=l(9601),a=l.n(n),o=l(2609),r=l.n(o),u=l(9138),i=r()(a());i.i(u.Z),i.push([e.id,".RVfG0Rv_8vapHyo_a_Wz{height:50vh;border:2px solid red}",""]),i.locals={Map:"RVfG0Rv_8vapHyo_a_Wz"};const c=i},6458:(e,t,l)=>{l.r(t),l.d(t,{default:()=>u});var n=l(9601),a=l.n(n),o=l(2609),r=l.n(o)()(a());r.push([e.id,".HxwS5mg98o3C3ovYIOqH{color:orange}",""]),r.locals={Scrap:"HxwS5mg98o3C3ovYIOqH"};const u=r},7243:(e,t,l)=>{l.d(t,{Z:()=>C});var n=l(6062),a=l.n(n),o=l(4036),r=l.n(o),u=l(6793),i=l.n(u),c=l(7892),s=l.n(c),d=l(1173),m=l.n(d),f=l(2464),p=l.n(f),E=l(1064),v={};v.styleTagTransform=p(),v.setAttributes=s(),v.insert=i().bind(null,"head"),v.domAPI=r(),v.insertStyleElement=m();var g=a()(E.default,v);if(!E.default.locals||e.hot.invalidate){var h=!E.default.locals,b=h?E:E.default.locals;e.hot.accept(1064,(t=>{E=l(1064),function(e,t,l){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!l||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(l&&"default"===n||e[n]))return!1;return!0}(b,h?E:E.default.locals,h)?(b=h?E:E.default.locals,g(E.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));const C=E.default&&E.default.locals?E.default.locals:void 0},3400:(e,t,l)=>{l.d(t,{Z:()=>C});var n=l(6062),a=l.n(n),o=l(4036),r=l.n(o),u=l(6793),i=l.n(u),c=l(7892),s=l.n(c),d=l(1173),m=l.n(d),f=l(2464),p=l.n(f),E=l(6458),v={};v.styleTagTransform=p(),v.setAttributes=s(),v.insert=i().bind(null,"head"),v.domAPI=r(),v.insertStyleElement=m();var g=a()(E.default,v);if(!E.default.locals||e.hot.invalidate){var h=!E.default.locals,b=h?E:E.default.locals;e.hot.accept(6458,(t=>{E=l(6458),function(e,t,l){if(!e&&t||e&&!t)return!1;var n;for(n in e)if((!l||"default"!==n)&&e[n]!==t[n])return!1;for(n in t)if(!(l&&"default"===n||e[n]))return!1;return!0}(b,h?E:E.default.locals,h)?(b=h?E:E.default.locals,g(E.default)):e.hot.invalidate()}))}e.hot.dispose((function(){g()}));const C=E.default&&E.default.locals?E.default.locals:void 0}}]);