{"version":3,"file":"74.js","mappings":"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","sources":["webpack://@dev/web/./src/containers/HotShots/styles.module.scss?769d","webpack://@dev/web/./src/containers/HotShots/index.tsx","webpack://@dev/web/./src/containers/HotShots/styles.module.scss","webpack://@dev/web/../../node_modules/rxjs/dist/esm5/internal/operators/distinctUntilChanged.js","webpack://@dev/web/../../node_modules/rxjs/dist/esm5/internal/operators/debounceTime.js","webpack://@dev/web/../../node_modules/rxjs/dist/esm5/internal/operators/map.js"],"sourcesContent":["\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./styles.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./styles.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, {\n  type ChangeEventHandler,\n  useCallback,\n  useEffect,\n  useMemo,\n  useState,\n} from \"react\";\nimport { Subject } from \"rxjs\";\nimport { debounceTime, distinctUntilChanged, map } from \"rxjs/operators\";\nimport { createAsset } from \"use-asset\";\nimport { format } from \"date-fns\";\nimport type { ItemType } from \"@dev/cli/src/services/HotShotService/types\";\nimport { Gallery } from \"../../components/Gallery\";\nimport { Link } from \"../../components/Link\";\nimport styles from \"./styles.module.scss\";\n\n// https://github.com/pmndrs/use-asset#dealing-with-async-assets\nconst asset = createAsset(async (version) => {\n  const res = await fetch(`api/hot-shots/data.json?${version}`);\n  return await res.json().then((list) => list);\n});\n\nconst getPercentage = ({\n  Price,\n  OldPrice = Price,\n}: {\n  Price: number;\n  OldPrice: number;\n}) => (1 - Price / OldPrice) * 100;\n\nfunction Product({ item }: { item: ItemType }) {\n  return (\n    <div className={styles.Product}>\n      <Gallery\n        className={styles.Gallery}\n        images={item.Product.Photos.map(({ ThumbnailUrl }) => ThumbnailUrl)}\n        srcSet={item.Product.Photos.map(({ Url }) => Url)}\n      />\n      <div className={styles.Right}>\n        <div>{format(new Date(item.PromotionEnd), \"yyyy-MM-dd HH:mm\")}</div>\n        {item.OldPrice ? (\n          <span className={styles.PreviousPrice}>{`${new Intl.NumberFormat(\n            \"pl-PL\",\n            {\n              minimumFractionDigits: 2,\n            }\n          ).format(item.OldPrice)} PLN`}</span>\n        ) : null}\n        <span className={styles.Price}>{`${new Intl.NumberFormat(\"pl-PL\", {\n          minimumFractionDigits: 2,\n        }).format(item.Price)} PLN`}</span>\n        {item.OldPrice ? (\n          <span className={styles.Percentage}>{`(${new Intl.NumberFormat(\n            \"pl-PL\",\n            {\n              maximumFractionDigits: 2,\n            }\n          ).format(getPercentage(item))}%)`}</span>\n        ) : null}\n      </div>\n      <div>\n        <Link\n          href={item.Product.WebUrl}\n        >{`[${item.Product.Id}] ${item.Product.Name}`}</Link>\n        <div>{item.Product.Producer.Name}</div>\n        <div>{item.PromotionName}</div>\n        <div>{item.PromotionGainText}</div>\n        {/* <pre>{JSON.stringify(item, null, 2)}</pre> */}\n      </div>\n    </div>\n  );\n}\n\nconst PRODUCTS_LIMIT = 5;\n\nfunction Products({ products }: { products: ItemType[] }) {\n  const [more, setMore] = useState(() =>\n    products.length > PRODUCTS_LIMIT ? false : true\n  );\n\n  return (\n    <div>\n      {(more ? products : products.slice(0, PRODUCTS_LIMIT)).map(\n        (item, key) => (\n          <div key={key} className={styles.Row}>\n            <Product item={item} />\n          </div>\n        )\n      )}\n      {more === false && (\n        <Link onClick={(e) => (e.preventDefault(), setMore(true))}>\n          {`${products.length - PRODUCTS_LIMIT} wiÄ™cej...`}\n        </Link>\n      )}\n    </div>\n  );\n}\n\nfunction Results({ results, queries }: { results: ItemType[]; queries: any }) {\n  return (\n    <Products\n      products={results.filter(\n        (item) =>\n          (queries.search === \"\" ||\n            item.PromotionName.toLowerCase().match(queries.search)) &&\n          (queries.reduce === 0 || queries.reduce <= getPercentage(item))\n      )}\n    />\n  );\n}\n\nconst REDUCE_LIST = [0, 10, 20, 30, 50, 70, 90];\n\nfunction Filters({ filters, setFilters }: { filters: any; setFilters: any }) {\n  return (\n    <fieldset>\n      <label>\n        <span>Search</span>\n        <input\n          type=\"search\"\n          value={filters.search}\n          onChange={useCallback<ChangeEventHandler<HTMLInputElement>>(\n            ({ target }) =>\n              setFilters((filters) => ({\n                ...filters,\n                search: target.value,\n              })),\n            []\n          )}\n        />\n      </label>{\" \"}\n      <label>\n        <span>Reduce</span>\n        <input\n          type=\"range\"\n          list=\"reduce-list\"\n          min={REDUCE_LIST[0]}\n          max={[...REDUCE_LIST].pop()}\n          value={filters.reduce}\n          onChange={useCallback<ChangeEventHandler<HTMLInputElement>>(\n            ({ target }) =>\n              setFilters((filters) => ({\n                ...filters,\n                reduce: Number(target.value),\n              })),\n            []\n          )}\n        />\n        <datalist id=\"reduce-list\">\n          {REDUCE_LIST.map((value) => (\n            <option\n              key={value}\n              value={value}\n              label={REDUCE_LIST.includes(value) ? `${value}%` : undefined}\n            ></option>\n          ))}\n        </datalist>\n        <span>{`${filters.reduce}%`}</span>\n      </label>\n    </fieldset>\n  );\n}\n\nexport default function Section({ version = \"v1\" }) {\n  const { results } = asset.read(version) as {\n    results: ItemType[];\n  };\n\n  const [filters, setFilters] = useState(() => ({\n    reduce: REDUCE_LIST[0],\n    search: \"\",\n  }));\n\n  const [queries, setQueries] = useState(() => filters);\n\n  const search$ = useMemo(() => new Subject<any>(), []);\n\n  useEffect(() => {\n    const subscription = search$\n      .pipe(\n        map(({ search, ...filters }) =>\n          JSON.stringify({\n            ...queries,\n            ...filters,\n            search: search.toLowerCase().trim(),\n          })\n        ),\n        distinctUntilChanged(),\n        debounceTime(400)\n      )\n      .subscribe((filters) =>\n        setQueries((queries) => ({ ...queries, ...JSON.parse(filters) }))\n      );\n    return () => subscription.unsubscribe();\n  }, [search$]);\n\n  useEffect(() => {\n    search$.next(filters);\n  }, [filters]);\n\n  console.log({ results, filters, queries });\n\n  return (\n    <div className={styles.Section}>\n      <h2>HotShots</h2>\n      <Filters filters={filters} setFilters={setFilters} />\n      <Results results={results} queries={queries} />\n    </div>\n  );\n}\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.zOOTwrxUsqbquSORKdJR{color:purple;padding:1em}.WDAws0x0CCmqB4jbarop{position:relative;clear:both;min-height:66px;padding:.5em 1em .5em calc(100px + 1em);border-top:1px solid #d3d3d3}.GWhCKgf2fnvnxuu4GDwm{position:absolute;top:.5em;left:.5em;width:95px;height:80px;border:1px solid #d3d3d3}.e7Pvu3YWwmq7OOHa0eOv .zPANLvlPfGOesUSMjyYl{text-decoration:line-through;color:#d3d3d3}.e7Pvu3YWwmq7OOHa0eOv .zPANLvlPfGOesUSMjyYl+.cBfJNY6C_NSy8CdiTztY{margin-left:.5em}.e7Pvu3YWwmq7OOHa0eOv .cBfJNY6C_NSy8CdiTztY+.TibU2ap1KG6VfR8wqJfG{margin-left:.5em}.e7Pvu3YWwmq7OOHa0eOv .mWhOwBUwdb6SL05z00Qc{color:gray}.e7Pvu3YWwmq7OOHa0eOv .CMvB9d3Fyvl_gT7HrTsl{float:right;text-align:right}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/containers/HotShots/styles.module.scss\"],\"names\":[],\"mappings\":\"AAAA,sBACE,YAAA,CACA,WAAA,CAEF,sBACE,iBAAA,CACA,UAAA,CACA,eAAA,CACA,uCAAA,CACA,4BAAA,CAEF,sBACE,iBAAA,CACA,QAAA,CACA,SAAA,CACA,UAAA,CACA,WAAA,CACA,wBAAA,CAGA,4CACE,4BAAA,CACA,aAAA,CACA,kEACE,gBAAA,CAIF,kEACE,gBAAA,CAGJ,4CACE,UAAA,CAEF,4CACE,WAAA,CACA,gBAAA\",\"sourcesContent\":[\".Section {\\n  color: purple;\\n  padding: 1em;\\n}\\n.Row {\\n  position: relative;\\n  clear: both;\\n  min-height: 66px;\\n  padding: 0.5em 1em 0.5em calc(100px + 1em);\\n  border-top: 1px solid lightgray;\\n}\\n.Gallery {\\n  position: absolute;\\n  top: 0.5em;\\n  left: 0.5em;\\n  width: 95px;\\n  height: 80px;\\n  border: 1px solid lightgray;\\n}\\n.Product {\\n  .PreviousPrice {\\n    text-decoration: line-through;\\n    color: lightgray;\\n    & + .Price {\\n      margin-left: 0.5em;\\n    }\\n  }\\n  .Price {\\n    & + .Percentage {\\n      margin-left: 0.5em;\\n    }\\n  }\\n  .Rates {\\n    color: gray;\\n  }\\n  .Right {\\n    float: right;\\n    text-align: right;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"Section\": `zOOTwrxUsqbquSORKdJR`,\n\t\"Row\": `WDAws0x0CCmqB4jbarop`,\n\t\"Gallery\": `GWhCKgf2fnvnxuu4GDwm`,\n\t\"Product\": `e7Pvu3YWwmq7OOHa0eOv`,\n\t\"PreviousPrice\": `zPANLvlPfGOesUSMjyYl`,\n\t\"Price\": `cBfJNY6C_NSy8CdiTztY`,\n\t\"Percentage\": `TibU2ap1KG6VfR8wqJfG`,\n\t\"Rates\": `mWhOwBUwdb6SL05z00Qc`,\n\t\"Right\": `CMvB9d3Fyvl_gT7HrTsl`\n};\nmodule.exports = ___CSS_LOADER_EXPORT___;\n","import { identity } from '../util/identity';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function distinctUntilChanged(comparator, keySelector) {\n    if (keySelector === void 0) { keySelector = identity; }\n    comparator = comparator !== null && comparator !== void 0 ? comparator : defaultCompare;\n    return operate(function (source, subscriber) {\n        var previousKey;\n        var first = true;\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n            var currentKey = keySelector(value);\n            if (first || !comparator(previousKey, currentKey)) {\n                first = false;\n                previousKey = currentKey;\n                subscriber.next(value);\n            }\n        }));\n    });\n}\nfunction defaultCompare(a, b) {\n    return a === b;\n}\n//# sourceMappingURL=distinctUntilChanged.js.map","import { asyncScheduler } from '../scheduler/async';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function debounceTime(dueTime, scheduler) {\n    if (scheduler === void 0) { scheduler = asyncScheduler; }\n    return operate(function (source, subscriber) {\n        var activeTask = null;\n        var lastValue = null;\n        var lastTime = null;\n        var emit = function () {\n            if (activeTask) {\n                activeTask.unsubscribe();\n                activeTask = null;\n                var value = lastValue;\n                lastValue = null;\n                subscriber.next(value);\n            }\n        };\n        function emitWhenIdle() {\n            var targetTime = lastTime + dueTime;\n            var now = scheduler.now();\n            if (now < targetTime) {\n                activeTask = this.schedule(undefined, targetTime - now);\n                subscriber.add(activeTask);\n                return;\n            }\n            emit();\n        }\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n            lastValue = value;\n            lastTime = scheduler.now();\n            if (!activeTask) {\n                activeTask = scheduler.schedule(emitWhenIdle, dueTime);\n                subscriber.add(activeTask);\n            }\n        }, function () {\n            emit();\n            subscriber.complete();\n        }, undefined, function () {\n            lastValue = activeTask = null;\n        }));\n    });\n}\n//# sourceMappingURL=debounceTime.js.map","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function map(project, thisArg) {\n    return operate(function (source, subscriber) {\n        var index = 0;\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n            subscriber.next(project.call(thisArg, value, index++));\n        }));\n    });\n}\n//# sourceMappingURL=map.js.map"],"names":["options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","undefined","e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","enumerable","configurable","writable","_invoke","_OverloadYield","k","asyncGeneratorStep","Promise","resolve","then","asset","createAsset","_ref","_regeneratorRuntime","mark","_callee","version","res","wrap","_context","prev","next","fetch","concat","sent","json","list","abrupt","stop","arguments","apply","_next","_throw","_x","getPercentage","_ref2","Price","_ref2$OldPrice","OldPrice","Product","_ref3","item","React","className","styles","Gallery","images","Photos","map","_ref4","ThumbnailUrl","srcSet","_ref5","Url","format","Date","PromotionEnd","Intl","NumberFormat","minimumFractionDigits","maximumFractionDigits","Link","href","WebUrl","Id","Name","Producer","PromotionName","PromotionGainText","PRODUCTS_LIMIT","Products","_ref6","products","_useState2","_slicedToArray","useState","more","setMore","slice","key","onClick","preventDefault","Results","_ref7","results","queries","filter","search","toLowerCase","match","reduce","REDUCE_LIST","Filters","_ref8","filters","setFilters","type","onChange","useCallback","_ref9","target","_objectSpread","min","max","pop","_ref0","Number","id","label","includes","Section","_ref1","_ref1$version","read","_useState4","_useState6","setQueries","search$","useMemo","Subject","useEffect","subscription","pipe","_ref11","_objectWithoutProperties","_excluded","JSON","stringify","trim","distinctUntilChanged","debounceTime","subscribe","parse","unsubscribe","console","log","___CSS_LOADER_API_SOURCEMAP_IMPORT___","___CSS_LOADER_EXPORT___","___CSS_LOADER_API_IMPORT___","push","module","locals","exports","comparator","keySelector","defaultCompare","source","subscriber","previousKey","first","currentKey","b","dueTime","scheduler","activeTask","lastValue","lastTime","emit","emitWhenIdle","targetTime","now","this","schedule","add","complete","project","thisArg","index"],"sourceRoot":""}