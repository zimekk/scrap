"use strict";(self.webpackChunk_dev_web=self.webpackChunk_dev_web||[]).push([[322],{6280:(e,t,n)=>{n.d(t,{r:()=>I});var r=n(2784),a=n(357),o=n(5096),l=function(e){var t=e.height,n=void 0===t?80:t,a=e.width,o=void 0===a?80:a,l=e.color,i=void 0===l?"green":l,c=e.radius,u=void 0===c?1:c,s=e.label,m=void 0===s?"audio-loading":s;return r.createElement("svg",{width:o,height:n,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg","aria-label":m},r.createElement("defs",null,r.createElement("linearGradient",{x1:"8.042%",y1:"0%",x2:"65.682%",y2:"23.865%",id:"a"},r.createElement("stop",{stopColor:i,stopOpacity:"0",offset:"0%"}),r.createElement("stop",{stopColor:i,stopOpacity:".631",offset:"63.146%"}),r.createElement("stop",{stopColor:i,offset:"100%"}))),r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("g",{transform:"translate(1 1)"},r.createElement("path",{d:"M36 18c0-9.94-8.06-18-18-18",id:"Oval-2",stroke:i,strokeWidth:"2"},r.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"0.9s",repeatCount:"indefinite"})),r.createElement("circle",{fill:"#fff",cx:"36",cy:"18",r:u},r.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"0.9s",repeatCount:"indefinite"})))))},i=n(2779),c=n.n(i),u=n(6062),s=n.n(u),m=n(4036),f=n.n(m),d=n(6793),p=n.n(d),A=n(7892),g=n.n(A),h=n(1173),b=n.n(h),v=n(2464),y=n.n(v),C=n(7591),E={};E.styleTagTransform=y(),E.setAttributes=g(),E.insert=p().bind(null,"head"),E.domAPI=f(),E.insertStyleElement=b(),s()(C.Z,E);const k=C.Z&&C.Z.locals?C.Z.locals:void 0;var w=["children"],O=["src"];function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function j(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function _(e,t,n,r,a,o,l){try{var i=e[o](l),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T=(0,a.k)(function(){var e,t=(e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n=new Image;Object.assign(n,{onload:function(){return e(t)},onerror:function(){return e((n=(t=S(o.VmB.icon,5))[0],r=t[1],a=t[4],'data:image/svg+xml;utf8,<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="crosshairs" class="svg-inline--fa fa-crosshairs fa-w-16 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 '.concat(n," ").concat(r,'"><path fill="currentColor" d="').concat(a,'"></path></svg>')));var t,n,r,a},src:t})})));case 1:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){_(o,r,a,l,i,"next",e)}function i(e){_(o,r,a,l,i,"throw",e)}l(void 0)}))});return function(e){return t.apply(this,arguments)}}());function z(e){var t=e.children,n=j(e,w);return r.createElement("button",x({className:k.Link},n),t)}function P(e){var t=e.src,n=j(e,O),a=T.read(t);return r.createElement(z,null,r.createElement("img",x({src:a},n,{referrerPolicy:"no-referrer"})))}function F(){return r.createElement("div",{className:k.Loader},r.createElement(l,null))}function N(e){var t=x({},e);return r.createElement("div",{className:k.ImgWrapper},r.createElement(r.Suspense,{fallback:r.createElement(F,null)},r.createElement(P,t)))}function I(e){var t=e.className,n=e.images,a=S((0,r.useState)(!1),2),o=a[0],l=a[1],i=S((0,r.useState)(!1),2),u=i[0],s=i[1],m=(0,r.useRef)(null),f=S((0,r.useState)({scale:0}),2),d=f[0],p=f[1],A=(0,r.useCallback)((function(e){return e.stopPropagation(),p((function(e){if(m.current){var t=m.current.getBoundingClientRect(),n=t.x,r=t.y,a=t.width,o=t.height,l=window,i=l.innerWidth,c=l.innerHeight,u=i/a*1;return e.scale?{scale:0}:{scale:u,translateX:((i-a)/2-n)/u,translateY:((c-o)/2-r)/u}}return e}))}),[m]);return(0,r.useEffect)((function(){var e=function(e){var t=e.target;t.scrollLeft===t.scrollWidth-t.offsetWidth&&s(!0)};if(m.current instanceof HTMLElement){var t=new IntersectionObserver((function(e){S(e,1)[0].isIntersecting&&l(!0)}),{root:null,rootMargin:"0px",threshold:1});return t.observe(m.current),m.current.addEventListener("scroll",e),function(){m.current&&(t.unobserve(m.current),m.current.removeEventListener("scroll",e))}}}),[m]),n.length?r.createElement("div",{ref:m,className:c()(t,k.Gallery),style:d.scale?{cursor:"zoom-out",transform:"scale(".concat(d.scale,") translate(").concat(d.translateX,"px, ").concat(d.translateY,"px)"),zIndex:1}:{cursor:"zoom-in"},onClick:A},o&&n.slice(0,u?n.length:3).map((function(e,t){return r.createElement(N,{key:t,src:e,alt:"Image #".concat(t+1)})}))):null}},891:(e,t,n)=>{n.d(t,{r:()=>l});var r=n(2784),a=["href"];function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e){var t=e.href,n=void 0===t?"#":t,l=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,a),i="#"===n[0];return r.createElement("a",o({href:n,target:i?void 0:"_blank",rel:i?void 0:"noopener noreferrer"},l))}},2700:(e,t,n)=>{n.d(t,{np:()=>_,D:()=>S,CO:()=>B});var r=n(2784),a=n(9386),o=n(5449),l=n(1128),i=n(9530),c=n(5096),u=n(2779),s=n.n(u),m=n(6062),f=n.n(m),d=n(4036),p=n.n(d),A=n(6793),g=n.n(A),h=n(7892),b=n.n(h),v=n(1173),y=n.n(v),C=n(2464),E=n.n(C),k=n(2091),w={};w.styleTagTransform=E(),w.setAttributes=b(),w.insert=g().bind(null,"head"),w.domAPI=p(),w.insertStyleElement=y(),f()(k.Z,w);const O=k.Z&&k.Z.locals?k.Z.locals:void 0;function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e){var t=e.map,n=x((0,r.useState)((function(){return{position:t.getCenter(),zoom:t.getZoom()}})),1)[0],a=x((0,r.useState)(t.getCenter()),2),o=a[0],l=a[1],i=(0,r.useCallback)((function(){t.setView(n.position,n.zoom)}),[t]),c=(0,r.useCallback)((function(){l(t.getCenter())}),[t]),u=(0,r.useCallback)((function(e){var t=e.latlng,n=e.radius;console.log({latlng:t,radius:n})}),[]);return(0,r.useEffect)((function(){return t.on("locationfound",u).on("move",c),function(){t.off("locationfound",u).off("move",c)}}),[t,c]),r.createElement("div",{className:s()(O.DisplayPosition)},"latitude: ",o.lat.toFixed(4),", longitude: ",o.lng.toFixed(4)," ",r.createElement("button",{onClick:i},"Reset"),r.createElement("button",{onClick:function(){return t.locate({setView:!0})}},"Locate"))}function S(e){var t=e.position,n=e.children,l=e.setPosition,i=(0,r.useRef)(null),c=(0,r.useMemo)((function(){return{dragend:function(){var e=i.current;null!=e&&l(e.getLatLng())}}}),[]);return r.createElement(a.J,{draggable:!0,eventHandlers:c,position:t,ref:i},r.createElement(o.u,null,n))}function B(){var e=(0,l.Sx)(),t=(0,r.useCallback)((function(t){t.preventDefault(),e.locate({setView:!0})}),[e]);return r.createElement("div",{className:"leaflet-top leaflet-left",style:{top:80,fontSize:16}},r.createElement("div",{className:"leaflet-control-locate leaflet-bar leaflet-control"},r.createElement("a",{className:"leaflet-bar-part leaflet-bar-part-single",title:"Locate",href:"#",onClick:t},r.createElement(i.G,{icon:c.KS0}))))}},9322:(e,t,n)=>{n.r(t),n.d(t,{default:()=>we});var r=n(2784),a=n(1148),o=n(7984),l=n(9369),i=n(8871),c=n(9530),u=n(5096),s=n(1498),m=n(357),f=n(6280),d=n(891),p=n(5062),A=n.n(p),g=n(3964),h=n(2048),b=n(5176),v=n(7122),y=n(2700),C=n(2779),E=n.n(C),k=n(6062),w=n.n(k),O=n(4036),x=n.n(O),j=n(6793),_=n.n(j),S=n(7892),B=n.n(S),T=n(1173),z=n.n(T),P=n(2464),F=n.n(P),N=n(190),I={};I.styleTagTransform=F(),I.setAttributes=B(),I.insert=_().bind(null,"head"),I.domAPI=x(),I.insertStyleElement=z(),w()(N.Z,I);const H=N.Z&&N.Z.locals?N.Z.locals:void 0;function D(e){var t=e.bounds,a=e.center,o=e.setCenter,l=e.list,i=e.onSelect;(0,r.useEffect)((function(){delete A().Icon.Default.prototype._getIconUrl,A().Icon.Default.mergeOptions({iconRetinaUrl:n(1963).Z,iconUrl:n(379).Z,shadowUrl:n(6179).Z})}),[]);var c=(0,r.useMemo)((function(){return r.createElement(g.h,{bounds:t,zoom:13,className:E()(H.Map)},r.createElement(h.I,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),r.createElement(y.D,{position:a,setPosition:o},"".concat(a.lat,",").concat(a.lng)),l.map((function(e){var t=e.id,n=e.position,o=e.title;return r.createElement(b.c,{key:t,center:n,pathOptions:{color:"purple"}},r.createElement(v.G,{minWidth:90},r.createElement("section",null,r.createElement("header",null,"[",r.createElement("a",{href:"#",onClick:function(e){return e.preventDefault(),i(t)}},t),"]","".concat(o," (").concat(a.distanceTo(n).toFixed(0)/1e3," km)")))))})),r.createElement(y.CO,null))}),[l,a]);return r.createElement("div",{className:E()(H.Layout)},c)}var M=n(195),K=["parameters"];function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U=function(e){return M.z.object({address:M.z.record(M.z.string(),M.z.union([M.z.string(),M.z.number()])),id:M.z.string(),information:M.z.array(M.z.object({label:M.z.string(),unit:M.z.string(),values:M.z.array(M.z.string())})).optional(),location:M.z.array(M.z.string()),parameters:M.z.array(M.z.object({label:M.z.string(),value:M.z.string()}))}).transform((function(e){var t=e.parameters,n=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,K);return W({parameters:t.concat(n.information?n.information.filter((function(e){return e.values.length>0})).map((function(e){var t=e.label,n=e.values,r=e.unit;return{label:t,value:n.join(", ").concat(r)}})):[])},n)})).transform((function(e){return W(W({},e),{},{_information:e.information?e.information.filter((function(e){return e.values.length>0})).reduce((function(e,t){var n=t.label,r=t.values;return Object.assign(e,G({},n,r))}),{}):null,_parameters:e.parameters.reduce((function(e,t){var n=t.label,r=t.value;return Object.assign(e,G({},n,r))}),{})})})).transform((function(t){var n,r,a,o,l,i,c,u,s=t.address,m=t.location,f=t.parameters,d=t._information,p=t._parameters;return{_area:Number(null!=d&&null!==(n=d.area)&&void 0!==n&&n.length?d.area[0]:(null===(r=p["Powierzchnia w m2"])||void 0===r?void 0:r.replace(/^([\d\s]+) m2$/g,"$1").replace(/\s/,""))||0),_terrain_area:Number(null!=d&&null!==(a=d.terrain_area)&&void 0!==a&&a.length?d.terrain_area[0]:(null===(o=p["Powierzchnia działki w m2"])||void 0===o?void 0:o.replace(/^([\d\s]+) m2$/g,"$1").replace(/\s/,""))||0),_address:s?["lokalizacja_kraj","lokalizacja_region","lokalizacja_powiat","lokalizacja_gmina","lokalizacja_miejscowosc","lokalizacja_ulica"].map((function(e){return s[e]})).filter(Boolean):null,_location:m.join(", "),road:null!=d&&null!==(l=d.access_types)&&void 0!==l&&l.length?null===(i=d.access_types)||void 0===i?void 0:i.map((function(e){return{"access_types::asphalt":"asfaltowa","access_types::dirt":"polna","access_types::hard_surfaced":"utwardzana","access_types::soft_surfaced":"nieutwardzona"}[e]||console.log({value:e})}))[0]:p["Droga dojazdowa"],building:null!=d&&null!==(c=d.building_type)&&void 0!==c&&c.length?null===(u=d.building_type)||void 0===u?void 0:u.map((function(e){return{"building_type::detached":"wolnostojący","building_type::ribbon":"szeregowy","building_type::semi_detached":"bliźniak","building_type::residence":"pałac/dworek/willa","building_type::tenement":"kamienica"}[e]||console.log({value:e})}))[0]:p["Typ budynku"],parameters:f,coordinates:e.coordinates||(s["lokalizacja_szerokosc-geograficzna-y"]?{latitude:s["lokalizacja_szerokosc-geograficzna-y"],longitude:s["lokalizacja_dlugosc-geograficzna-x"]}:null)}})).parse(e)},Y=n(2039),Z={};Z.styleTagTransform=F(),Z.setAttributes=B(),Z.insert=_().bind(null,"head"),Z.domAPI=x(),Z.insertStyleElement=z(),w()(Y.Z,Z);const R=Y.Z&&Y.Z.locals?Y.Z.locals:void 0;var Q=["search"],q=["areaTo"],V=["areaFrom"],X=["terrainAreaTo"],J=["terrainAreaFrom"],$=["priceTo"],ee=["priceFrom"],te=["children"];function ne(){return(ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function re(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ue(e,t,n,r,a,o,l){try{var i=e[o](l),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}var se=[1,3,5,10,20,50,100,500],me={id:1,price:1,title:1,_area:1,_terrain_area:1,_created:-1,_updated:-1},fe=[0,1e5,2e5,3e5,4e5,5e5,1e6,15e5,2e6,25e5,3e6,4e6,5e6],de=[0,50,100,150,200,250,300,400,500,600,700,800,900],pe=[0,250,500,750,1e3,1500,2e3,2500,3e3,3500,4e3,5e3],Ae=(0,m.k)(function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("api/properties/data.json?".concat(t));case 2:return n=e.sent,e.next=5,n.json().then((function(e){return{hide:e.hide,like:e.like,results:e.results.map((function(e){return ie(ie({},e),U(e))}))}}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){ue(o,r,a,l,i,"next",e)}function i(e){ue(o,r,a,l,i,"throw",e)}l(void 0)}))});return function(e){return t.apply(this,arguments)}}()),ge=function(e){return ie(ie({},e),{},{position:e.coordinates?{lat:e.coordinates.latitude,lng:e.coordinates.longitude}:null,_search:e.title.toLowerCase(),_price:e.price,_updated:e._updated||0})};function he(e){var t=e.version,n=void 0===t?"v1":t,c=Ae.read(n),u=c.results,s=c.hide,m=c.like,p=(0,r.useMemo)((function(){return{category:[""].concat(u.map((function(e){return e.category})).filter(Boolean).filter((function(e,t,n){return n.indexOf(e)===t})).sort((function(e,t){return e.localeCompare(t)}))),location:[""].concat(u.map((function(e){return e._location})).filter(Boolean).filter((function(e,t,n){return n.indexOf(e)===t})).sort((function(e,t){return e.localeCompare(t)}))),road:[""].concat(u.map((function(e){return e.road})).filter((function(e,t,n){return void 0!==e&&n.indexOf(e)===t})).sort((function(e,t){return e.localeCompare(t)}))),building:[""].concat(u.map((function(e){return e.building})).filter((function(e,t,n){return void 0!==e&&n.indexOf(e)===t})).sort((function(e,t){return e.localeCompare(t)})))}}),[u]),g=ae((0,r.useState)((function(){return{category:p.category[0],location:p.location[0],road:p.road[0],building:p.building[0],search:"",showHide:!0,onlyLike:!1,priceFrom:fe[0],priceTo:fe[fe.length-4],areaFrom:de[0],areaTo:de[de.length-1],terrainAreaFrom:pe[0],terrainAreaTo:pe[pe.length-1],radius:se[se.length-1]}})),2),h=g[0],b=g[1],v=ae((0,r.useState)((function(){return h})),2),y=v[0],C=v[1],k=ae((0,r.useState)((function(){return Object.keys(me)[5]})),2),w=k[0],O=k[1],x=(0,r.useCallback)((function(e){var t=e.target;return O(t.value)}),[]),j=(0,r.useMemo)((function(){return new a.x}),[]);(0,r.useEffect)((function(){var e=j.pipe((0,o.U)((function(e){var t=e.search,n=re(e,Q);return JSON.stringify(ie(ie(ie({},y),n),{},{search:t.trim()}))})),(0,l.x)(),(0,i.b)(400)).subscribe((function(e){return C((function(t){return ie(ie({},t),JSON.parse(e))}))}));return function(){return e.unsubscribe()}}),[j]),(0,r.useEffect)((function(){j.next(h)}),[h]),console.log({options:p,filters:h,results:u});var _=ae((0,r.useState)(s),2),S=_[0],B=_[1],T=ae((0,r.useState)(m),2),z=T[0],P=T[1],F=(0,r.useMemo)((function(){return u.map(ge).filter((function(e){return(!y.category||[e.category].includes(y.category))&&(!y.location||[e._location].includes(y.location))&&(!y.road||[e.road].includes(y.road))&&(!y.building||[e.building].includes(y.building))&&(!y.onlyLike||z.includes(e.id))&&(y.showHide||!S.includes(e.id))&&(e._search.match(y.search)||y.search===String(e.id))&&(y.areaTo===de[0]||y.areaFrom<=e._area&&e._area<=y.areaTo)&&(y.terrainAreaTo===pe[0]||y.terrainAreaFrom<=e._terrain_area&&e._terrain_area<=y.terrainAreaTo)&&(y.priceTo===fe[0]||y.priceFrom<=e._price&&e._price<=y.priceTo)}))}),[u,y]),N=(0,r.useMemo)((function(){return F.sort((function(e,t){return me[w]*(e[w]>t[w]?1:-1)}))}),[F,w]),I=(0,r.useMemo)((function(){return F.filter((function(e){var t=e.position;return Boolean(t)}))}),[F]),H=function(e){return(0,r.useMemo)((function(){return A().featureGroup(e.map((function(e){var t=e.position,n=t.lat,r=t.lng;return A().marker([n,r])}))).getBounds()}),[])}([{position:{lat:"52.1530829",lng:"21.1104411"}}]),M=ae((0,r.useState)((function(){return H.getCenter()})),2),K=M[0],L=M[1],W=(0,r.useMemo)((function(){return I.filter((function(e){var t=e.position;return K.distanceTo(t)<1e3*y.radius}))}),[I,K,y.radius]),G=ae((0,r.useState)((function(){return{map:!1}})),2),U=G[0],Y=G[1];return console.log({points:I,center:K,queries:y,nearby:W}),r.createElement("div",null,r.createElement("div",null,r.createElement(d.r,{onClick:function(e){return e.preventDefault(),Y((function(e){return ie(ie({},e),{},{map:!e.map})}))}},U.map?"Hide map":"Show map")," ",U.map&&r.createElement(D,{bounds:H,center:K,setCenter:L,list:W,onSelect:function(e){return b((function(t){return ie(ie({},t),{},{search:e})}))}})),r.createElement("fieldset",null,r.createElement("label",null,r.createElement("span",null,"Category"),r.createElement("select",{value:h.category,onChange:(0,r.useCallback)((function(e){var t=e.target;return b((function(e){return ie(ie({},e),{},{category:t.value})}))}),[])},p.category.map((function(e){return r.createElement("option",{key:e,value:e},e)})))),r.createElement("label",null,r.createElement("span",null,"Search"),r.createElement("input",{type:"search",value:h.search,onChange:(0,r.useCallback)((function(e){var t=e.target;return b((function(e){return ie(ie({},e),{},{search:t.value})}))}),[])})),r.createElement("label",null,r.createElement("span",null,"Show hidden"),r.createElement("input",{type:"checkbox",checked:h.showHide,onChange:(0,r.useCallback)((function(e){var t=e.target;return b((function(e){return ie(ie({},e),{},{showHide:t.checked})}))}),[])})),r.createElement("label",null,r.createElement("span",null,"Only likes"),r.createElement("input",{type:"checkbox",checked:h.onlyLike,onChange:(0,r.useCallback)((function(e){var t=e.target;return b((function(e){return ie(ie({},e),{},{onlyLike:t.checked})}))}),[])})),r.createElement("label",null,r.createElement("span",null,"Sort"),r.createElement("select",{value:w,onChange:x},Object.entries(me).map((function(e){var t=ae(e,1)[0];return r.createElement("option",{key:t,value:t},t)})))),r.createElement("div",null,r.createElement("label",null,r.createElement("span",null,"Location"),r.createElement("select",{value:h.location,onChange:(0,r.useCallback)((function(e){var t=e.target.value;return b((function(e){return ie(ie({},e),{},{location:t})}))}),[])},p.location.map((function(e){return r.createElement("option",{key:e,value:e},e)}))))),r.createElement("div",null,r.createElement("label",null,r.createElement("span",null,"Road"),r.createElement("select",{value:h.road,onChange:(0,r.useCallback)((function(e){var t=e.target.value;return b((function(e){return ie(ie({},e),{},{road:t})}))}),[])},p.road.map((function(e){return r.createElement("option",{key:e,value:e},e)}))))),r.createElement("div",null,r.createElement("label",null,r.createElement("span",null,"Building"),r.createElement("select",{value:h.building,onChange:(0,r.useCallback)((function(e){var t=e.target.value;return b((function(e){return ie(ie({},e),{},{building:t})}))}),[])},p.building.map((function(e){return r.createElement("option",{key:e,value:e},e)}))))),r.createElement("div",null,r.createElement("label",null,r.createElement("span",null,"Area From"),r.createElement("input",{type:"range",list:"area-list",min:de[0],max:de[de.length-1],value:h.areaFrom,onChange:(0,r.useCallback)((function(e){var t=e.target;return b((function(e){var n=e.areaTo,r=re(e,q),a=Number(t.value);return ie(ie({},r),{},{areaFrom:a,areaTo:n<a?a:n})}))}),[])}),r.createElement("datalist",{id:"area-list"},de.map((function(e){return r.createElement("option",{key:e,value:e})})))),r.createElement("label",null,r.createElement("span",null,"Area To"),r.createElement("input",{type:"range",list:"area-list",min:de[0],max:de[de.length-1],value:h.areaTo,onChange:(0,r.useCallback)((function(e){var t=e.target;return b((function(e){var n=e.areaFrom,r=re(e,V),a=Number(t.value);return ie(ie({},r),{},{areaFrom:a>n?n:a,areaTo:a})}))}),[])}),r.createElement("span",null,"".concat((new Intl.NumberFormat).format(h.areaFrom)," - ").concat((new Intl.NumberFormat).format(h.areaTo)," m2")))),r.createElement("div",null,r.createElement("label",null,r.createElement("span",null,"Terrain Area From"),r.createElement("input",{type:"range",list:"terrain-area-list",min:pe[0],max:pe[pe.length-1],value:h.terrainAreaFrom,onChange:(0,r.useCallback)((function(e){var t=e.target;return b((function(e){var n=e.terrainAreaTo,r=re(e,X),a=Number(t.value);return ie(ie({},r),{},{terrainAreaFrom:a,terrainAreaTo:n<a?a:n})}))}),[])}),r.createElement("datalist",{id:"terrain-area-list"},pe.map((function(e){return r.createElement("option",{key:e,value:e})})))),r.createElement("label",null,r.createElement("span",null,"Terrain Area To"),r.createElement("input",{type:"range",list:"terrain-area-list",min:pe[0],max:pe[pe.length-1],value:h.terrainAreaTo,onChange:(0,r.useCallback)((function(e){var t=e.target;return b((function(e){var n=e.terrainAreaFrom,r=re(e,J),a=Number(t.value);return ie(ie({},r),{},{terrainAreaFrom:a>n?n:a,terrainAreaTo:a})}))}),[])}),r.createElement("span",null,"".concat((new Intl.NumberFormat).format(h.terrainAreaFrom)," - ").concat((new Intl.NumberFormat).format(h.terrainAreaTo)," m2")))),r.createElement("div",null,r.createElement("label",null,r.createElement("span",null,"Price From"),r.createElement("input",{type:"range",list:"price-list",min:fe[0],max:fe[fe.length-1],value:h.priceFrom,onChange:(0,r.useCallback)((function(e){var t=e.target;return b((function(e){var n=e.priceTo,r=re(e,$),a=Number(t.value);return ie(ie({},r),{},{priceFrom:a,priceTo:n<a?a:n})}))}),[])}),r.createElement("datalist",{id:"price-list"},fe.map((function(e){return r.createElement("option",{key:e,value:e})})))),r.createElement("label",null,r.createElement("span",null,"Price To"),r.createElement("input",{type:"range",list:"price-list",min:fe[0],max:fe[fe.length-1],value:h.priceTo,onChange:(0,r.useCallback)((function(e){var t=e.target;return b((function(e){var n=e.priceFrom,r=re(e,ee),a=Number(t.value);return ie(ie({},r),{},{priceFrom:a>n?n:a,priceTo:a})}))}),[])}),r.createElement("span",null,"".concat((new Intl.NumberFormat).format(h.priceFrom)," - ").concat((new Intl.NumberFormat).format(h.priceTo)," PLN"))))),r.createElement("div",null,"Found ".concat(F.length," properties out of a total of ").concat(u.length)),r.createElement("ol",null,N.slice(0,100).map((function(e){return r.createElement("li",{key:e.id,className:E()(R.Row,z.includes(e.id)&&R.Like,S.includes(e.id)&&R.Hide)},!S.includes(e.id)&&r.createElement(f.r,{className:R.Gallery,images:e.images}),r.createElement(Ce,ne({},e,{hide:S,setHide:B,like:z,setLike:P})),!S.includes(e.id)&&r.createElement(Ee,e),Object.entries(e._history||{}).reverse().map((function(e){var t=ae(e,2),n=t[0],a=t[1];return r.createElement(ke,ne({key:n,_updated:Number(n)},a))})))}))))}function be(e){var t=e.coordinates,n=t.latitude,a=t.longitude,o="//www.google.pl/maps?t=k&q=loc:".concat(n,"+").concat(a,"&hl=pl");return r.createElement(d.r,{href:o,rel:"",target:"map",style:{margin:"0 .25em"}},r.createElement(c.G,{icon:u.FGq}))}function ve(e){var t=e.coordinates,n=t.latitude,a=t.longitude,o="".concat(n,",").concat(a),l="//www.google.com/maps/dir/?api=1&origin=".concat(encodeURIComponent(o),"&destination=").concat(encodeURIComponent("52.2268,20.9921"),"&travelmode=").concat(encodeURIComponent("driving"),"&hl=pl");return r.createElement(d.r,{href:l,rel:"",target:"map",style:{margin:"0 .25em"}},r.createElement(c.G,{icon:u.KS0}))}function ye(e){var t=e.children,n=re(e,te);return r.createElement("label",null,r.createElement("input",ne({type:"checkbox"},n)),r.createElement("span",null,t))}function Ce(e){var t=e.id,n=e.canonical,a=e.coordinates,o=e.price,l=e.title,i=e.hide,c=e.setHide,u=e.like,m=e.setLike,f=e._address,p=e._created,A=e._updated,g=e._checked;return r.createElement("div",{className:R.Summary},r.createElement("div",null,r.createElement("div",{className:R.Sidebar},r.createElement(ye,{checked:u.includes(t),onChange:function(e){return fetch("api/properties/like.json?id=".concat(t)),m((function(n){return e.target.checked?n.concat(t):n.filter((function(e){return e!==t}))}))}},"Like"),r.createElement(ye,{checked:i.includes(t),onChange:function(e){return fetch("api/properties/hide.json?id=".concat(t)),c((function(n){return e.target.checked?n.concat(t):n.filter((function(e){return e!==t}))}))}},"Hide")),r.createElement("div",null,(0,s.Z)(p,"yyyy-MM-dd HH:mm"),A&&" updated: ".concat((0,s.Z)(A,"yyyy-MM-dd HH:mm")),g&&" checked: ".concat((0,s.Z)(g,"yyyy-MM-dd HH:mm")))),r.createElement("div",{style:{clear:"right"}},r.createElement("h4",null,"".concat((new Intl.NumberFormat).format(o)," PLN")),r.createElement("h3",null,r.createElement(d.r,{href:n},l)," ",a&&r.createElement(be,{coordinates:a}),a&&r.createElement(ve,{coordinates:a}))),f&&r.createElement("h6",null,f.join(" / ")))}function Ee(e){var t=e.description,n=e.parameters;return r.createElement("div",{className:R.Details},t.map((function(e,t){return r.createElement("p",{key:t},e)})),r.createElement("ul",null,n.map((function(e,t){var n=e.label,a=e.value;return r.createElement("li",{key:t},n,": ",r.createElement("b",null,a))}))))}function ke(e){var t=e.price,n=e._updated;return r.createElement("div",{className:R.History},r.createElement("div",null,r.createElement("div",{className:R.Sidebar},r.createElement("h5",null,"".concat((new Intl.NumberFormat).format(t)," PLN"))),r.createElement("div",null,(0,s.Z)(n,"yyyy-MM-dd HH:mm"))))}function we(){return r.createElement("div",{className:R.Section},r.createElement("h2",null,"Properties"),r.createElement(he,null))}},7591:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(272),a=n.n(r),o=n(2609),l=n.n(o)()(a());l.push([e.id,".zDhTSHDK36rhYKliKHPK{position:relative;width:100%;height:100%;overflow-x:auto;overflow-y:hidden;display:flex;flex-direction:row;flex-wrap:nowrap;scroll-snap-type:x mandatory;transition:transform 300ms cubic-bezier(0.2, 0, 0.2, 1)}.zDhTSHDK36rhYKliKHPK:hover{transform:scale(1.05)}.zDhTSHDK36rhYKliKHPK img{max-height:100%;scroll-snap-align:start}.zDhTSHDK36rhYKliKHPK .UnJMuQpv6llk8RTmAd38{width:100%;height:100%;flex-shrink:0}.zDhTSHDK36rhYKliKHPK .OlL7a_v2j0k69bWinjIu{cursor:inherit;display:flex;flex-shrink:0;margin:0;padding:0;border:0;width:100%;height:100%;background:#d3d3d3}.zDhTSHDK36rhYKliKHPK .dqe1lChX5OeU5si424uG{width:100%;height:100%}.dqe1lChX5OeU5si424uG{display:flex;align-items:center;justify-content:center}.dqe1lChX5OeU5si424uG svg{flex:none;width:64px;height:64px}","",{version:3,sources:["webpack://./src/components/Gallery/styles.module.scss"],names:[],mappings:"AAAA,sBACE,iBAAA,CACA,UAAA,CACA,WAAA,CACA,eAAA,CACA,iBAAA,CACA,YAAA,CACA,kBAAA,CACA,gBAAA,CACA,4BAAA,CACA,uDAAA,CAEA,4BACE,qBAAA,CAGF,0BACE,eAAA,CACA,uBAAA,CAGF,4CACE,UAAA,CACA,WAAA,CACA,aAAA,CAGF,4CACE,cAAA,CACA,YAAA,CACA,aAAA,CACA,QAAA,CACA,SAAA,CACA,QAAA,CACA,UAAA,CACA,WAAA,CACA,kBAAA,CAGF,4CACE,UAAA,CACA,WAAA,CAGJ,sBACE,YAAA,CACA,kBAAA,CACA,sBAAA,CAEA,0BACE,SAAA,CACA,UAAA,CACA,WAAA",sourcesContent:[".Gallery {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  overflow-x: auto;\n  overflow-y: hidden;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  scroll-snap-type: x mandatory;\n  transition: transform 300ms cubic-bezier(0.2, 0, 0.2, 1);\n\n  &:hover {\n    transform: scale(1.05);\n  }\n\n  img {\n    max-height: 100%;\n    scroll-snap-align: start;\n  }\n\n  .ImgWrapper {\n    width: 100%;\n    height: 100%;\n    flex-shrink: 0;\n  }\n\n  .Link {\n    cursor: inherit;\n    display: flex;\n    flex-shrink: 0;\n    margin: 0;\n    padding: 0;\n    border: 0;\n    width: 100%;\n    height: 100%;\n    background: lightgrey;\n  }\n\n  .Loader {\n    width: 100%;\n    height: 100%;\n  }\n}\n.Loader {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  svg {\n    flex: none;\n    width: 64px;\n    height: 64px;\n  }\n}\n"],sourceRoot:""}]),l.locals={Gallery:"zDhTSHDK36rhYKliKHPK",ImgWrapper:"UnJMuQpv6llk8RTmAd38",Link:"OlL7a_v2j0k69bWinjIu",Loader:"dqe1lChX5OeU5si424uG"};const i=l},2091:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(272),a=n.n(r),o=n(2609),l=n.n(o)()(a());l.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),l.locals={};const i=l},190:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(272),a=n.n(r),o=n(2609),l=n.n(o),i=n(9138),c=l()(a());c.i(i.Z),c.push([e.id,".fmu5OTC8YuGNxvhVWLQY{height:75vh;border:2px solid red}.fmu5OTC8YuGNxvhVWLQY header{font-weight:bold}","",{version:3,sources:["webpack://./src/containers/Properties/Map.module.scss"],names:[],mappings:"AAKA,sBACE,WAAA,CACA,oBAAA,CAEA,6BACE,gBAAA",sourcesContent:['@import "~leaflet/dist/leaflet.css";\n\n.Layout {\n}\n\n.Map {\n  height: 75vh;\n  border: 2px solid red;\n\n  header {\n    font-weight: bold;\n  }\n}\n'],sourceRoot:""}]),c.locals={Map:"fmu5OTC8YuGNxvhVWLQY"};const u=c},2039:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(272),a=n.n(r),o=n(2609),l=n.n(o)()(a());l.push([e.id,".KYBwyVHwYFPduDcS8tJA{color:purple}.bUNjBJTWIMSq_XWNswT2{clear:both;padding:.5em 0;border:2px solid transparent;margin:.5em}.bUNjBJTWIMSq_XWNswT2.TXzld0_Enrx67356XQvV{border-color:#8a2be2}.bUNjBJTWIMSq_XWNswT2.yknHg6Kx6g072wclMnRw{opacity:.5}.e3KhqV06cOMe70OduX67{float:left;width:200px;height:200px}.YzMcljUk8YpF_3sH71Qy h3{margin-block-start:.5em;margin-block-end:.5em}.YzMcljUk8YpF_3sH71Qy h4{float:right;margin-block-start:.5em;margin-block-end:.5em}.YzMcljUk8YpF_3sH71Qy h6{margin-block-start:.5em;margin-block-end:.5em}.YzMcljUk8YpF_3sH71Qy .OZ2Fnz11BkBbwH0I6IEx{float:right}.GzN8lDh8Bf0lo_aG_yN4{border-bottom:1px solid #d3d3d3;padding-bottom:.5em}.GzN8lDh8Bf0lo_aG_yN4 p{margin:0}.K5RBVDM72Qt0DbrWbkh3{clear:both;border-bottom:1px solid #d3d3d3;padding-bottom:.5em}.K5RBVDM72Qt0DbrWbkh3 .OZ2Fnz11BkBbwH0I6IEx{float:right}.K5RBVDM72Qt0DbrWbkh3 h5{float:right;margin-block-start:0;margin-block-end:0}","",{version:3,sources:["webpack://./src/containers/Properties/styles.module.scss"],names:[],mappings:"AAAA,sBACE,YAAA,CAEF,sBACE,UAAA,CACA,cAAA,CACA,4BAAA,CACA,WAAA,CACA,2CACE,oBAAA,CAEF,2CACE,UAAA,CAGJ,sBACE,UAAA,CACA,WAAA,CACA,YAAA,CAGA,yBACE,uBAAA,CACA,qBAAA,CAEF,yBACE,WAAA,CACA,uBAAA,CACA,qBAAA,CAEF,yBACE,uBAAA,CACA,qBAAA,CAEF,4CACE,WAAA,CAGJ,sBACE,+BAAA,CACA,mBAAA,CAEA,wBACE,QAAA,CAGJ,sBACE,UAAA,CACA,+BAAA,CACA,mBAAA,CACA,4CACE,WAAA,CAEF,yBACE,WAAA,CACA,oBAAA,CACA,kBAAA",sourcesContent:[".Section {\n  color: purple;\n}\n.Row {\n  clear: both;\n  padding: 0.5em 0;\n  border: 2px solid transparent;\n  margin: 0.5em;\n  &.Like {\n    border-color: blueviolet;\n  }\n  &.Hide {\n    opacity: 0.5;\n  }\n}\n.Gallery {\n  float: left;\n  width: 200px;\n  height: 200px;\n}\n.Summary {\n  h3 {\n    margin-block-start: 0.5em;\n    margin-block-end: 0.5em;\n  }\n  h4 {\n    float: right;\n    margin-block-start: 0.5em;\n    margin-block-end: 0.5em;\n  }\n  h6 {\n    margin-block-start: 0.5em;\n    margin-block-end: 0.5em;\n  }\n  .Sidebar {\n    float: right;\n  }\n}\n.Details {\n  border-bottom: 1px solid lightgray;\n  padding-bottom: 0.5em;\n\n  p {\n    margin: 0;\n  }\n}\n.History {\n  clear: both;\n  border-bottom: 1px solid lightgray;\n  padding-bottom: 0.5em;\n  .Sidebar {\n    float: right;\n  }\n  h5 {\n    float: right;\n    margin-block-start: 0;\n    margin-block-end: 0;\n  }\n}\n"],sourceRoot:""}]),l.locals={Section:"KYBwyVHwYFPduDcS8tJA",Row:"bUNjBJTWIMSq_XWNswT2",Like:"TXzld0_Enrx67356XQvV",Hide:"yknHg6Kx6g072wclMnRw",Gallery:"e3KhqV06cOMe70OduX67",Summary:"YzMcljUk8YpF_3sH71Qy",Sidebar:"OZ2Fnz11BkBbwH0I6IEx",Details:"GzN8lDh8Bf0lo_aG_yN4",History:"K5RBVDM72Qt0DbrWbkh3"};const i=l}}]);
//# sourceMappingURL=322.js.map