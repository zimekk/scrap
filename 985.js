"use strict";(self.webpackChunk_dev_web=self.webpackChunk_dev_web||[]).push([[985],{8479:(e,t,l)=>{l.d(t,{B:()=>y,Z:()=>C});var a=l(2784),n=l(5062),r=l.n(n),o=l(9386),i=l(5449),s=l(1128),c=l(3964),u=l(2048),m=l(5176),d=l(7122),p=l(9530),f=l(5096),g=l(2779),h=l.n(g),v=l(1231);function E({position:e,children:t,setPosition:l}){const n=(0,a.useRef)(null),r=(0,a.useMemo)((()=>({dragend(){const e=n.current;null!=e&&l(e.getLatLng())}})),[]);return a.createElement(o.J,{draggable:!0,eventHandlers:r,position:e,ref:n},a.createElement(i.u,null,t))}function b(){const e=(0,s.Sx)(),t=(0,a.useCallback)((t=>{t.preventDefault(),e.locate({setView:!0})}),[e]);return a.createElement("div",{className:"leaflet-top leaflet-left",style:{top:80,fontSize:16}},a.createElement("div",{className:"leaflet-control-locate leaflet-bar leaflet-control"},a.createElement("a",{className:"leaflet-bar-part leaflet-bar-part-single",title:"Locate",href:"#",onClick:t},a.createElement(p.G,{icon:f.KS0}))))}function y(e){return(0,a.useMemo)((()=>r().featureGroup(e.map((({position:{lat:e,lng:t}})=>r().marker([e,t])))).getBounds()),[])}function C({bounds:e,center:t,setCenter:n,list:o}){(0,a.useEffect)((()=>{delete r().Icon.Default.prototype._getIconUrl,r().Icon.Default.mergeOptions({iconRetinaUrl:l(1963).Z,iconUrl:l(379).Z,shadowUrl:l(6179).Z})}),[]);const[i,s]=(0,a.useState)(null),p=(0,a.useMemo)((()=>a.createElement(c.h,{bounds:e,whenCreated:s,zoom:13,className:h()(v.Z.Map)},a.createElement(u.I,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),a.createElement(E,{position:t,setPosition:n},`${t.lat},${t.lng}`),o.map((({i:e,id:l,position:n,name:r,item:o})=>a.createElement(m.c,{key:e,center:n,pathOptions:{color:"purple"}},a.createElement(d.G,{minWidth:90},a.createElement("section",null,a.createElement("header",null,`[${l}] ${r} (${t.distanceTo(n).toFixed(0)/1e3} km)`)))))),a.createElement(b,null))),[o,t]);return a.createElement("div",{className:h()(v.Z.Layout)},p)}},6985:(e,t,l)=>{l.r(t),l.d(t,{default:()=>h});var a=l(2784),n=l(357),r=l(8479),o=l(4772),i=l(5662);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}const c=[1,3,5,10,20,50,100,500],u=[0,1e5,2e5,3e5,4e5,5e5,6e5,7e5,8e5,9e5,1e6],m=[...Array(15)].map(((e,t)=>(new Date).getFullYear()-t)).reverse(),d=(0,n.k)((async e=>{const t=await fetch(`api/vehicles2/data.json?${e}`);return await t.json().then((({vehicleBasic:e})=>({results:e,options:e.reduce(((e,t)=>["bodyType","brand","driveType","emissionClass","extColor","intColor","topColor","upholsteryColor","upholsteryType","mbvHandbook","model","modelCode","gearBox","gearType","symbolicCarline","vat"].reduce(((e,l)=>({...e,[l]:Object.assign({},e[l],"object"==typeof t[l]?{[t[l].code]:t[l].description||t[l].code}:{})})),e)),{})}))).then((({options:e,...t})=>(Object.keys(e).forEach((t=>Object.assign(e,{[t]:Object.entries(e[t]).sort((([e],[t])=>String(e)>String(t)?1:-1)).reduce(((e,[t,l])=>Object.assign(e,{[t]:l})),{})}))),{options:e,...t})))}));function p({images:e}){return e.length?a.createElement("div",{className:i.Z.Gallery},e.map(((e,t)=>a.createElement("img",{key:t,src:e,alt:`Image #${t+1}`,referrerPolicy:"no-referrer"})))):null}function f({href:e,...t}){const l="#"===e[0];return a.createElement("a",s({href:e,target:l?void 0:"_blank",rel:l?void 0:"noopener noreferrer"},t))}function g({version:e="v1"}){const{results:t,options:l}=d.read(e),[n,s]=(0,a.useState)(""),[g]=(0,o.Z)(n),h=(0,a.useCallback)((({target:e})=>s(e.value)),[]),[v,E]=(0,a.useState)((()=>Object.keys(l).reduce(((e,t)=>Object.assign(e,{[t]:""})),{}))),b=(0,a.useCallback)((({target:e})=>E((t=>({...t,[e.name]:e.value})))),[]),[y,C]=(0,a.useState)(c[c.length-1]),k=(0,a.useCallback)((({target:e})=>C(Number(e.value))),[]),[w,x]=(0,a.useState)(u[0]),[S,O]=(0,a.useState)(u[u.length-1]),$=(0,a.useCallback)((({target:e})=>O((t=>{const l=Number(e.value);return x(l),t<l?l:t}))),[]),P=(0,a.useCallback)((({target:e})=>x((t=>{const l=Number(e.value);return O(l),l>t?t:l}))),[]),[Z,j]=(0,a.useState)(m[0]),[T,N]=(0,a.useState)(m[m.length-1]),D=(0,a.useCallback)((({target:e})=>N((t=>{const l=Number(e.value);return j(l),t<l?l:t}))),[]),I=(0,a.useCallback)((({target:e})=>j((t=>{const l=Number(e.value);return N(l),l>t?t:l}))),[]);console.log({options:l,results:t});const M=(0,a.useMemo)((()=>t.map(((e,t)=>{const{id:l,dealer:{name:a,geoLocation:{lat:n,lon:r}}}=e;return{i:t,id:l,position:{lat:n,lng:r},name:a,item:e,transactionalPrice:e.typedPrices[0].amount}})).filter((({item:e,name:t,transactionalPrice:l})=>t.toLowerCase().match(g)&&w<=l&&l<=S&&Z<=e.productionYear&&e.productionYear<=T&&-1===Object.entries(v).findIndex((([t,l])=>![String("object"==typeof e[t]?e[t].code:e[t]),""].includes(l)))))),[t,g,v,Z,T,w,S]),U=(0,r.B)(M.length?M:[{position:{lat:52.232855,lng:20.921111}}]),[_,A]=(0,a.useState)((()=>U.getCenter())),B=(0,a.useMemo)((()=>M.filter((({position:e})=>_.distanceTo(e)<1e3*y))),[M,_,y]);return a.createElement("div",null,a.createElement(r.Z,{bounds:U,center:_,setCenter:A,list:B}),a.createElement("fieldset",null,a.createElement("div",null,a.createElement("label",null,a.createElement("span",null,"Search"),a.createElement("input",{type:"search",value:n,onChange:h})),a.createElement("label",null,a.createElement("span",null,"Radius"),a.createElement("input",{type:"range",list:"range-list",min:c[0],max:c[c.length-1],value:y,onChange:k}),a.createElement("datalist",{id:"range-list"},c.map((e=>a.createElement("option",{key:e,value:e,label:[1,25,100].includes(e)?`${e} km`:void 0})))),a.createElement("span",null,`max ${y} km`))),a.createElement("div",null,a.createElement("label",null,a.createElement("span",null,"Year From"),a.createElement("input",{type:"range",list:"year-list",min:m[0],max:m[m.length-1],value:Z,onChange:D}),a.createElement("datalist",{id:"year-list"},m.map((e=>a.createElement("option",{key:e,value:e,label:[0,2010,2015,2020].includes(e)?`${e}`:void 0}))))),a.createElement("label",null,a.createElement("span",null,"Year To"),a.createElement("input",{type:"range",list:"year-list",min:m[0],max:m[m.length-1],value:T,onChange:I}),a.createElement("span",null,`${Z}-${T}`))),a.createElement("div",null,a.createElement("label",null,a.createElement("span",null,"Price From"),a.createElement("input",{type:"range",list:"price-list",min:u[0],max:u[u.length-1],value:w,onChange:$}),a.createElement("datalist",{id:"price-list"},u.map((e=>a.createElement("option",{key:e,value:e,label:[0,1e5,2e5,3e5,4e5,5e5].includes(e)?`${e} pln`:void 0}))))),a.createElement("label",null,a.createElement("span",null,"Price To"),a.createElement("input",{type:"range",list:"price-list",min:u[0],max:u[u.length-1],value:S,onChange:P}),a.createElement("span",null,`${w}-${S} pln`))),Object.entries(v).map((([e,t],n)=>a.createElement("div",{key:n},a.createElement("label",null,a.createElement("span",null,e),a.createElement("select",{name:e,value:t,onChange:b},a.createElement("option",{value:""},"--"),Object.entries(l[e]).map((([e,t])=>a.createElement("option",{key:e,value:e},t))))))))),a.createElement("div",null,`Found ${M.length} vehicles out of a total of ${t.length}`),a.createElement("ol",null,M.slice(0,100).map((({item:e})=>e)).map((({id:e,carId:t,model:l,pictures:n,...r},o)=>a.createElement("li",{key:o,className:i.Z.Row},a.createElement(p,{images:n.slice(0,3).map((({url:e})=>e))}),a.createElement("ul",null,a.createElement("li",null,a.createElement(f,{href:`//www.audi.pl/pl/web/pl/wyszukiwarka-samochodow-uzywanych/details.sc_detail.${e}.html`},`[${t}] ${l.description}`)),a.createElement("li",null,"dateOffer:"," ",new Date(r.dateOffer).toISOString().split("T")[0]," ","lastChange:"," ",new Date(r.lastChange).toISOString().split("T")[0]),a.createElement("li",null,"modelYear: ",r.modelYear," powerDisplay: ",r.powerDisplay,"initialRegistration: ",r.used.initialRegistration," ",`${r.used.mileageFormatted} ${r.used.mileageUnit}`," ",r.typedPrices[0].formatted)))))))}function h(){return a.createElement("div",{className:i.Z.Section},a.createElement("h2",null,"Vehicles"),a.createElement(g,null))}},4772:(e,t,l)=>{l.d(t,{Z:()=>n});var a=l(2784);function n(e){const[t,l]=(0,a.useState)(e),n=(0,a.useRef)();return(0,a.useEffect)((()=>(clearTimeout(n.current),n.current=setTimeout((()=>l(e.toLowerCase())),400),()=>{clearTimeout(n.current)})),[e]),[t]}},1617:(e,t,l)=>{l.r(t),l.d(t,{default:()=>c});var a=l(9601),n=l.n(a),r=l(2609),o=l.n(r),i=l(9138),s=o()(n());s.i(i.Z),s.push([e.id,".vXpyyqKMf2Eg0uZBGb3A{height:75vh;border:2px solid red}.vXpyyqKMf2Eg0uZBGb3A header{font-weight:bold}",""]),s.locals={Map:"vXpyyqKMf2Eg0uZBGb3A"};const c=s},5902:(e,t,l)=>{l.r(t),l.d(t,{default:()=>i});var a=l(9601),n=l.n(a),r=l(2609),o=l.n(r)()(n());o.push([e.id,".UPzUO0k3xQgmgcZPFKCD{color:green}.WR_tu7sP1q9CHiBCWDF8{clear:both}.v7hqU_EwAXnkVOsXDPv9{display:inline-block;width:1em;height:1em;border:2px solid #000;border-radius:50%}.CvHrV2b9o9NxpcI9MjfE{float:left;width:200px;height:150px;overflow-x:auto;display:flex;flex-direction:row;scroll-snap-type:x mandatory}.CvHrV2b9o9NxpcI9MjfE img{max-width:100%;scroll-snap-align:center}",""]),o.locals={Section:"UPzUO0k3xQgmgcZPFKCD",Row:"WR_tu7sP1q9CHiBCWDF8",Color:"v7hqU_EwAXnkVOsXDPv9",Gallery:"CvHrV2b9o9NxpcI9MjfE"};const i=o},1231:(e,t,l)=>{l.d(t,{Z:()=>y});var a=l(6062),n=l.n(a),r=l(4036),o=l.n(r),i=l(6793),s=l.n(i),c=l(7892),u=l.n(c),m=l(1173),d=l.n(m),p=l(2464),f=l.n(p),g=l(1617),h={};h.styleTagTransform=f(),h.setAttributes=u(),h.insert=s().bind(null,"head"),h.domAPI=o(),h.insertStyleElement=d();var v=n()(g.default,h);if(!g.default.locals||e.hot.invalidate){var E=!g.default.locals,b=E?g:g.default.locals;e.hot.accept(1617,(t=>{g=l(1617),function(e,t,l){if(!e&&t||e&&!t)return!1;var a;for(a in e)if((!l||"default"!==a)&&e[a]!==t[a])return!1;for(a in t)if(!(l&&"default"===a||e[a]))return!1;return!0}(b,E?g:g.default.locals,E)?(b=E?g:g.default.locals,v(g.default)):e.hot.invalidate()}))}e.hot.dispose((function(){v()}));const y=g.default&&g.default.locals?g.default.locals:void 0},5662:(e,t,l)=>{l.d(t,{Z:()=>y});var a=l(6062),n=l.n(a),r=l(4036),o=l.n(r),i=l(6793),s=l.n(i),c=l(7892),u=l.n(c),m=l(1173),d=l.n(m),p=l(2464),f=l.n(p),g=l(5902),h={};h.styleTagTransform=f(),h.setAttributes=u(),h.insert=s().bind(null,"head"),h.domAPI=o(),h.insertStyleElement=d();var v=n()(g.default,h);if(!g.default.locals||e.hot.invalidate){var E=!g.default.locals,b=E?g:g.default.locals;e.hot.accept(5902,(t=>{g=l(5902),function(e,t,l){if(!e&&t||e&&!t)return!1;var a;for(a in e)if((!l||"default"!==a)&&e[a]!==t[a])return!1;for(a in t)if(!(l&&"default"===a||e[a]))return!1;return!0}(b,E?g:g.default.locals,E)?(b=E?g:g.default.locals,v(g.default)):e.hot.invalidate()}))}e.hot.dispose((function(){v()}));const y=g.default&&g.default.locals?g.default.locals:void 0}}]);