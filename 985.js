"use strict";(self.webpackChunk_dev_web=self.webpackChunk_dev_web||[]).push([[985],{8479:(e,t,n)=>{n.d(t,{B:()=>Z,Z:()=>C});var r=n(7946),a=n(2784),l=n(5062),o=n.n(l),c=n(809),u=n(7234),i=n(5804),s=n(493),f=n(8969),m=n(9982),d=n(6127),p=n(9530),v=n(5096),g=n(2779),b=n.n(g),h=n(1231);function y(e){var t=e.position,n=e.children,r=e.setPosition,l=(0,a.useRef)(null),o=(0,a.useMemo)((function(){return{dragend:function(){var e=l.current;null!=e&&r(e.getLatLng())}}}),[]);return a.createElement(c.J,{draggable:!0,eventHandlers:o,position:t,ref:l},a.createElement(u.u,null,n))}function E(){var e=(0,i.Sx)(),t=(0,a.useCallback)((function(t){t.preventDefault(),e.locate({setView:!0})}),[e]);return a.createElement("div",{className:"leaflet-top leaflet-left",style:{top:80,fontSize:16}},a.createElement("div",{className:"leaflet-control-locate leaflet-bar leaflet-control"},a.createElement("a",{className:"leaflet-bar-part leaflet-bar-part-single",title:"Locate",href:"#",onClick:t},a.createElement(p.G,{icon:v.KS0}))))}function Z(e){return(0,a.useMemo)((function(){return o().featureGroup(e.map((function(e){var t=e.position,n=t.lat,r=t.lng;return o().marker([n,r])}))).getBounds()}),[])}function C(e){var t=e.bounds,l=e.center,c=e.setCenter,u=e.list;(0,a.useEffect)((function(){delete o().Icon.Default.prototype._getIconUrl,o().Icon.Default.mergeOptions({iconRetinaUrl:n(1963).Z,iconUrl:n(379).Z,shadowUrl:n(6179).Z})}),[]);var i=(0,a.useState)(null),p=(0,r.Z)(i,2),v=(p[0],p[1]),g=(0,a.useMemo)((function(){return a.createElement(s.h,{bounds:t,whenCreated:v,zoom:13,className:b()(h.Z.Map)},a.createElement(f.I,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),a.createElement(y,{position:l,setPosition:c},"".concat(l.lat,",").concat(l.lng)),u.map((function(e){var t=e.i,n=e.id,r=e.position,o=e.name;return e.item,a.createElement(m.c,{key:t,center:r,pathOptions:{color:"purple"}},a.createElement(d.G,{minWidth:90},a.createElement("section",null,a.createElement("header",null,"[".concat(n,"] ").concat(o," (").concat(l.distanceTo(r).toFixed(0)/1e3," km)")))))})),a.createElement(E,null))}),[u,l]);return a.createElement("div",{className:b()(h.Z.Layout)},g)}},6985:(e,t,n)=>{n.r(t),n.d(t,{default:()=>D});var r=n(203),a=n(7946),l=n(1283),o=n(9151),c=n(965),u=n(2451),i=n(369),s=n(7162),f=n.n(s),m=n(2784),d=n(357),p=n(8479),v=n(4772),g=n(5662),b=["options"],h=["href"],y=["id","carId","model","pictures"];function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=[1,3,5,10,20,50,100,500],w=[0,1e5,2e5,3e5,4e5,5e5,6e5,7e5,8e5,9e5,1e6],O={"":"",N:"New",U:"Used"},k=(0,i.Z)(Array(15)).map((function(e,t){return(new Date).getFullYear()-t})).reverse(),S=(0,d.k)(function(){var e=(0,u.Z)(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("api/vehicles2/data.json?".concat(t));case 2:return n=e.sent,e.next=5,n.json().then((function(e){var t=e.vehicleBasic;return{results:t,options:t.reduce((function(e,t){return["bodyType","brand","driveType","emissionClass","extColor","intColor","topColor","upholsteryColor","upholsteryType","mbvHandbook","model","modelCode","gearBox","gearType","symbolicCarline","vat"].reduce((function(e,n){return Z(Z({},e),{},(0,c.Z)({},n,Object.assign({},e[n],"object"===(0,o.Z)(t[n])?(0,c.Z)({},t[n].code,t[n].description||t[n].code):{})))}),e)}),{})}})).then((function(e){var t=e.options,n=(0,l.Z)(e,b);return Object.keys(t).forEach((function(e){return Object.assign(t,(0,c.Z)({},e,Object.entries(t[e]).sort((function(e,t){var n=(0,a.Z)(e,1)[0],r=(0,a.Z)(t,1)[0];return String(n)>String(r)?1:-1})).reduce((function(e,t){var n=(0,a.Z)(t,2),r=n[0],l=n[1];return Object.assign(e,(0,c.Z)({},r,l))}),{})))})),Z({options:t},n)}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());function j(e){var t=e.images;return t.length?m.createElement("div",{className:g.Z.Gallery},t.map((function(e,t){return m.createElement("img",{key:t,src:e,alt:"Image #".concat(t+1),referrerPolicy:"no-referrer"})}))):null}function x(e){var t=e.href,n=(0,l.Z)(e,h),a="#"===t[0];return m.createElement("a",(0,r.Z)({href:t,target:a?void 0:"_blank",rel:a?void 0:"noopener noreferrer"},n))}function P(e){var t=e.version,n=void 0===t?"v1":t,r=S.read(n),u=r.results,i=r.options,s=(0,m.useState)(""),f=(0,a.Z)(s,2),d=f[0],b=f[1],h=(0,v.Z)(d),E=(0,a.Z)(h,1)[0],P=(0,m.useCallback)((function(e){var t=e.target;return b(t.value)}),[]),D=(0,m.useState)((function(){return Object.keys(i).reduce((function(e,t){return Object.assign(e,(0,c.Z)({},t,""))}),{})})),N=(0,a.Z)(D,2),T=N[0],I=N[1],M=(0,m.useCallback)((function(e){var t=e.target;return I((function(e){return Z(Z({},e),{},(0,c.Z)({},t.name,t.value))}))}),[]),U=(0,m.useState)(""),_=(0,a.Z)(U,2),A=_[0],B=_[1],F=(0,m.useCallback)((function(e){var t=e.target;return B(t.value)}),[]),R=(0,m.useState)(C[C.length-1]),G=(0,a.Z)(R,2),L=G[0],q=G[1],z=(0,m.useCallback)((function(e){var t=e.target;return q(Number(t.value))}),[]),H=(0,m.useState)(w[0]),V=(0,a.Z)(H,2),X=V[0],Y=V[1],K=(0,m.useState)(w[w.length-1]),W=(0,a.Z)(K,2),Q=W[0],$=W[1],J=(0,m.useCallback)((function(e){var t=e.target;return $((function(e){var n=Number(t.value);return Y(n),e<n?n:e}))}),[]),ee=(0,m.useCallback)((function(e){var t=e.target;return Y((function(e){var n=Number(t.value);return $(n),n>e?e:n}))}),[]),te=(0,m.useState)(k[0]),ne=(0,a.Z)(te,2),re=ne[0],ae=ne[1],le=(0,m.useState)(k[k.length-1]),oe=(0,a.Z)(le,2),ce=oe[0],ue=oe[1],ie=(0,m.useCallback)((function(e){var t=e.target;return ue((function(e){var n=Number(t.value);return ae(n),e<n?n:e}))}),[]),se=(0,m.useCallback)((function(e){var t=e.target;return ae((function(e){var n=Number(t.value);return ue(n),n>e?e:n}))}),[]);console.log({options:i,results:u});var fe=(0,m.useMemo)((function(){return u.map((function(e,t){var n=e.id,r=e.dealer,a=r.name,l=r.geoLocation;return{i:t,id:n,position:{lat:l.lat,lng:l.lon},name:a,item:e,transactionalPrice:e.typedPrices[0].amount}})).filter((function(e){var t=e.item,n=e.transactionalPrice;return(t.model.description.toLowerCase().match(E)||E.trim().replace(/=$/,"")===t.id.toLowerCase().replace(/=$/,""))&&["",t.type].includes(A)&&X<=n&&n<=Q&&re<=t.productionYear&&t.productionYear<=ce&&-1===Object.entries(T).findIndex((function(e){var n=(0,a.Z)(e,2),r=n[0],l=n[1];return![String("object"===(0,o.Z)(t[r])?t[r].code:t[r]),""].includes(l)}))}))}),[u,E,A,T,re,ce,X,Q]),me=(0,p.B)(fe.length?fe:[{position:{lat:52.232855,lng:20.921111}}]),de=(0,m.useState)((function(){return me.getCenter()})),pe=(0,a.Z)(de,2),ve=pe[0],ge=pe[1],be=(0,m.useMemo)((function(){return fe.filter((function(e){var t=e.position;return ve.distanceTo(t)<1e3*L}))}),[fe,ve,L]);return m.createElement("div",null,m.createElement(p.Z,{bounds:me,center:ve,setCenter:ge,list:be}),m.createElement("fieldset",null,m.createElement("div",null,m.createElement("label",null,m.createElement("span",null,"Type"),m.createElement("select",{value:A,onChange:F},Object.entries(O).map((function(e){var t=(0,a.Z)(e,2),n=t[0],r=t[1];return m.createElement("option",{key:n,value:n},r)})))),m.createElement("label",null,m.createElement("span",null,"Search"),m.createElement("input",{type:"search",value:d,onChange:P})),m.createElement("label",null,m.createElement("span",null,"Radius"),m.createElement("input",{type:"range",list:"range-list",min:C[0],max:C[C.length-1],value:L,onChange:z}),m.createElement("datalist",{id:"range-list"},C.map((function(e){return m.createElement("option",{key:e,value:e,label:[1,25,100].includes(e)?"".concat(e," km"):void 0})}))),m.createElement("span",null,"max ".concat(L," km")))),m.createElement("div",null,m.createElement("label",null,m.createElement("span",null,"Year From"),m.createElement("input",{type:"range",list:"year-list",min:k[0],max:k[k.length-1],value:re,onChange:ie}),m.createElement("datalist",{id:"year-list"},k.map((function(e){return m.createElement("option",{key:e,value:e,label:[0,2010,2015,2020].includes(e)?"".concat(e):void 0})})))),m.createElement("label",null,m.createElement("span",null,"Year To"),m.createElement("input",{type:"range",list:"year-list",min:k[0],max:k[k.length-1],value:ce,onChange:se}),m.createElement("span",null,"".concat(re,"-").concat(ce)))),m.createElement("div",null,m.createElement("label",null,m.createElement("span",null,"Price From"),m.createElement("input",{type:"range",list:"price-list",min:w[0],max:w[w.length-1],value:X,onChange:J}),m.createElement("datalist",{id:"price-list"},w.map((function(e){return m.createElement("option",{key:e,value:e,label:[0,1e5,2e5,3e5,4e5,5e5].includes(e)?"".concat(e," pln"):void 0})})))),m.createElement("label",null,m.createElement("span",null,"Price To"),m.createElement("input",{type:"range",list:"price-list",min:w[0],max:w[w.length-1],value:Q,onChange:ee}),m.createElement("span",null,"".concat(X,"-").concat(Q," pln")))),Object.entries(T).map((function(e,t){var n=(0,a.Z)(e,2),r=n[0],l=n[1];return m.createElement("div",{key:t},m.createElement("label",null,m.createElement("span",null,r),m.createElement("select",{name:r,value:l,onChange:M},m.createElement("option",{value:""},"--"),Object.entries(i[r]).map((function(e){var t=(0,a.Z)(e,2),n=t[0],r=t[1];return m.createElement("option",{key:n,value:n},r)})))))}))),m.createElement("div",null,"Found ".concat(fe.length," vehicles out of a total of ").concat(u.length)),m.createElement("ol",null,fe.slice(0,100).map((function(e){return e.item})).map((function(e,t){var n=e.id,r=e.carId,a=e.model,o=e.pictures,c=void 0===o?[]:o,u=(0,l.Z)(e,y);return m.createElement("li",{key:t,className:g.Z.Row},m.createElement(j,{images:c.slice(0,3).map((function(e){return e.url}))}),m.createElement("ul",null,m.createElement("li",null,m.createElement(x,{href:"//www.audi.pl/pl/web/pl/wyszukiwarka-samochodow-uzywanych/details.sc_detail.".concat(n,".html")},"[".concat(r,"] ").concat(a.description))),m.createElement("li",null,"dateOffer:"," ",new Date(u.dateOffer).toISOString().split("T")[0]," ","lastChange:"," ",new Date(u.lastChange).toISOString().split("T")[0]),m.createElement("li",null,"modelYear: ",u.modelYear," powerDisplay: ",u.powerDisplay),u.used&&m.createElement("li",null,"initialRegistration: ",u.used.initialRegistration," ","".concat(u.used.mileageFormatted," ").concat(u.used.mileageUnit)," ",u.typedPrices[0].formatted)))}))))}function D(){return m.createElement("div",{className:g.Z.Section},m.createElement("h2",null,"Vehicles"),m.createElement(P,null))}},4772:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(7946),a=n(2784);function l(e){var t=(0,a.useState)(e),n=(0,r.Z)(t,2),l=n[0],o=n[1],c=(0,a.useRef)();return(0,a.useEffect)((function(){return clearTimeout(c.current),c.current=setTimeout((function(){return o(e.toLowerCase())}),400),function(){clearTimeout(c.current)}}),[e]),[l]}},1617:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var r=n(9601),a=n.n(r),l=n(2609),o=n.n(l),c=n(9138),u=o()(a());u.i(c.Z),u.push([e.id,".vXpyyqKMf2Eg0uZBGb3A{height:75vh;border:2px solid red}.vXpyyqKMf2Eg0uZBGb3A header{font-weight:bold}",""]),u.locals={Map:"vXpyyqKMf2Eg0uZBGb3A"};const i=u},5902:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var r=n(9601),a=n.n(r),l=n(2609),o=n.n(l)()(a());o.push([e.id,".UPzUO0k3xQgmgcZPFKCD{color:green}.WR_tu7sP1q9CHiBCWDF8{clear:both}.v7hqU_EwAXnkVOsXDPv9{display:inline-block;width:1em;height:1em;border:2px solid #000;border-radius:50%}.CvHrV2b9o9NxpcI9MjfE{float:left;width:200px;height:150px;overflow-x:auto;display:flex;flex-direction:row;scroll-snap-type:x mandatory}.CvHrV2b9o9NxpcI9MjfE img{max-width:100%;scroll-snap-align:center}",""]),o.locals={Section:"UPzUO0k3xQgmgcZPFKCD",Row:"WR_tu7sP1q9CHiBCWDF8",Color:"v7hqU_EwAXnkVOsXDPv9",Gallery:"CvHrV2b9o9NxpcI9MjfE"};const c=o},1231:(e,t,n)=>{n.d(t,{Z:()=>E});var r=n(6062),a=n.n(r),l=n(4036),o=n.n(l),c=n(6793),u=n.n(c),i=n(7892),s=n.n(i),f=n(1173),m=n.n(f),d=n(2464),p=n.n(d),v=n(1617),g={};g.styleTagTransform=p(),g.setAttributes=s(),g.insert=u().bind(null,"head"),g.domAPI=o(),g.insertStyleElement=m();var b=a()(v.default,g);if(!v.default.locals||e.hot.invalidate){var h=!v.default.locals,y=h?v:v.default.locals;e.hot.accept(1617,(t=>{v=n(1617),function(e,t,n){if(!e&&t||e&&!t)return!1;var r;for(r in e)if((!n||"default"!==r)&&e[r]!==t[r])return!1;for(r in t)if(!(n&&"default"===r||e[r]))return!1;return!0}(y,h?v:v.default.locals,h)?(y=h?v:v.default.locals,b(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){b()}));const E=v.default&&v.default.locals?v.default.locals:void 0},5662:(e,t,n)=>{n.d(t,{Z:()=>E});var r=n(6062),a=n.n(r),l=n(4036),o=n.n(l),c=n(6793),u=n.n(c),i=n(7892),s=n.n(i),f=n(1173),m=n.n(f),d=n(2464),p=n.n(d),v=n(5902),g={};g.styleTagTransform=p(),g.setAttributes=s(),g.insert=u().bind(null,"head"),g.domAPI=o(),g.insertStyleElement=m();var b=a()(v.default,g);if(!v.default.locals||e.hot.invalidate){var h=!v.default.locals,y=h?v:v.default.locals;e.hot.accept(5902,(t=>{v=n(5902),function(e,t,n){if(!e&&t||e&&!t)return!1;var r;for(r in e)if((!n||"default"!==r)&&e[r]!==t[r])return!1;for(r in t)if(!(n&&"default"===r||e[r]))return!1;return!0}(y,h?v:v.default.locals,h)?(y=h?v:v.default.locals,b(v.default)):e.hot.invalidate()}))}e.hot.dispose((function(){b()}));const E=v.default&&v.default.locals?v.default.locals:void 0},203:(e,t,n)=>{function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,{Z:()=>r})},9151:(e,t,n)=>{function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,{Z:()=>r})}}]);