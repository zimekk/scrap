"use strict";(self.webpackChunk_dev_web=self.webpackChunk_dev_web||[]).push([[254],{5104:(e,t,n)=>{n.d(t,{A:()=>U,Z:()=>M});var r=n(2784),a=n(8210),l=n(1148),o=n(5120),i=n(2335),u=n(9468),c=n(7209);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=n(2779),f=n.n(m),d=n(6062),p=n.n(d),A=n(4036),v=n.n(A),y=n(6793),g=n.n(y),h=n(7892),b=n.n(h),E=n(1173),C=n.n(E),w=n(2464),x=n.n(w),k=n(2930),S={};S.styleTagTransform=x(),S.setAttributes=b(),S.insert=g().bind(null,"head"),S.domAPI=v(),S.insertStyleElement=C(),p()(k.Z,S);const B=k.Z&&k.Z.locals?k.Z.locals:void 0;function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,l=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var D=(0,r.createContext)(void 0);function U(e){var t=e.children,n=(0,r.useMemo)((function(){return new l.x}),[]);return r.createElement(D.Provider,{value:n},t)}function M(e){var t=e.list,n=e.move,m=e.type,d=void 0===m?"line":m,p=(0,r.useMemo)((function(){return new l.x}),[]),A=(0,r.useContext)(D)||p,v=(0,r.useId)(),y=(0,r.useRef)(null),g=(0,r.useRef)(null),h=(0,r.useRef)(null),b=function(e){var t,n,a=(t=(0,r.useState)(null),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,l=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return l}}(t,n)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=a[0],o=a[1];return(0,r.useEffect)((function(){var t=e.current;if(t){var n=new c.Z((function(e){e.forEach((function(e){o(e.contentRect)}))}));return n.observe(t),function(){n.unobserve(t)}}}),[e]),l}(h),E=F((0,r.useState)(),2),C=E[0],w=E[1],x=F((0,r.useState)(null),2),k=x[0],S=x[1],N=(0,r.useMemo)((function(){return new l.x}),[]);(0,r.useEffect)((function(){var e=(0,a.Ys)(g.current).style("opacity",0).style("pointer-events","none"),t=N.pipe((0,i.w)((function(e){return(0,o.of)(e).pipe((0,u.g)(e?0:400))}))).subscribe((function(t){if(t){var n={x:30,y:30},r=t.x,a=t.y,l=t.data,o=h.current.getBoundingClientRect(),i=g.current.getBoundingClientRect(),u="translate(".concat(r+(r<o.width-i.width-n.x?n.x:-n.x-i.width),"px,").concat(a+(a<o.height-i.height-n.y?n.y:n.y-i.height),"px)");"0"===e.style("opacity")&&e.style("transform",u),e.transition().duration(300).style("opacity",.9).style("transform",u),S(l)}else e.transition().duration(300).style("opacity",0)}));return function(){return t.unsubscribe()}}),[N]);var U=(0,r.useMemo)((function(){return(0,a.ruo)(t,(function(e){return e.group}))}),[t]);return(0,r.useEffect)((function(){if(h.current&&y.current){var e=(0,a.Ys)(y.current),r=e.select(".content"),l=b||h.current.getBoundingClientRect(),o=l.width,i=l.height,u=(0,a.Xf)().domain((0,a.Wem)(t,(function(e){return e.date}))).range([10,o-10]);if(C){var c=C.rescaleX(u);u.domain(c.domain())}var s,m,f,p,v=(0,a.BYU)().domain((0,a.Wem)(t.map((function(e){return e.value})).concat("area"===d?t.map((function(e){return e.value2})):[]))).range([i-10,10]),g=(0,a.jvg)().x((function(e){return u(e.date)})).y((function(e){return v(e.value)})).curve(a.YY7),E=(0,a.SOn)().x((function(e){return u(e.date)})).y0((function(e){return v(e.value)})).y1((function(e){return v(e.value2)})),x=(0,a.PKp)().domain(Array.from(U.keys(),String)).range(["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"]);r.selectAll(".myLine").data(U).join("path").attr("class","myLine").attr("stroke",(function(e){return x(e[0])})).attr("fill-opacity","0.5").attr("fill",(function(e){return"area"===d?x(e[0]):"none"})).attr("d",(function(e){return"area"===d?E(e[1]):g(e[1])})),r.selectAll(".myDot").data((s=u.domain(),m=F(s,2),f=m[0],p=m[1],a.F0B.count(f,p)>6?[]:t)).join("circle").attr("class","myDot").attr("stroke","black").attr("r",3).attr("fill",(function(e){return x(e.group)})).attr("cx",(function(e){return u(e.date)})).attr("cy",(function(e){return v(e.value)})).on("mouseenter",(function(e,t){var n=u(t.date),r=v(t.value);N.next({x:n,y:r,data:t})})).on("mouseleave",(function(){N.next(null)}));var k=(0,a.LLu)(u).tickSizeInner(20-i);e.select(".x-axis").attr("transform","translate(0, ".concat(i,")")).call(k).call((function(e){return e.selectAll(".tick line").attr("transform","translate(0,".concat(-10,")")).attr("stroke-opacity",.5).attr("stroke-dasharray","2,2")}));var S=(0,a.y4O)(v).tickSizeInner(20-o);e.select(".y-axis").call(S).call((function(e){return e.selectAll(".tick line").attr("transform","translate(".concat(10,",0)")).attr("stroke-opacity",.5).attr("stroke-dasharray","2,2")}));var B=(0,a.Yud)().extent([[0,0],[o,i]]).on("start brush end",(function(e){var t=e.sourceEvent,n=e.selection;n&&t&&A.next({type:"select",selection:n})})),D=(0,a.sPX)().scaleExtent([1,20]).translateExtent([[0,0],[o,i]]).on("zoom",(function(e){var t=e.sourceEvent,n=e.transform;A.next({type:"zoom",sourceEvent:t,transform:n})}));n?e.select(".brush").call(B).on("dblclick",(function(){var e=(0,a.mN7)(this)?null:[0,o];(0,a.Ys)(this).call(B.move,e)})):e.call(D);var M=A.subscribe((function(t){if(n){if("zoom"===t.type){var r=t.sourceEvent,l=t.transform;if(r){var i=[0,o].map(l.invertX,l);e.select(".brush").call(B.move,i)}}}else if("zoom"===t.type){var u=t.sourceEvent,c=t.transform;y.current&&u&&(y.current.contains(u.target)||e.call(D.transform,c)),w(c)}else if("select"===t.type){var s=t.selection;s[1]>s[0]&&e.call(D).call(D.transform,a.CRH.scale(o/(s[1]-s[0])).translate(-s[0],0))}}));return function(){return M.unsubscribe()}}}),[C,U,b,n,A]),r.createElement("div",{className:f()(B.Chart),ref:h},r.createElement("div",{ref:g,className:B.Tooltip},k&&r.createElement("pre",null,JSON.stringify(k,null,2))),r.createElement("svg",{ref:y,style:n?{height:150}:{}},r.createElement("defs",null,r.createElement("clipPath",{id:v},r.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%"}))),r.createElement("g",{className:"content",clipPath:"url(#".concat(v,")")}),r.createElement("g",{className:"x-axis"}),r.createElement("g",{className:"y-axis"}),r.createElement("g",{className:"brush"})))}},4254:(e,t,n)=>{n.r(t),n.d(t,{default:()=>F});var r=n(2784),a=n(357),l=n(539),o=n(5104),i=n(6062),u=n.n(i),c=n(4036),s=n.n(c),m=n(6793),f=n.n(m),d=n(7892),p=n.n(d),A=n(1173),v=n.n(A),y=n(2464),g=n.n(y),h=n(8471),b={};b.styleTagTransform=g(),b.setAttributes=p(),b.insert=f().bind(null,"head"),b.domAPI=s(),b.insertStyleElement=v(),u()(h.Z,b);const E=h.Z&&h.Z.locals?h.Z.locals:void 0;function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,l=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t,n,r,a,l,o){try{var i=e[l](o),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,a)}var S=["EUR","USD","CHF","GBP"],B=(0,a.k)(function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("api/exchange/data.json?".concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var l=e.apply(t,n);function o(e){k(l,r,a,o,i,"next",e)}function i(e){k(l,r,a,o,i,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}());function F(e){var t=e.version,n=void 0===t?"v1":t,a=B.read(n).rates,i=w((0,r.useState)("CHF"),2),u=i[0],c=i[1],s=w((0,r.useState)(S),2),m=s[0],f=s[1],d=(0,r.useMemo)((function(){var e;return C(e={},"2020-11-23",441.87),C(e,"2020-12-23",441.87),C(e,"2021-01-22",441.87),C(e,"2021-02-23",442.06),C(e,"2021-03-23",442.06),C(e,"2021-04-23",442.06),C(e,"2021-05-21",442.82),C(e,"2021-06-23",442.82),C(e,"2021-07-23",442.82),C(e,"2021-08-23",442.46),C(e,"2021-09-23",442.46),C(e,"2021-10-22",442.46),C(e,"2021-11-23",441.87),C(e,"2021-12-23",441.87),C(e,"2022-01-21",441.87),C(e,"2022-02-23",444.77),C(e,"2022-03-23",444.77),C(e,"2022-04-22",444.77),e}),[]),p=(0,r.useMemo)((function(){return a.filter((function(e){return e.code===u})).filter((function(e){return Object.keys(d).includes(e.date)})).map((function(e){var t=e.buy,n=e.code,r=e.date,a=e.sell,l=e.spread,o=(e.time,e.units);return{date:new Date(r),name:"".concat(o," ").concat(n),buy:Number(t),sell:Number(a),spread:Number(l),value:d[r],add:60}})).map((function(e){return Object.assign(e,{pay:Math.round(100*e.sell*e.value)/100+e.add})})).sort((function(e,t){return new Date(e.date).getTime()-new Date(t.date).getTime()}))}),[a,d,u]),A=(0,r.useMemo)((function(){return a.filter((function(e){var t=e.code;return m.includes(t)})).map((function(e){var t=e.buy,n=e.sell,r=e.code,a=e.date,l=e.time,o=e.units;return{date:new Date("".concat(a," ").concat(l)),name:"".concat(o," ").concat(r),value:Number(n),value2:Number(t),group:r}})).sort((function(e,t){return new Date(e.date).getTime()-new Date(t.date).getTime()}))}),[a,m]);return console.log({rates:a,code:u,list:p}),r.createElement("div",{className:E.Section},r.createElement("h2",null,"Exchange"),r.createElement("fieldset",null,r.createElement("legend",null,"Code"),S.map((function(e){return r.createElement("label",{key:e},r.createElement("input",{type:"checkbox",value:e,checked:m.includes(e),onChange:(0,r.useCallback)((function(e){var t=e.target;return f((function(e){return t.checked?e.concat(t.value):e.filter((function(e){return e!==t.value}))}))}),[])}),r.createElement("span",null,e))}))),r.createElement(o.A,null,r.createElement(o.Z,{list:A,type:"area"}),r.createElement(o.Z,{list:A,type:"area",move:!0})),r.createElement("fieldset",null,r.createElement("label",null,r.createElement("span",null,"Code"),r.createElement("select",{value:u,onChange:(0,r.useCallback)((function(e){var t=e.target;return c(t.value)}),[])},S.map((function(e){return r.createElement("option",{key:e,value:e},e)}))))),r.createElement("table",null,r.createElement("tbody",null,r.createElement("tr",null,r.createElement("th",null,"Data"),r.createElement("th",null,"Nazwa"),r.createElement("th",null,"Kupno"),r.createElement("th",null,"Sprzedaż"),r.createElement("th",null,"Spread"),r.createElement("th",null,"Wartość"),r.createElement("th",null,"Stała"),r.createElement("th",null,"Kwota")),p.map((function(e,t){return r.createElement("tr",{key:t},r.createElement("td",{align:"right"},(0,l.Z)(e.date,"dd.MM.yyyy")),r.createElement("td",null,e.name),r.createElement("td",{align:"right"},new Intl.NumberFormat("pl-PL",{minimumFractionDigits:4}).format(e.buy)),r.createElement("td",{align:"right"},new Intl.NumberFormat("pl-PL",{minimumFractionDigits:4}).format(e.sell)),r.createElement("td",{align:"right"},new Intl.NumberFormat("pl-PL",{minimumFractionDigits:4}).format(e.spread)),r.createElement("td",{align:"right"},new Intl.NumberFormat("pl-PL",{minimumFractionDigits:2}).format(e.value)),r.createElement("td",{align:"right"},new Intl.NumberFormat("pl-PL",{minimumFractionDigits:2}).format(e.add)),r.createElement("td",{align:"right"},new Intl.NumberFormat("pl-PL",{minimumFractionDigits:2}).format(e.pay)))}))),r.createElement("tfoot",null,[p.reduce((function(e,t){var n=e.value,r=e.add,a=e.pay;return{value:n+t.value,add:r+t.add,pay:a+t.pay}}),{value:0,add:0,pay:0})].map((function(e,t){return r.createElement("tr",{key:t},r.createElement("td",{colSpan:5}),r.createElement("td",{align:"right"},new Intl.NumberFormat("pl-PL",{minimumFractionDigits:2}).format(e.value)),r.createElement("td",{align:"right"},new Intl.NumberFormat("pl-PL",{minimumFractionDigits:2}).format(e.add)),r.createElement("td",{align:"right"},new Intl.NumberFormat("pl-PL",{minimumFractionDigits:2}).format(e.pay)))})))))}},2930:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(272),a=n.n(r),l=n(2609),o=n.n(l)()(a());o.push([e.id,".TM2RQ5NCM80BeuU4weFg{position:relative;padding:2em}.TM2RQ5NCM80BeuU4weFg svg{display:block;width:100%;height:300px;background:#f7f7f7;overflow:visible}.TM2RQ5NCM80BeuU4weFg svg rect.D6JO0K0U9pALPDqqDDkn{stroke:none}.TM2RQ5NCM80BeuU4weFg .My38BlBqUTAUd9UrSUrO{position:absolute}.My38BlBqUTAUd9UrSUrO{background:#fff;border:1px solid #d3d3d3;color:orange;padding:.25em}","",{version:3,sources:["webpack://./src/components/ZoomableLineChart/styles.module.scss"],names:[],mappings:"AAAA,sBACE,iBAAA,CACA,WAAA,CAEA,0BACE,aAAA,CACA,UAAA,CACA,YAAA,CACA,kBAAA,CACA,gBAAA,CAEA,oDACE,WAAA,CAIJ,4CACE,iBAAA,CAGJ,sBACE,eAAA,CACA,wBAAA,CACA,YAAA,CACA,aAAA",sourcesContent:[".Chart {\n  position: relative;\n  padding: 2em;\n\n  svg {\n    display: block;\n    width: 100%;\n    height: 300px;\n    background: #f7f7f7;\n    overflow: visible;\n\n    rect.selection {\n      stroke: none;\n    }\n  }\n\n  .Tooltip {\n    position: absolute;\n  }\n}\n.Tooltip {\n  background: white;\n  border: 1px solid lightgray;\n  color: orange;\n  padding: 0.25em;\n}\n"],sourceRoot:""}]),o.locals={Chart:"TM2RQ5NCM80BeuU4weFg",selection:"D6JO0K0U9pALPDqqDDkn",Tooltip:"My38BlBqUTAUd9UrSUrO"};const i=o},8471:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(272),a=n.n(r),l=n(2609),o=n.n(l)()(a());o.push([e.id,".B6Zp7eUYgBpjqmd1ubB8{color:purple}.HYOtY3B5vlGNT0uH_VzY{clear:both}.md3pkb8fMm3YUOeAjzY0{float:left;width:150px;height:200px}.tQM2WTe6cs7QpfRhslqC{color:#d3d3d3}.P19bo6gqrx6NwOpivm_e .ltBjGN_SfGcQnxrjG0DW.KcrPBqhF3Hx7FdbRnVRD{color:#8a2be2}","",{version:3,sources:["webpack://./src/containers/Exchange/styles.module.scss"],names:[],mappings:"AAAA,sBACE,YAAA,CAEF,sBACE,UAAA,CAEF,sBACE,UAAA,CACA,WAAA,CACA,YAAA,CAEF,sBACE,aAAA,CAIE,iEACE,aAAA",sourcesContent:[".Section {\n  color: purple;\n}\n.Row {\n  clear: both;\n}\n.Gallery {\n  float: left;\n  width: 150px;\n  height: 200px;\n}\n.Sale {\n  color: lightgray;\n}\n.Details {\n  .Feature {\n    &.changed {\n      color: blueviolet;\n    }\n  }\n}\n"],sourceRoot:""}]),o.locals={Section:"B6Zp7eUYgBpjqmd1ubB8",Row:"HYOtY3B5vlGNT0uH_VzY",Gallery:"md3pkb8fMm3YUOeAjzY0",Sale:"tQM2WTe6cs7QpfRhslqC",Details:"P19bo6gqrx6NwOpivm_e",Feature:"ltBjGN_SfGcQnxrjG0DW",changed:"KcrPBqhF3Hx7FdbRnVRD"};const i=o}}]);
//# sourceMappingURL=254.js.map