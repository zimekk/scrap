"use strict";(self.webpackChunk_dev_web=self.webpackChunk_dev_web||[]).push([[254],{4254:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var r=n(2784),a=n(357),l=n(539),u=n(5104),o=n(6062),c=n.n(o),i=n(4036),m=n.n(i),s=n(6793),d=n.n(s),f=n(7892),p=n.n(f),g=n(1173),h=n.n(g),b=n(2464),v=n.n(b),E=n(8471),y={};y.styleTagTransform=v(),y.setAttributes=p(),y.insert=d().bind(null,"head"),y.domAPI=m(),y.insertStyleElement=h(),c()(E.Z,y);const A=E.Z&&E.Z.locals?E.Z.locals:void 0;function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,l=[],u=!0,o=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);u=!0);}catch(e){o=!0,a=e}finally{try{u||null==n.return||n.return()}finally{if(o)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(e,t,n,r,a,l,u){try{var o=e[l](u),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(r,a)}var N=["EUR","USD","CHF","GBP"],S=(0,a.k)(function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("api/exchange/data.json?".concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var l=e.apply(t,n);function u(e){D(l,r,a,u,o,"next",e)}function o(e){D(l,r,a,u,o,"throw",e)}u(void 0)}))});return function(e){return t.apply(this,arguments)}}());function k(e){var t=e.version,n=void 0===t?"v1":t,a=S.read(n).rates,o=F((0,r.useState)("CHF"),2),c=o[0],i=o[1],m=F((0,r.useState)(N),2),s=m[0],d=m[1],f=(0,r.useMemo)((function(){var e;return w(e={},"2018-04-23",443.05),w(e,"2019-05-23",444.15),w(e,"2019-06-21",444.15),w(e,"2019-07-23",444.15),w(e,"2019-08-23",442.27),w(e,"2020-01-23",441.49),w(e,"2020-02-21",446.11),w(e,"2020-06-23",450.35),w(e,"2020-07-23",450.35),w(e,"2020-10-23",445.27),w(e,"2020-11-23",441.87),w(e,"2020-12-23",441.87),w(e,"2021-01-22",441.87),w(e,"2021-02-23",442.06),w(e,"2021-03-23",442.06),w(e,"2021-04-23",442.06),w(e,"2021-05-21",442.82),w(e,"2021-06-23",442.82),w(e,"2021-07-23",442.82),w(e,"2021-08-23",442.46),w(e,"2021-09-23",442.46),w(e,"2021-10-22",442.46),w(e,"2021-11-23",441.87),w(e,"2021-12-23",441.87),w(e,"2022-01-21",441.87),w(e,"2022-02-23",444.77),w(e,"2022-03-23",444.77),w(e,"2022-04-22",444.77),e}),[]),p=(0,r.useMemo)((function(){return a.filter((function(e){return e.code===c})).filter((function(e){return Object.keys(f).includes(e.date)})).map((function(e){var t=e.buy,n=e.code,r=e.date,a=e.sell,l=e.spread,u=(e.time,e.units);return{date:new Date(r),name:"".concat(u," ").concat(n),buy:Number(t),sell:Number(a),spread:Number(l),value:f[r],add:60}})).map((function(e){return Object.assign(e,{pay:Math.round(100*e.sell*e.value)/100+e.add})})).sort((function(e,t){return new Date(e.date).getTime()-new Date(t.date).getTime()}))}),[a,f,c]),g=(0,r.useMemo)((function(){return a.filter((function(e){var t=e.code;return s.includes(t)})).map((function(e){var t=e.buy,n=e.sell,r=e.code,a=e.date,l=e.time,u=e.units;return{date:new Date("".concat(a," ").concat(l)),name:"".concat(u," ").concat(r),value:Number(n),value2:Number(t),group:r}})).sort((function(e,t){return new Date(e.date).getTime()-new Date(t.date).getTime()}))}),[a,s]);return console.log({rates:a,code:c,list:p}),r.createElement("div",{className:A.Section},r.createElement("h2",null,"Exchange"),r.createElement("fieldset",null,r.createElement("legend",null,"Code"),N.map((function(e){return r.createElement("label",{key:e},r.createElement("input",{type:"checkbox",value:e,checked:s.includes(e),onChange:(0,r.useCallback)((function(e){var t=e.target;return d((function(e){return t.checked?e.concat(t.value):e.filter((function(e){return e!==t.value}))}))}),[])}),r.createElement("span",null,e))}))),r.createElement(u.A,null,r.createElement(u.Z,{list:g,type:"area",legend:!0,rule:!0}),r.createElement(u.Z,{list:g,type:"area",move:!0})),r.createElement("fieldset",null,r.createElement("label",null,r.createElement("span",null,"Code"),r.createElement("select",{value:c,onChange:(0,r.useCallback)((function(e){var t=e.target;return i(t.value)}),[])},N.map((function(e){return r.createElement("option",{key:e,value:e},e)}))))),r.createElement("table",null,r.createElement("tbody",null,r.createElement("tr",null,r.createElement("th",null,"Data"),r.createElement("th",null,"Nazwa"),r.createElement("th",null,"Kupno"),r.createElement("th",null,"Sprzedaż"),r.createElement("th",null,"Spread"),r.createElement("th",null,"Wartość"),r.createElement("th",null,"Stała"),r.createElement("th",null,"Kwota")),p.map((function(e,t){return r.createElement("tr",{key:t},r.createElement("td",{align:"right"},(0,l.Z)(e.date,"dd.MM.yyyy")),r.createElement("td",null,e.name),r.createElement("td",{align:"right"},new Intl.NumberFormat("pl-PL",{minimumFractionDigits:4}).format(e.buy)),r.createElement("td",{align:"right"},new Intl.NumberFormat("pl-PL",{minimumFractionDigits:4}).format(e.sell)),r.createElement("td",{align:"right"},new Intl.NumberFormat("pl-PL",{minimumFractionDigits:4}).format(e.spread)),r.createElement("td",{align:"right"},new Intl.NumberFormat("pl-PL",{minimumFractionDigits:2}).format(e.value)),r.createElement("td",{align:"right"},new Intl.NumberFormat("pl-PL",{minimumFractionDigits:2}).format(e.add)),r.createElement("td",{align:"right"},new Intl.NumberFormat("pl-PL",{minimumFractionDigits:2}).format(e.pay)))}))),r.createElement("tfoot",null,[p.reduce((function(e,t){var n=e.value,r=e.add,a=e.pay;return{value:n+t.value,add:r+t.add,pay:a+t.pay}}),{value:0,add:0,pay:0})].map((function(e,t){return r.createElement("tr",{key:t},r.createElement("td",{colSpan:5}),r.createElement("td",{align:"right"},new Intl.NumberFormat("pl-PL",{minimumFractionDigits:2}).format(e.value)),r.createElement("td",{align:"right"},new Intl.NumberFormat("pl-PL",{minimumFractionDigits:2}).format(e.add)),r.createElement("td",{align:"right"},new Intl.NumberFormat("pl-PL",{minimumFractionDigits:2}).format(e.pay)))})))))}},8471:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(272),a=n.n(r),l=n(2609),u=n.n(l)()(a());u.push([e.id,".B6Zp7eUYgBpjqmd1ubB8{color:purple}.HYOtY3B5vlGNT0uH_VzY{clear:both}.md3pkb8fMm3YUOeAjzY0{float:left;width:150px;height:200px}.tQM2WTe6cs7QpfRhslqC{color:#d3d3d3}.P19bo6gqrx6NwOpivm_e .ltBjGN_SfGcQnxrjG0DW.KcrPBqhF3Hx7FdbRnVRD{color:#8a2be2}","",{version:3,sources:["webpack://./src/containers/Exchange/styles.module.scss"],names:[],mappings:"AAAA,sBACE,YAAA,CAEF,sBACE,UAAA,CAEF,sBACE,UAAA,CACA,WAAA,CACA,YAAA,CAEF,sBACE,aAAA,CAIE,iEACE,aAAA",sourcesContent:[".Section {\n  color: purple;\n}\n.Row {\n  clear: both;\n}\n.Gallery {\n  float: left;\n  width: 150px;\n  height: 200px;\n}\n.Sale {\n  color: lightgray;\n}\n.Details {\n  .Feature {\n    &.changed {\n      color: blueviolet;\n    }\n  }\n}\n"],sourceRoot:""}]),u.locals={Section:"B6Zp7eUYgBpjqmd1ubB8",Row:"HYOtY3B5vlGNT0uH_VzY",Gallery:"md3pkb8fMm3YUOeAjzY0",Sale:"tQM2WTe6cs7QpfRhslqC",Details:"P19bo6gqrx6NwOpivm_e",Feature:"ltBjGN_SfGcQnxrjG0DW",changed:"KcrPBqhF3Hx7FdbRnVRD"};const o=u}}]);
//# sourceMappingURL=254.js.map