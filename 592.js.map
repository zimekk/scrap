{"version":3,"file":"592.js","mappings":"8RAWIA,EAAU,GAEdA,EAAQC,kBAAoB,IAC5BD,EAAQE,cAAgB,IAElBF,EAAQG,OAAS,SAAc,KAAM,QAE3CH,EAAQI,OAAS,IACjBJ,EAAQK,mBAAqB,IAEhB,IAAI,IAASL,GAKnB,QAAe,KAAW,WAAiB,gBAAiBM,E,87BCRnE,SAASC,EAAO,GAQb,IAPDC,EAAI,EAAJA,KACAC,EAAO,EAAPA,QACAC,EAAQ,EAARA,SAMA,OACE,yBAAOC,KAAK,QAAQH,KAAMA,EAAMC,QAASA,EAASC,SAAUA,IAchE,SAASE,EAAQ,GAA8B,IAA5BC,EAAI,EAAJA,KACjB,OACE,wBAAMC,UAAWC,EAAAA,SACdF,GACC,4BACE,gBAACG,EAAA,EAAO,CACNF,UAAWC,EAAAA,QACXE,OAA8B,iBAAfJ,EAAKK,MAAqB,CAACL,EAAKK,OAASL,EAAKK,QAE/D,gCAEE,gBAACC,EAAA,EAAI,CAACC,KAAI,wCAAmCP,EAAKQ,YAC/CR,EAAKQ,WACD,KACL,yBAAIR,EAAKL,MAAU,IAAG,WACnB,IAAIc,KAAKC,aAAa,QAAS,CAClCC,sBAAuB,IACtBC,OAAOZ,EAAKa,OAAOC,OAAM,YAAId,EAAKa,OAAOE,cAAa,QAQrE,SAASC,EAAQ,GAAwC,IAAtCC,EAAQ,EAARA,SACXC,GAAcC,EAAAA,EAAAA,UAClB,kBACEF,EAASG,QACP,SAACC,EAAQrB,GAAI,OAAKsB,OAAOC,OAAOF,G,EAAM,G,EAAsBrB,G,EAAjBA,EAAKQ,a,wGAChD,MAEJ,CAACS,IAEIO,EAsCL,GAtCcC,EAAAA,EAAAA,UAAS,CACvB,CACE9B,KAAM,UACN+B,MAAO,CAAC,OAAQ,OAAQ,OAAQ,SAElC,CACE/B,KAAM,WACN+B,MAAO,CAAC,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,SAElD,CACE/B,KAAM,eACN+B,MAAO,CACL,QAAS,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,SAGrE,CACE/B,KAAM,WACN+B,MAAO,CAAC,OAAQ,OAAQ,OAAQ,OAAQ,SAE1C,CACE/B,KAAM,kBACN+B,MAAO,CACL,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAChE,OAAQ,OAAQ,OAAQ,SAG5B,CACE/B,KAAM,aACN+B,MAAO,CAAC,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,UAElD,CACE/B,KAAM,iBACN+B,MAAO,CAAC,OAAQ,SAElB,CACE/B,KAAM,aACN+B,MAAO,CAAC,EAAG,WAEb,GAtCU,GAyCX,KAF+BD,EAAAA,EAAAA,WAAmB,kBACjDD,EAAMG,KAAI,YAAQ,SAALD,MAAkB,MAAIE,OAAOC,YAC3C,GAFMC,EAAQ,KAAEC,EAAW,KAI5B,OACE,2BACGP,EAAMG,KAAI,WAAkBK,GAAG,IAAlBrC,EAAI,EAAJA,KAAM+B,EAAK,EAALA,MAAK,OACvB,uBAAKM,IAAKA,GACR,0BAAKrC,GACJ+B,EAAME,OAAOC,SAASF,KAAI,SAACM,GAAE,OAC5B,uBAAKD,IAAKC,EAAIhC,UAAWC,EAAAA,KACvB,gBAACR,EAAM,CACLC,KAAMA,EACNC,QAASkC,EAASI,SAASD,GAC3BpC,UAAUsC,EAAAA,EAAAA,cACR,YAA+C,IAA5CC,EAAM,EAANA,OACDL,GAAY,SAACD,GAAQ,OACnBA,EACGF,QAAO,SAACK,GAAE,OAAMP,EAAMQ,SAASD,MAC/BI,OAAOD,EAAOxC,QAAU,CAACqC,GAAM,SAGtC,CAACP,MAGL,gBAAC3B,EAAO,CAACC,KAAMkB,EAAYoB,OAAOL,cAK1C,2BACE,qCACA,qCAAS,IAAIxB,KAAKC,aAAa,QAAS,CACtCC,sBAAuB,IACtBC,OACDkB,EACGH,KAAI,SAACM,GAAE,OAAKf,EAAYe,MACxBL,OAAOC,SACPF,KAAI,SAACY,GAAO,OAAKA,EAAQ1B,OAAOC,SAChCM,QAAO,SAACoB,EAAK1B,GAAK,OAAK0B,EAAM1B,IAAO,IACxC,WAMM,SAAS2B,IACtB,IAAOxB,EAAkE,GAAtDQ,EAAAA,EAAAA,WAAqB,kBAAMiB,EAAQ,SAAmB,GAA1D,GAGf,OAFAC,QAAQC,IAAI,CAAE3B,SAAAA,IAGZ,uBAAKhB,UAAWC,EAAAA,SACd,qCACA,gBAACc,EAAO,CAACC,SAAUA,O,gECrKrB4B,E,MAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOd,GAAI,8TAA+T,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,yDAAyD,MAAQ,GAAG,SAAW,qLAAqL,eAAiB,CAAC,gXAAgX,WAAa,MAEthCY,EAAwBG,OAAS,CAChC,QAAW,uBACX,IAAO,uBACP,QAAW,uBACX,QAAW,wBAEZ,W,iECVO,SAASC,EAAaC,EAASC,GAElC,YADkB,IAAdA,IAAwBA,EAAY,MACjC,QAAQ,SAAUC,EAAQC,GAC7B,IAAIC,EAAa,KACbC,EAAY,KACZC,EAAW,KACXC,EAAO,WACP,GAAIH,EAAY,CACZA,EAAWI,cACXJ,EAAa,KACb,IAAIK,EAAQJ,EACZA,EAAY,KACZF,EAAWO,KAAKD,KAGxB,SAASE,IACL,IAAIC,EAAaN,EAAWN,EACxBa,EAAMZ,EAAUY,MACpB,GAAIA,EAAMD,EAGN,OAFAR,EAAaU,KAAKC,cAASxE,EAAWqE,EAAaC,QACnDV,EAAWa,IAAIZ,GAGnBG,IAEJL,EAAOe,WAAU,OAAyBd,GAAY,SAAUM,GAC5DJ,EAAYI,EACZH,EAAWL,EAAUY,MAChBT,IACDA,EAAaH,EAAUc,SAASJ,EAAcX,GAC9CG,EAAWa,IAAIZ,OAEpB,WACCG,IACAJ,EAAWe,kBACZ3E,GAAW,WACV8D,EAAYD,EAAa,c","sources":["webpack://@dev/web/./src/containers/Builder/styles.module.scss?267e","webpack://@dev/web/./src/containers/Builder/index.tsx","webpack://@dev/web/./src/containers/Builder/styles.module.scss","webpack://@dev/web/../../node_modules/rxjs/dist/esm5/internal/operators/debounceTime.js"],"sourcesContent":["\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./styles.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./styles.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, {\n  ChangeEvent,\n  ChangeEventHandler,\n  useCallback,\n  useMemo,\n  useState,\n} from \"react\";\n// import { createAsset } from \"use-asset\";\nimport { Gallery } from \"../../components/Gallery\";\nimport { Link } from \"../../components/Link\";\nimport styles from \"./styles.module.scss\";\n\n// https://github.com/pmndrs/use-asset#dealing-with-async-assets\n// const asset = createAsset(async (version) => {\n//   const res = await fetch(`api/games/data.json?${version}`);\n//   return await res.json().then(({ Products }) => ({ results: Products }));\n// });\n\nfunction Select({\n  name,\n  checked,\n  onChange,\n}: {\n  name: string;\n  checked: boolean;\n  onChange: ChangeEventHandler;\n}) {\n  return (\n    <input type=\"radio\" name={name} checked={checked} onChange={onChange} />\n  );\n}\n\n// copy(JSON.parse(document.querySelector('script[type=\"application/ld+json\"]').textContent))\n\ninterface IProduct {\n  name: string;\n  productID: string;\n  image: string[];\n  brand: { name: string };\n  offers: { price: number; priceCurrency: \"PLN\" };\n}\n\nfunction Product({ item }: { item: IProduct }) {\n  return (\n    <span className={styles.Product}>\n      {item && (\n        <span>\n          <Gallery\n            className={styles.Gallery}\n            images={typeof item.image === \"string\" ? [item.image] : item.image}\n          />\n          <span>\n            [\n            <Link href={`https://www.x-kom.pl/szukaj?q=${item.productID}`}>\n              {item.productID}\n            </Link>\n            ] <b>{item.name}</b>{\" \"}\n            {`(${new Intl.NumberFormat(\"pl-PL\", {\n              minimumFractionDigits: 2,\n            }).format(item.offers.price)} ${item.offers.priceCurrency})`}\n          </span>\n        </span>\n      )}\n    </span>\n  );\n}\n\nfunction Builder({ products }: { products: IProduct[] }) {\n  const productById = useMemo<Record<string, IProduct>>(\n    () =>\n      products.reduce(\n        (result, item) => Object.assign(result, { [item.productID]: item }),\n        {}\n      ),\n    [products]\n  );\n  const [parts] = useState([\n    {\n      name: \"Obudowa\",\n      items: [703392, 623745, 585790, 613706],\n    },\n    {\n      name: \"Zasilacz\",\n      items: [660704, 421617, 335572, 578560, 625399, 575663],\n    },\n    {\n      name: \"Płyta główna\",\n      items: [\n        1065857, 572284, 569337, 569339, 722483, 533018, 504430, 613674, 693244,\n      ],\n    },\n    {\n      name: \"Procesor\",\n      items: [735703, 735696, 665238, 597430, 702238],\n    },\n    {\n      name: \"Karta graficzna\",\n      items: [\n        507702, 699932, 332036, 676398, 662309, 541516, 733918, 715688, 717581,\n        319739, 669592, 646267, 735397,\n      ],\n    },\n    {\n      name: \"Pamięć RAM\",\n      items: [440686, 667295, 649156, 624120, 440683, 1043023],\n    },\n    {\n      name: \"Chłodzenie CPU\",\n      items: [691059, 453536],\n    },\n    {\n      name: \"Wentylator\",\n      items: [0, 290551],\n    },\n  ]);\n  const [selected, setSelected] = useState<number[]>(() =>\n    parts.map(({ items }) => items[0]).filter(Boolean)\n  );\n\n  return (\n    <div>\n      {parts.map(({ name, items }, key) => (\n        <div key={key}>\n          <h4>{name}</h4>\n          {items.filter(Boolean).map((id) => (\n            <div key={id} className={styles.Row}>\n              <Select\n                name={name}\n                checked={selected.includes(id)}\n                onChange={useCallback(\n                  ({ target }: ChangeEvent<HTMLInputElement>) => {\n                    setSelected((selected) =>\n                      selected\n                        .filter((id) => !items.includes(id))\n                        .concat(target.checked ? [id] : [])\n                    );\n                  },\n                  [items]\n                )}\n              />\n              <Product item={productById[String(id)]} />\n            </div>\n          ))}\n        </div>\n      ))}\n      <div>\n        <h3>Summary</h3>\n        <div>{`${new Intl.NumberFormat(\"pl-PL\", {\n          minimumFractionDigits: 2,\n        }).format(\n          selected\n            .map((id) => productById[id])\n            .filter(Boolean)\n            .map((product) => product.offers.price)\n            .reduce((sum, price) => sum + price, 0)\n        )} PLN`}</div>\n      </div>\n    </div>\n  );\n}\n\nexport default function Section() {\n  const [products] = useState<IProduct[]>(() => require(\"./products.json\"));\n  console.log({ products });\n\n  return (\n    <div className={styles.Section}>\n      <h2>Builder</h2>\n      <Builder products={products} />\n    </div>\n  );\n}\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".OITQaCW7R48N4i7tfHU_{color:purple;padding:1em}.H9pHRzhIXD8OmuEIxYtq{position:relative;clear:both;height:100px;padding:1em;border-top:1px solid #d3d3d3}.wQEPwa9rQjah9avFlcKV{position:absolute;top:1em;right:1em;width:100px;height:100px;border:1px solid #d3d3d3}.HvJIERGnrVszQAuh1lQ5{margin-top:.5em;padding-top:.5em}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/containers/Builder/styles.module.scss\"],\"names\":[],\"mappings\":\"AAAA,sBACE,YAAA,CACA,WAAA,CAEF,sBACE,iBAAA,CACA,UAAA,CACA,YAAA,CACA,WAAA,CACA,4BAAA,CAEF,sBACE,iBAAA,CACA,OAAA,CACA,SAAA,CACA,WAAA,CACA,YAAA,CACA,wBAAA,CAEF,sBACE,eAAA,CACA,gBAAA\",\"sourcesContent\":[\".Section {\\n  color: purple;\\n  padding: 1em;\\n}\\n.Row {\\n  position: relative;\\n  clear: both;\\n  height: 100px;\\n  padding: 1em;\\n  border-top: 1px solid lightgray;\\n}\\n.Gallery {\\n  position: absolute;\\n  top: 1em;\\n  right: 1em;\\n  width: 100px;\\n  height: 100px;\\n  border: 1px solid lightgray;\\n}\\n.Product {\\n  margin-top: 0.5em;\\n  padding-top: 0.5em;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"Section\": \"OITQaCW7R48N4i7tfHU_\",\n\t\"Row\": \"H9pHRzhIXD8OmuEIxYtq\",\n\t\"Gallery\": \"wQEPwa9rQjah9avFlcKV\",\n\t\"Product\": \"HvJIERGnrVszQAuh1lQ5\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","import { asyncScheduler } from '../scheduler/async';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function debounceTime(dueTime, scheduler) {\n    if (scheduler === void 0) { scheduler = asyncScheduler; }\n    return operate(function (source, subscriber) {\n        var activeTask = null;\n        var lastValue = null;\n        var lastTime = null;\n        var emit = function () {\n            if (activeTask) {\n                activeTask.unsubscribe();\n                activeTask = null;\n                var value = lastValue;\n                lastValue = null;\n                subscriber.next(value);\n            }\n        };\n        function emitWhenIdle() {\n            var targetTime = lastTime + dueTime;\n            var now = scheduler.now();\n            if (now < targetTime) {\n                activeTask = this.schedule(undefined, targetTime - now);\n                subscriber.add(activeTask);\n                return;\n            }\n            emit();\n        }\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n            lastValue = value;\n            lastTime = scheduler.now();\n            if (!activeTask) {\n                activeTask = scheduler.schedule(emitWhenIdle, dueTime);\n                subscriber.add(activeTask);\n            }\n        }, function () {\n            emit();\n            subscriber.complete();\n        }, undefined, function () {\n            lastValue = activeTask = null;\n        }));\n    });\n}\n//# sourceMappingURL=debounceTime.js.map"],"names":["options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","undefined","Select","name","checked","onChange","type","Product","item","className","styles","Gallery","images","image","Link","href","productID","Intl","NumberFormat","minimumFractionDigits","format","offers","price","priceCurrency","Builder","products","productById","useMemo","reduce","result","Object","assign","parts","useState","items","map","filter","Boolean","selected","setSelected","key","id","includes","useCallback","target","concat","String","product","sum","Section","require","console","log","___CSS_LOADER_EXPORT___","push","module","locals","debounceTime","dueTime","scheduler","source","subscriber","activeTask","lastValue","lastTime","emit","unsubscribe","value","next","emitWhenIdle","targetTime","now","this","schedule","add","subscribe","complete"],"sourceRoot":""}